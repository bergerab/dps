// generated using template: cop_main.template---------------------------------------------
/******************************************************************************************
**
**  Module Name: cop_main.c
**  NOTE: Automatically generated file. DO NOT MODIFY!
**  Description:
**            Main file
**
******************************************************************************************/
// generated using template: arm/custom_include.template-----------------------------------

#include "math.h"

// x86 libraries:
#include "../include/sp_functions_dev0.h"

// H files from Advanced C Function components
//#include "example_dll.h"

// Header files from additional sources (Advanced C Function)
// ----------------------------------------------------------------------------------------
// generated using template: VirtualHIL/custom_defines.template----------------------------

typedef unsigned char X_UnInt8;
typedef char X_Int8;
typedef signed short X_Int16;
typedef unsigned short X_UnInt16;
typedef int X_Int32;
typedef unsigned int X_UnInt32;
typedef unsigned int uint;
typedef double real;

// ----------------------------------------------------------------------------------------
// generated using template: custom_consts.template----------------------------------------

// arithmetic constants
#define C_SQRT_2                    1.4142135623730950488016887242097f
#define C_SQRT_3                    1.7320508075688772935274463415059f
#define C_PI                        3.1415926535897932384626433832795f
#define C_E                         2.7182818284590452353602874713527f
#define C_2PI                       6.283185307179586476925286766559f

//@cmp.def.start
//component defines


































































































































































































































































































































































































































#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f






































#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f



































































































































#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f





#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f

#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f

#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f

#define SQRT_2OVER3 0.8164965809277260327324280249019f
#define SQRT3_OVER_2 0.8660254037844386467637231707529f
#define ONE_DIV_BY_SQRT_3 0.57735026918962576450914878f



































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#define MIN(a,b) (((a)<(b))?(a):(b))
#define MAX(a,b) (((a)>(b))?(a):(b))

#define MIN(a,b) (((a)<(b))?(a):(b))
#define MAX(a,b) (((a)>(b))?(a):(b))

























































#define MIN(a,b) (((a)<(b))?(a):(b))
#define MAX(a,b) (((a)>(b))?(a):(b))

#define MIN(a,b) (((a)<(b))?(a):(b))
#define MAX(a,b) (((a)>(b))?(a):(b))












//@cmp.def.end

//#define SP_SCOPE_FILE_DEBUG
#define SP_SCOPE_BUFF_SIZE (4194304*4)
#define SP_SCOPE_BUFF_SIZE_PER_ER (SP_SCOPE_BUFF_SIZE/4)

//-----------------------------------------------------------------------------------------
// generated using template: common_variables.template-------------------------------------
// true global variables

extern X_UnInt8* sp_scope_buffer_dev0;
extern FILE* f_sp_scope_debug;
X_UnInt32 sp_scope_buff_addr_er0_dev0;
X_UnInt32 sp_scope_buff_start_addr_er0_dev0;
X_UnInt32 sp_scope_buff_index_er0_dev0;
X_UnInt32 sp_scope_buff_addr_er1_dev0;
X_UnInt32 sp_scope_buff_start_addr_er1_dev0;
X_UnInt32 sp_scope_buff_index_er1_dev0;
X_UnInt32 sp_scope_buff_addr_er2_dev0;
X_UnInt32 sp_scope_buff_start_addr_er2_dev0;
X_UnInt32 sp_scope_buff_index_er2_dev0;

//@cmp.var.start
// variables
double _back_up_dg_in_gen_control_mode__out;
double _back_up_dg_in_gen_op_mode__out;
double _back_up_dg_in_gen_on__out;
double _back_up_dg_in_load_share__out;
double _back_up_dg_in_load_share_on__out;
double _back_up_dg_in_pref__out;
double _back_up_dg_in_vref__out;
double _back_up_dg_in_pf_ref__out;
double _back_up_dg_in_wref__out;
double _back_up_diesel_gen_control_exciter_const__out = 0.0;
double _back_up_diesel_gen_control_exciter_dc4b_kf__out;
double _back_up_diesel_gen_control_exciter_dc4b_one__out = 1.0;
double _back_up_diesel_gen_control_exciter_one__out = 1.0;
double _back_up_diesel_gen_control_exciter_v_inner_droop__out = 0.1;
double _back_up_diesel_gen_control_exciter_vpss__out = 0.0;
double _back_up_diesel_gen_control_exciter_zero__out = 0.0;
double _back_up_diesel_gen_control_freq_setpoint_control_p_droop__out = 2.7;
double _back_up_diesel_gen_control_freq_setpoint_control_w_droop__out = 0.1;
double _back_up_diesel_gen_control_freq_setpoint_control_zero1__out = 0.0;
double _back_up_diesel_gen_control_governor_and_engine_degov_kp__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__out;
unsigned int _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__i;
double _back_up_diesel_gen_control_governor_and_engine_inner_w_droop__out = 0.1;
double _back_up_diesel_gen_control_governor_and_engine_zero__out = 0.0;
double _back_up_diesel_gen_control_start_exciter_steadystate_w__out = 1.0;
double _back_up_diesel_gen_control_unit_delay1__out;
double _back_up_diesel_gen_control_unit_delay2__out;
double _back_up_diesel_gen_control_unit_delay3__out;
double _back_up_diesel_gen_control_check_steady_state_w_constant3__out = 188.49555921538757;
double _back_up_diesel_gen_control_pf_control_constant1__out = 1.4285714285714286e-06;
double _back_up_diesel_gen_control_pf_control_zero1__out = 0.0;
double _back_up_diesel_gen_gen_machine_wrapper1__speed_out;
double _back_up_diesel_gen_gen_machine_wrapper1__torque_out;
double _back_up_diesel_gen_gen_machine_wrapper1__angle_out;
double _back_up_diesel_gen_ggrid_meas_va_va1__out;
double _back_up_diesel_gen_ggrid_meas_vb_va1__out;
double _back_up_diesel_gen_ggrid_meas_vc_va1__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q;


double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out;
double _back_up_diesel_gen_measurements_gain10__out;
double _back_up_diesel_gen_measurements_ia_ia1__out;
double _back_up_diesel_gen_measurements_ib_ia1__out;
double _back_up_diesel_gen_measurements_ic_ia1__out;
double _back_up_diesel_gen_measurements_va_va1__out;
double _back_up_diesel_gen_measurements_vb_va1__out;
double _back_up_diesel_gen_measurements_vc_va1__out;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__out;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_dw_k__out;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_zero__out = 0.0;
double _back_up_diesel_gen_sync_check_contactor_control_close__out = 1.0;
double _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__out;
double _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
double _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out_n;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_abs4__out;
double _back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_one__out = 1.0;
double _back_up_diesel_gen_sync_check_check_v_diff_one1__out = 1.0;
double _back_up_diesel_gen_sync_check_check_v_diff_zero__out = 0.0;
double _back_up_diesel_gen_sync_check_check_f_diff_abs3__out;
double _back_up_diesel_gen_sync_check_check_f_diff_constant1__out = 60.0;
double _back_up_diesel_gen_sync_check_check_f_diff_topu__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_abs2__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_0__out = 0.0;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_1__out = 1.0;
double _back_up_diesel_gen_sync_check_check_phase_diff_one__out = 1.0;
double _back_up_diesel_gen_sync_check_check_phase_diff_to_pu__out;
double _back_up_enable__out;
double _dg_800kw_diesel_gen_control_exciter_const__out = 0.0;
double _dg_800kw_diesel_gen_control_exciter_dc4b_kf__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_one__out = 1.0;
double _dg_800kw_diesel_gen_control_exciter_one__out = 1.0;
double _dg_800kw_diesel_gen_control_exciter_v_inner_droop__out = 0.1;
double _dg_800kw_diesel_gen_control_exciter_vpss__out = 0.0;
double _dg_800kw_diesel_gen_control_exciter_zero__out = 0.0;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_p_droop__out = 2.7;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_w_droop__out = 0.1;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_zero1__out = 0.0;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_kp__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__out;
unsigned int _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__i;
double _dg_800kw_diesel_gen_control_governor_and_engine_inner_w_droop__out = 0.1;
double _dg_800kw_diesel_gen_control_governor_and_engine_zero__out = 0.0;
double _dg_800kw_diesel_gen_control_start_exciter_steadystate_w__out = 1.0;
double _dg_800kw_diesel_gen_control_unit_delay1__out;
double _dg_800kw_diesel_gen_control_unit_delay2__out;
double _dg_800kw_diesel_gen_control_unit_delay3__out;
double _dg_800kw_diesel_gen_control_check_steady_state_w_constant3__out = 188.49555921538757;
double _dg_800kw_diesel_gen_control_pf_control_constant1__out = 9.372071227741332e-08;
double _dg_800kw_diesel_gen_control_pf_control_zero1__out = 0.0;
double _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out;
double _dg_800kw_diesel_gen_gen_machine_wrapper1__torque_out;
double _dg_800kw_diesel_gen_gen_machine_wrapper1__angle_out;
double _dg_800kw_diesel_gen_ggrid_meas_va_va1__out;
double _dg_800kw_diesel_gen_ggrid_meas_vb_va1__out;
double _dg_800kw_diesel_gen_ggrid_meas_vc_va1__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q;


double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out;
double _dg_800kw_diesel_gen_measurements_constant1__out = 7.1;
double _dg_800kw_diesel_gen_measurements_ia_ia1__out;
double _dg_800kw_diesel_gen_measurements_ib_ia1__out;
double _dg_800kw_diesel_gen_measurements_ic_ia1__out;
double _dg_800kw_diesel_gen_measurements_va_va1__out;
double _dg_800kw_diesel_gen_measurements_vb_va1__out;
double _dg_800kw_diesel_gen_measurements_vc_va1__out;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__out;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_dw_k__out;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_zero__out = 0.0;
double _dg_800kw_diesel_gen_sync_check_contactor_control_close__out = 1.0;
double _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out_n;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_abs4__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_one1__out = 1.0;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_zero__out = 0.0;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_abs3__out;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_constant1__out = 60.0;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_topu__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_abs2__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_0__out = 0.0;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_1__out = 1.0;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_one__out = 1.0;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_to_pu__out;
double _dg_800kw_gen_control_mode__out;
double _dg_800kw_gen_op_mode__out;
double _dg_800kw_gen_on__out;
double _dg_800kw_load_share__out;
double _dg_800kw_load_share_on__out;
double _dg_800kw_pref__out;
double _dg_800kw_qref__out;
double _dg_800kw_vref__out;
double _dg_800kw_wref__out;
double _ess_battery_1_soc__out;
double _ess_battery_inverter_control_imode_control_constant1__out = 1.0;
double _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__out;
double _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__out;
double _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__constant6__out = 1.0;
double _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__constant7__out = 0.05;
double _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__out;
double _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__out;
double _ess_battery_inverter_control_pll_pu_pll_unit_delay1__out;
double _ess_battery_inverter_control_pll_pu_pll_to_hz__out;
double _ess_battery_inverter_control_power_meas_gain1__out;
double _ess_battery_inverter_control_power_meas_gain2__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__P;
double _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__Q;


double _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__S;
double _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__pf;
double _ess_battery_inverter_control_synch_check_grid___1_5_hz__out = 0.16666666666666666;
double _ess_battery_inverter_control_synch_check_grid___10___out = 0.1;
double _ess_battery_inverter_control_synch_check_grid_nominal_frequency__out = 1.0;
double _ess_battery_inverter_control_synch_check_grid_nominal_voltage__out = 1.0;
double _ess_battery_inverter_control_synch_check_nominal_conditions___1_5_hz__out = 0.16666666666666666;
double _ess_battery_inverter_control_synch_check_nominal_conditions___10___out = 0.1;
double _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_nominal_frequency__out = 1.0;
double _ess_battery_inverter_control_synch_check_nominal_conditions_nominal_voltage__out = 1.0;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__out;
double _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__out;
double _ess_battery_inverter_control_synch_pll_util_pll_to_hz__out;
double _ess_battery_inverter_control_synch_vmatch_constant2__out = 1.0;
double _ess_battery_inverter_control_synch_vmatch_constant3__out = 0.0;
double _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__out;
double _ess_battery_inverter_control_synch_vmatch_counter1_const_value_0__out = 0.0;
double _ess_battery_inverter_control_synch_vmatch_counter1_const_value_1__out = 1.0;
double _ess_battery_inverter_control_synch_vmatch_unit_delay3__out;
double _ess_battery_inverter_control_synch_vmatch_unit_delay4__out;
double _ess_battery_inverter_control_synch_vmatch_unit_delay5__out;
double _ess_battery_inverter_control_synch_f_match_constant1__out = 1.0;
double _ess_battery_inverter_control_synch_f_match_constant3__out = 0.0;
double _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__out;
double _ess_battery_inverter_control_synch_f_match_counter1_const_value_0__out = 0.0;
double _ess_battery_inverter_control_synch_f_match_counter1_const_value_1__out = 1.0;
double _ess_battery_inverter_control_synch_f_match_delay1__out;
unsigned int _ess_battery_inverter_control_synch_f_match_delay1__i;
double _ess_battery_inverter_control_synch_f_match_unit_delay1__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__out;
double _ess_battery_inverter_control_synch_phase_match_constant2__out = 1.0;
double _ess_battery_inverter_control_synch_phase_match_constant4__out = 0.0;
double _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__out;
double _ess_battery_inverter_control_synch_phase_match_counter1_const_value_0__out = 0.0;
double _ess_battery_inverter_control_synch_phase_match_counter1_const_value_1__out = 1.0;
double _ess_battery_inverter_control_synch_phase_match_unit_delay3__out;
double _ess_battery_inverter_control_synch_phase_match_unit_delay4__out;
double _ess_battery_inverter_control_synch_phase_match_unit_delay5__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__out;
double _ess_battery_inverter_control_vmode_control_constant1__out = 0.0;
double _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__out;
double _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_constant1__out = 0.0;
double _ess_battery_inverter_control_duty_cycle_zsm_constant1__out = 0.5;
double _ess_battery_inverter_control_duty_cycle_zsm_constant2__out = 1.0;
double _ess_battery_inverter_control_duty_cycle_zsm_constant3__out = 1.0;
double _ess_battery_inverter_control_duty_cycle_zsm_constant4__out = 1.0;
double _ess_battery_inverter_control_duty_cycle_o_ref__out = 0.0;
double _ess_battery_inverter_converter_meas_va_va1__out;
double _ess_battery_inverter_converter_meas_vb_va1__out;
double _ess_battery_inverter_converter_meas_vc_va1__out;
double _ess_battery_inverter_grid_meas_va_va1__out;
double _ess_battery_inverter_grid_meas_vb_va1__out;
double _ess_battery_inverter_grid_meas_vc_va1__out;
double _ess_battery_inverter_ia_ia1__out;
double _ess_battery_inverter_ia_out_ia1__out;
double _ess_battery_inverter_ib_ia1__out;
double _ess_battery_inverter_ib_out_ia1__out;
double _ess_battery_inverter_ic_ia1__out;
double _ess_battery_inverter_ic_out_ia1__out;
double _ess_battery_inverter_idc_1_ia1__out;
double _ess_battery_inverter_vdc_va1__out;
double _ess_on__out;
double _ess_pref__out;
double _ess_qref__out;
double _ess_vref__out;
double _ess_f_ref__out;
double _ess_mode__out;
double _fuel_cell_connect__out;
double _fuel_cell_enable__out;
double _fuel_cell_pref_fc__out;
double _fuel_cell_q_mode__out;
double _fuel_cell_q_ref__out;
double _fuel_cell_sofc_inverter_control_grid_follow_constant2__out = 0.0;
double _fuel_cell_sofc_inverter_control_grid_follow_constant3__out = 1.0;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_damp__out = 0.0;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_limit3__out;
double _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain4__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__P;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__Q;


double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__S;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__pf;
double _fuel_cell_sofc_inverter_control_pll_constant1__out = 0.0;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__out;
double _fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out;
double _fuel_cell_sofc_inverter_control_pll_pll_to_hz__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant1__out = 0.5;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant2__out = 1.0;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant3__out = 1.0;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant4__out = 1.0;
double _fuel_cell_sofc_inverter_control_duty_cycle_o_ref__out = 0.0;
double _fuel_cell_sofc_inverter_fc_idc_ia1__out;
double _fuel_cell_sofc_inverter_ia_ia1__out;
double _fuel_cell_sofc_inverter_ib_ia1__out;
double _fuel_cell_sofc_inverter_ic_ia1__out;
double _fuel_cell_sofc_inverter_sofc_ia1_ia1__out;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator1__out;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator3__out;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator4__out;
double _fuel_cell_sofc_inverter_va_va1__out;
double _fuel_cell_sofc_inverter_vb_va1__out;
double _fuel_cell_sofc_inverter_vc_va1__out;
double _fuel_cell_sofc_inverter_vdc_va1__out;
double _fuel_cell_v_ref__out;
double _load_100___ia_ia1__out;
double _load_100___ib_ia1__out;
double _load_100___ic_ia1__out;
double _load_25___ia1_ia1__out;
double _load_25___ia2_ia1__out;
double _load_25___ia3_ia1__out;
double _load_50___ia1_ia1__out;
double _load_50___ia2_ia1__out;
double _load_50___ia3_ia1__out;
double _load_75___ia1_ia1__out;
double _load_75___ia2_ia1__out;
double _load_75___ia3_ia1__out;
double _microgrid_controller_constant1__out = 0.0;
double _microgrid_controller_constant2__out = 0.0;
double _microgrid_controller_constant3__out = 0.0;
double _microgrid_controller_constant4__out = 0.0;
double _pcc_monitor_ia_ia1__out;
double _pcc_monitor_ib_ia1__out;
double _pcc_monitor_ic_ia1__out;
double _pcc_monitor_sr_flip_flop4__out;
double _pcc_monitor_sr_flip_flop4__out_n;
double _pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__out;
double _pcc_monitor_synch_check_calculate_dw_synch_zero__out = 0.0;
double _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out;
double _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out_n;
double _pcc_monitor_synch_check_plls_pll_gain1__out;
double _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__d;
double _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q;


double _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q_pu;
double _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t;
double _pcc_monitor_synch_check_plls_pll_pid_integrator1__out;
double _pcc_monitor_synch_check_plls_pll_pid_integrator2__out;
double _pcc_monitor_synch_check_plls_pll_unit_delay1__out;
double _pcc_monitor_synch_check_plls_pll1_gain1__out;
double _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__d;
double _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q;


double _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q_pu;
double _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t;
double _pcc_monitor_synch_check_plls_pll1_pid_integrator1__out;
double _pcc_monitor_synch_check_plls_pll1_pid_integrator2__out;
double _pcc_monitor_synch_check_plls_pll1_unit_delay1__out;
double _pcc_monitor_synch_check_check_v_diff_unit_delay1__out;
double _pcc_monitor_synch_check_check_v_diff_one__out = 1.0;
double _pcc_monitor_synch_check_check_v_diff_zero__out = 0.0;
double _pcc_monitor_synch_check_check_f_diff_abs3__out;
double _pcc_monitor_synch_check_check_f_diff_constant1__out = 60.0;
double _pcc_monitor_synch_check_check_f_diff_pi_integrator1__out;
double _pcc_monitor_synch_check_check_f_diff_topu__out;
double _pcc_monitor_synch_check_check_phase_diff_abs2__out;
double _pcc_monitor_synch_check_check_phase_diff_counter_constant3__out = 500.0;
double _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__out;
double _pcc_monitor_synch_check_check_phase_diff_counter_counter1_const_value_0__out = 0.0;
double _pcc_monitor_synch_check_check_phase_diff_counter_counter1_const_value_1__out = 1.0;
double _pcc_monitor_synch_check_check_phase_diff_one__out = 1.0;
double _pcc_monitor_synch_check_check_phase_diff_to_pu__out;
double _pcc_monitor_va_va1__out;
double _pcc_monitor_vb_va1__out;
double _pcc_monitor_vc_va1__out;
double _pcc_monitor_va_va1_1__out;
double _pcc_monitor_vb_va1_1__out;
double _pcc_monitor_vc_va1_1__out;
double _secondary_ia_ia1__out;
double _secondary_ib_ia1__out;
double _secondary_ic_ia1__out;
double _secondary_va_va1__out;
double _secondary_vb_va1__out;
double _secondary_vc_va1__out;
double _c_option__out;
double _op_mode__out;
double _back_up_dg_in_delay__counter;
double _back_up_dg_in_delay__in;


double _back_up_dg_in_delay__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf4__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf4__b_coeff[2] = {9803.92156862747, -9803.921568627435};
double _back_up_diesel_gen_control_exciter_dc4b_tf4__a_coeff[2] = {1.0, 0.9607843137254902};
double _back_up_diesel_gen_control_exciter_dc4b_tf4__a_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf4__b_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf4__delay_line_in;
X_UnInt32 _back_up_diesel_gen_control_exciter_dc4b_tf4__i;
double _back_up_diesel_gen_control_exciter_dc4b_switch__out;
double _back_up_diesel_gen_control_exciter_one_ov_sqrt_3__out;
double _back_up_diesel_gen_control_exciter_sum1__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_k__out;
double _back_up_diesel_gen_control_governor_and_engine_tpu_to_t__out;
double _back_up_diesel_gen_control_start_exciter_exciter_start_speed__out;
double _back_up_diesel_gen_control_check_steady_state_w_speed_diff__out;
double _back_up_diesel_gen_control_freq_setpoint_control_w_to_wpu__out;
double _back_up_diesel_gen_control_governor_and_engine_w_to_wpu__out;
double _back_up_diesel_gen_control_start_exciter_w_to_wpu__out;
double _back_up_diesel_gen_control_check_steady_state_w_sum3__out;
double _back_up_diesel_gen_ggrid_meas_bus_join1__out[3];
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kd__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_ki__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kp__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__gamma;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__P0dc;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_zero;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_zero;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out;
float _back_up_diesel_gen_sync_check_contactor_control_gcb_cmd__tmp;
double _back_up_diesel_gen_sync_check_not__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pu1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_volt_diff__out;
double _back_up_diesel_gen_sync_check_check_v_diff_vgrid_lowlim__out;
double _back_up_diesel_gen_sync_check_check_v_diff_vgrid_uplim__out;
double _back_up_diesel_gen_sync_check_check_f_diff_freq_diff__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__counter;


double _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_phase_diff__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_ki__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_kp__out;
double _back_up_interface_bus_split1__out;
double _back_up_interface_bus_split1__out1;
double _back_up_interface_bus_split1__out2;
double _back_up_interface_bus_split1__out3;
double _back_up_interface_bus_split1__out4;
double _back_up_interface_sm__enable_in;
double _back_up_interface_sm__force_off;


double _back_up_interface_sm__enable;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_coeff[2] = {9803.92156862747, -9803.921568627435};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__a_coeff[2] = {1.0, 0.9607843137254902};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__a_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i;
double _dg_800kw_diesel_gen_control_exciter_dc4b_switch__out;
double _dg_800kw_diesel_gen_control_exciter_one_ov_sqrt_3__out;
double _dg_800kw_diesel_gen_control_exciter_sum1__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_k__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_tpu_to_t__out;
double _dg_800kw_diesel_gen_control_start_exciter_exciter_start_speed__out;
double _dg_800kw_diesel_gen_control_check_steady_state_w_speed_diff__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_w_to_wpu__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_w_to_wpu__out;
double _dg_800kw_diesel_gen_control_start_exciter_w_to_wpu__out;
double _dg_800kw_diesel_gen_control_check_steady_state_w_sum3__out;
double _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[3];
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kd__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_ki__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kp__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__gamma;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__P0dc;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_zero;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_zero;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out;
float _dg_800kw_diesel_gen_sync_check_contactor_control_gcb_cmd__tmp;
double _dg_800kw_diesel_gen_sync_check_not__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pu1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_vgrid_lowlim__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_vgrid_uplim__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_volt_diff__out;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_freq_diff__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__counter;


double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_phase_diff__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_ki__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_kp__out;
double _dg_800kw_interface_bus_split1__out;
double _dg_800kw_interface_bus_split1__out1;
double _dg_800kw_interface_bus_split1__out2;
double _dg_800kw_interface_bus_split1__out3;
double _dg_800kw_interface_bus_split1__out4;
double _ess_battery_1_gainsoc__out;
double _ess_battery_inverter_control_pll_pu_gain6__out;
double _ess_battery_inverter_control_power_meas_gain3__out;
double _ess_battery_inverter_control_synch_phase_match_sum3__out;
double _ess_battery_inverter_control_synch_pll_util_gain5__out;
double _ess_battery_inverter_control_synch_vmatch_phase_diff__out;
double _ess_battery_inverter_control_synch_vmatch_c_function__counter;


double _ess_battery_inverter_control_synch_vmatch_c_function__out;
double _ess_battery_inverter_control_synch_vmatch_phase_diff1__out;
double _ess_battery_inverter_control_synch_f_match_freq_diff__out;
double _ess_battery_inverter_control_synch_f_match_c_function__counter;


double _ess_battery_inverter_control_synch_f_match_c_function__out;
float _ess_battery_inverter_control_synch_freq_lock__tmp;
double _ess_battery_inverter_control_synch_phase_match_pi_integrator1__out;
double _ess_battery_inverter_control_synch_f_match_freq_diff1__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_b1__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_b2__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_a1__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_a2__out;
double _ess_battery_inverter_control_synch_phase_match_phase_diff__out;
double _ess_battery_inverter_control_synch_phase_match_c_function__counter;


double _ess_battery_inverter_control_synch_phase_match_c_function__out;
double _ess_battery_inverter_control_synch_phase_match_phase_diff1__out;
float _ess_battery_inverter_control_synch_phase_lock__tmp;
double _ess_battery_inverter_control_synch_phase_match_low_pass_b1__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_b2__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_a1__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_a2__out;
double _ess_battery_inverter_control_duty_cycle_zsm_limit1__out;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__alpha;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__beta;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__gamma;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__alpha;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__beta;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__gamma;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__alpha;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__beta;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__gamma;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__alpha;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__beta;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__gamma;
float _ess_battery_inverter_i_bat_charge__in;
double _ess_battery_inverter_thd_ia_thd_fft1__thd;
double _ess_battery_inverter_thd_ia_thd_fft1__real_fft;
double _ess_battery_inverter_thd_ia_thd_fft1__imag_fft;
X_Int32 _ess_battery_inverter_thd_ia_thd_fft1__ack;
X_Int32 _ess_battery_inverter_thd_ia_thd_fft1__syn_old_state;
X_UnInt32 _ess_battery_inverter_thd_ia_thd_array1__zc_stat;
X_UnInt8 _ess_battery_inverter_thd_ia_thd_array1__var_zc;
double _ess_battery_inverter_thd_ia_thd_array1__var_filt_old;
double _ess_battery_inverter_thd_ib_thd_fft1__thd;
double _ess_battery_inverter_thd_ib_thd_fft1__real_fft;
double _ess_battery_inverter_thd_ib_thd_fft1__imag_fft;
X_Int32 _ess_battery_inverter_thd_ib_thd_fft1__ack;
X_Int32 _ess_battery_inverter_thd_ib_thd_fft1__syn_old_state;
X_UnInt32 _ess_battery_inverter_thd_ib_thd_array1__zc_stat;
X_UnInt8 _ess_battery_inverter_thd_ib_thd_array1__var_zc;
double _ess_battery_inverter_thd_ib_thd_array1__var_filt_old;
double _ess_battery_inverter_thd_ic_thd_fft1__thd;
double _ess_battery_inverter_thd_ic_thd_fft1__real_fft;
double _ess_battery_inverter_thd_ic_thd_fft1__imag_fft;
X_Int32 _ess_battery_inverter_thd_ic_thd_fft1__ack;
X_Int32 _ess_battery_inverter_thd_ic_thd_fft1__syn_old_state;
X_UnInt32 _ess_battery_inverter_thd_ic_thd_array1__zc_stat;
X_UnInt8 _ess_battery_inverter_thd_ic_thd_array1__var_zc;
double _ess_battery_inverter_thd_ic_thd_array1__var_filt_old;
double _ess_battery_inverter_thd_va_thd_fft1__thd;
double _ess_battery_inverter_thd_va_thd_fft1__real_fft;
double _ess_battery_inverter_thd_va_thd_fft1__imag_fft;
X_Int32 _ess_battery_inverter_thd_va_thd_fft1__ack;
X_Int32 _ess_battery_inverter_thd_va_thd_fft1__syn_old_state;
X_UnInt32 _ess_battery_inverter_thd_va_thd_array1__zc_stat;
X_UnInt8 _ess_battery_inverter_thd_va_thd_array1__var_zc;
double _ess_battery_inverter_thd_va_thd_array1__var_filt_old;
double _ess_battery_inverter_thd_vb_thd_fft1__thd;
double _ess_battery_inverter_thd_vb_thd_fft1__real_fft;
double _ess_battery_inverter_thd_vb_thd_fft1__imag_fft;
X_Int32 _ess_battery_inverter_thd_vb_thd_fft1__ack;
X_Int32 _ess_battery_inverter_thd_vb_thd_fft1__syn_old_state;
X_UnInt32 _ess_battery_inverter_thd_vb_thd_array1__zc_stat;
X_UnInt8 _ess_battery_inverter_thd_vb_thd_array1__var_zc;
double _ess_battery_inverter_thd_vb_thd_array1__var_filt_old;
double _ess_battery_inverter_thd_vc_thd_fft1__thd;
double _ess_battery_inverter_thd_vc_thd_fft1__real_fft;
double _ess_battery_inverter_thd_vc_thd_fft1__imag_fft;
X_Int32 _ess_battery_inverter_thd_vc_thd_fft1__ack;
X_Int32 _ess_battery_inverter_thd_vc_thd_fft1__syn_old_state;
X_UnInt32 _ess_battery_inverter_thd_vc_thd_array1__zc_stat;
X_UnInt8 _ess_battery_inverter_thd_vc_thd_array1__var_zc;
double _ess_battery_inverter_thd_vc_thd_array1__var_filt_old;
double _ess_battery_inverter_control_gain1__out;
float _ess_battery_inverter_v_bat_charge__in;
double _ess_interface_bus_split1__out;
double _ess_interface_bus_split1__out1;
double _ess_interface_bus_split1__out2;
double _ess_interface_bus_split1__out3;
double _ess_interface_bus_split1__out4;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_gain5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain6__out;
double _fuel_cell_sofc_inverter_control_pll_gain1__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__alpha;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__beta;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__gamma;
double _fuel_cell_sofc_inverter_sofc_sofc_2k_r__out;
double _fuel_cell_sofc_inverter_sofc_sofc_2krdivuopt__out;
double _fuel_cell_sofc_inverter_sofc_sofc_k_r__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1div_r_ho1__out;
double _fuel_cell_sofc_inverter_sofc_sofc_exponential__out;
double _fuel_cell_sofc_inverter_thd_ia_thd_fft1__thd;
double _fuel_cell_sofc_inverter_thd_ia_thd_fft1__real_fft;
double _fuel_cell_sofc_inverter_thd_ia_thd_fft1__imag_fft;
X_Int32 _fuel_cell_sofc_inverter_thd_ia_thd_fft1__ack;
X_Int32 _fuel_cell_sofc_inverter_thd_ia_thd_fft1__syn_old_state;
X_UnInt32 _fuel_cell_sofc_inverter_thd_ia_thd_array1__zc_stat;
X_UnInt8 _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_zc;
double _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt_old;
double _fuel_cell_sofc_inverter_thd_ib_thd_fft1__thd;
double _fuel_cell_sofc_inverter_thd_ib_thd_fft1__real_fft;
double _fuel_cell_sofc_inverter_thd_ib_thd_fft1__imag_fft;
X_Int32 _fuel_cell_sofc_inverter_thd_ib_thd_fft1__ack;
X_Int32 _fuel_cell_sofc_inverter_thd_ib_thd_fft1__syn_old_state;
X_UnInt32 _fuel_cell_sofc_inverter_thd_ib_thd_array1__zc_stat;
X_UnInt8 _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_zc;
double _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt_old;
double _fuel_cell_sofc_inverter_thd_ic_thd_fft1__thd;
double _fuel_cell_sofc_inverter_thd_ic_thd_fft1__real_fft;
double _fuel_cell_sofc_inverter_thd_ic_thd_fft1__imag_fft;
X_Int32 _fuel_cell_sofc_inverter_thd_ic_thd_fft1__ack;
X_Int32 _fuel_cell_sofc_inverter_thd_ic_thd_fft1__syn_old_state;
X_UnInt32 _fuel_cell_sofc_inverter_thd_ic_thd_array1__zc_stat;
X_UnInt8 _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_zc;
double _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt_old;
double _fuel_cell_sofc_inverter_thd_va_thd_fft1__thd;
double _fuel_cell_sofc_inverter_thd_va_thd_fft1__real_fft;
double _fuel_cell_sofc_inverter_thd_va_thd_fft1__imag_fft;
X_Int32 _fuel_cell_sofc_inverter_thd_va_thd_fft1__ack;
X_Int32 _fuel_cell_sofc_inverter_thd_va_thd_fft1__syn_old_state;
double _fuel_cell_sofc_inverter_thd_vb_thd_fft1__thd;
double _fuel_cell_sofc_inverter_thd_vb_thd_fft1__real_fft;
double _fuel_cell_sofc_inverter_thd_vb_thd_fft1__imag_fft;
X_Int32 _fuel_cell_sofc_inverter_thd_vb_thd_fft1__ack;
X_Int32 _fuel_cell_sofc_inverter_thd_vb_thd_fft1__syn_old_state;
double _fuel_cell_sofc_inverter_thd_vc_thd_fft1__thd;
double _fuel_cell_sofc_inverter_thd_vc_thd_fft1__real_fft;
double _fuel_cell_sofc_inverter_thd_vc_thd_fft1__imag_fft;
X_Int32 _fuel_cell_sofc_inverter_thd_vc_thd_fft1__ack;
X_Int32 _fuel_cell_sofc_inverter_thd_vc_thd_fft1__syn_old_state;
X_UnInt32 _fuel_cell_sofc_inverter_thd_va_thd_array1__zc_stat;
X_UnInt8 _fuel_cell_sofc_inverter_thd_va_thd_array1__var_zc;
double _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt_old;
X_UnInt32 _fuel_cell_sofc_inverter_thd_vb_thd_array1__zc_stat;
X_UnInt8 _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_zc;
double _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt_old;
X_UnInt32 _fuel_cell_sofc_inverter_thd_vc_thd_array1__zc_stat;
X_UnInt8 _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_zc;
double _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt_old;
double _fuel_cell_sofc_inverter_control_grid_follow_gain3__out;
double _fuel_cell_interface_sm__enable_in;
double _fuel_cell_interface_sm__force_off;


double _fuel_cell_interface_sm__enable;
double _microgrid_controller_bus_split1__out;
double _microgrid_controller_bus_split1__out1;
double _microgrid_controller_logical_operator1__out;
double _pcc_monitor_bus_split1__out;
double _pcc_monitor_bus_split1__out1;
double _pcc_monitor_synch_check_calculate_dw_synch_signal_switch1__out;
float _pcc_monitor_synch_check_contactor_control_cb_cmd__tmp;
double _pcc_monitor_synch_check_not__out;
double _pcc_monitor_synch_check_check_f_diff_abs4__out;
double _pcc_monitor_synch_check_plls_pll_pid_kd__out;
double _pcc_monitor_synch_check_plls_pll_pid_ki__out;
double _pcc_monitor_synch_check_plls_pll_pid_kp__out;
double _pcc_monitor_synch_check_check_v_diff_pu1__out;
double _pcc_monitor_synch_check_check_f_diff_sum1__out;
double _pcc_monitor_synch_check_plls_pll1_pid_kd__out;
double _pcc_monitor_synch_check_plls_pll1_pid_ki__out;
double _pcc_monitor_synch_check_plls_pll1_pid_kp__out;
double _pcc_monitor_synch_check_check_v_diff_pu2__out;
double _pcc_monitor_synch_check_check_v_diff_pi_integrator1__out;
double _pcc_monitor_synch_check_check_v_diff_volt_diff__out;
double _pcc_monitor_synch_check_check_f_diff_freq_diff__out;
double _pcc_monitor_synch_check_check_f_diff_pi_ki__out;
double _pcc_monitor_synch_check_check_f_diff_pi_kp__out;
double _pcc_monitor_synch_check_check_phase_diff_counter_less_than__out;
double _pcc_monitor_synch_check_check_phase_diff_phase_diff__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_ki__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_kp__out;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__alpha;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__beta;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__gamma;
double _pcc_monitor_pq_measure_pq_power_meter1__Pdc;
double _pcc_monitor_pq_measure_pq_power_meter1__Qdc;
double _pcc_monitor_pq_measure_pq_power_meter1__P0dc;
double _pcc_monitor_pq_measure_pq_power_meter1__Pac;
double _pcc_monitor_pq_measure_pq_power_meter1__Qac;
double _pcc_monitor_pq_measure_pq_power_meter1__P0ac;
double _pcc_monitor_pq_measure_pq_power_meter1__apparent;
double _pcc_monitor_pq_measure_pq_power_meter1__k_factor;
double _pcc_monitor_pq_measure_pq_power_meter1__v_alpha;
double _pcc_monitor_pq_measure_pq_power_meter1__v_beta;
double _pcc_monitor_pq_measure_pq_power_meter1__i_alpha;
double _pcc_monitor_pq_measure_pq_power_meter1__i_beta;
double _pcc_monitor_pq_measure_pq_power_meter1__v_zero;
double _pcc_monitor_pq_measure_pq_power_meter1__i_zero;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputQ;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputP0;
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__alpha;
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__beta;
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__gamma;
double _load_100___pq_power_meter1__Pdc;
double _load_100___pq_power_meter1__Qdc;
double _load_100___pq_power_meter1__P0dc;
double _load_100___pq_power_meter1__Pac;
double _load_100___pq_power_meter1__Qac;
double _load_100___pq_power_meter1__P0ac;
double _load_100___pq_power_meter1__apparent;
double _load_100___pq_power_meter1__k_factor;
double _load_100___pq_power_meter1__v_alpha;
double _load_100___pq_power_meter1__v_beta;
double _load_100___pq_power_meter1__i_alpha;
double _load_100___pq_power_meter1__i_beta;
double _load_100___pq_power_meter1__v_zero;
double _load_100___pq_power_meter1__i_zero;
double _load_100___pq_power_meter1__filter_1_output;
double _load_100___pq_power_meter1__filter_1_outputQ;
double _load_100___pq_power_meter1__filter_1_outputP0;
double _load_25___pq_power_meter1__Pdc;
double _load_25___pq_power_meter1__Qdc;
double _load_25___pq_power_meter1__P0dc;
double _load_25___pq_power_meter1__Pac;
double _load_25___pq_power_meter1__Qac;
double _load_25___pq_power_meter1__P0ac;
double _load_25___pq_power_meter1__apparent;
double _load_25___pq_power_meter1__k_factor;
double _load_25___pq_power_meter1__v_alpha;
double _load_25___pq_power_meter1__v_beta;
double _load_25___pq_power_meter1__i_alpha;
double _load_25___pq_power_meter1__i_beta;
double _load_25___pq_power_meter1__v_zero;
double _load_25___pq_power_meter1__i_zero;
double _load_25___pq_power_meter1__filter_1_output;
double _load_25___pq_power_meter1__filter_1_outputQ;
double _load_25___pq_power_meter1__filter_1_outputP0;
double _load_50___pq_power_meter1__Pdc;
double _load_50___pq_power_meter1__Qdc;
double _load_50___pq_power_meter1__P0dc;
double _load_50___pq_power_meter1__Pac;
double _load_50___pq_power_meter1__Qac;
double _load_50___pq_power_meter1__P0ac;
double _load_50___pq_power_meter1__apparent;
double _load_50___pq_power_meter1__k_factor;
double _load_50___pq_power_meter1__v_alpha;
double _load_50___pq_power_meter1__v_beta;
double _load_50___pq_power_meter1__i_alpha;
double _load_50___pq_power_meter1__i_beta;
double _load_50___pq_power_meter1__v_zero;
double _load_50___pq_power_meter1__i_zero;
double _load_50___pq_power_meter1__filter_1_output;
double _load_50___pq_power_meter1__filter_1_outputQ;
double _load_50___pq_power_meter1__filter_1_outputP0;
double _load_75___pq_power_meter1__Pdc;
double _load_75___pq_power_meter1__Qdc;
double _load_75___pq_power_meter1__P0dc;
double _load_75___pq_power_meter1__Pac;
double _load_75___pq_power_meter1__Qac;
double _load_75___pq_power_meter1__P0ac;
double _load_75___pq_power_meter1__apparent;
double _load_75___pq_power_meter1__k_factor;
double _load_75___pq_power_meter1__v_alpha;
double _load_75___pq_power_meter1__v_beta;
double _load_75___pq_power_meter1__i_alpha;
double _load_75___pq_power_meter1__i_beta;
double _load_75___pq_power_meter1__v_zero;
double _load_75___pq_power_meter1__i_zero;
double _load_75___pq_power_meter1__filter_1_output;
double _load_75___pq_power_meter1__filter_1_outputQ;
double _load_75___pq_power_meter1__filter_1_outputP0;
double _microgrid_controller_sm2__CB;
double _microgrid_controller_sm2__batt_on;
double _microgrid_controller_sm2__der_opt_in;
double _microgrid_controller_sm2__dg_on;


double _microgrid_controller_sm2__der_opt;
double _microgrid_controller_sm2__force_off;
double _microgrid_controller_sm3__CB;
double _microgrid_controller_sm3__batt_on;
double _microgrid_controller_sm3__der_opt_in;
double _microgrid_controller_sm3__dg800kW_on;


double _microgrid_controller_sm3__der_opt;
double _microgrid_controller_sm3__force_off;
float _microgrid_controller_cmode__tmp;
float _microgrid_controller_opmode__tmp;
double _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange;
double _back_up_diesel_gen_control_exciter_dc4b_variable_limit__in;


double _back_up_diesel_gen_control_exciter_dc4b_variable_limit__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_coeff[3] = {0.4297945205479452, 0.003424657534246256, -0.4263698630136985};
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_coeff[3] = {1.0, -1.7657534246575342, 0.7726027397260274};
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_sum;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_sum;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in;
X_UnInt32 _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i;
double _back_up_diesel_gen_control_start_exciter_comparator1__out;
double _back_up_diesel_gen_control_check_steady_state_w_abs1__out;
double _back_up_diesel_gen_sync_check_plls_split__out;
double _back_up_diesel_gen_sync_check_plls_split__out1;
double _back_up_diesel_gen_sync_check_plls_split__out2;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum8__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__d;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__q;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2;
double _back_up_diesel_gen_measurements_bus_join1__out[4];
double _back_up_diesel_gen_measurements_gain7__out;
double _back_up_diesel_gen_measurements_gain8__out;
double _back_up_diesel_gen_measurements_gain9__out;
double _back_up_diesel_gen_sync_check_check_v_diff_greater_equal__out;
double _back_up_diesel_gen_sync_check_check_v_diff_less_equal__out;
double _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out;
float _back_up_diesel_gen_sync_check_phase_match__tmp;
double _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__out;
double _back_up_dg_in_logical_operator1__out;
float _back_up_dg_in_enable__tmp;
double _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange;
double _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__in;


double _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_coeff[3] = {0.4297945205479452, 0.003424657534246256, -0.4263698630136985};
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_coeff[3] = {1.0, -1.7657534246575342, 0.7726027397260274};
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_sum;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_sum;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i;
double _dg_800kw_diesel_gen_control_start_exciter_comparator1__out;
double _dg_800kw_diesel_gen_control_check_steady_state_w_abs1__out;
double _dg_800kw_diesel_gen_sync_check_plls_split__out;
double _dg_800kw_diesel_gen_sync_check_plls_split__out1;
double _dg_800kw_diesel_gen_sync_check_plls_split__out2;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum8__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__d;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__q;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2;
double _dg_800kw_diesel_gen_measurements_bus_join1__out[4];
double _dg_800kw_diesel_gen_measurements_gain7__out;
double _dg_800kw_diesel_gen_measurements_gain8__out;
double _dg_800kw_diesel_gen_measurements_gain9__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_greater_equal__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_less_equal__out;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out;
float _dg_800kw_diesel_gen_sync_check_phase_match__tmp;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__out;
double _dg_800kw_interface_gain1__out;
double _dg_800kw_interface_gain3__out;
float _ess_soc__in;
double _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__sum11__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_abs3__out;
double _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta;


double _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined;
double _ess_battery_inverter_control_synch_check_grid_abs3__out;
double _ess_battery_inverter_control_synch_f_match_sum1__out;
double _ess_battery_inverter_control_synch_vmatch_sum2__out;
double _ess_battery_inverter_control_synch_f_match_sum2__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_sum3__out;
double _ess_battery_inverter_control_synch_phase_match_sum2__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_sum3__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum2__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum8__out;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__d;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__q;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k1;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k2;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__d;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__q;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k1;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k2;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__d;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__q;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k1;
double _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k2;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__d;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__q;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k1;
double _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k2;
double _ess_battery_inverter_control_imode_control_dq_current_controller_limit3__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_limit3__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum2__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum8__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__d;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__q;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k1;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k2;
double _fuel_cell_sofc_inverter_sofc_sofc_1divk_h2o__out;
double _fuel_cell_sofc_inverter_sofc_sofc_sum2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_sum1__out;
double _fuel_cell_sofc_inverter_sofc_sofc_sum5__out;
double _fuel_cell_sofc_inverter_sofc_sofc_product1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_coeff[2] = {0.0003140606003114721, 0.0003140606003114721};
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__a_coeff[2] = {1.0, -0.999371878799377};
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__a_sum;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_sum;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__delay_line_in;
X_UnInt32 _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i;
double _fuel_cell_bus_join4__out[6];
double _microgrid_controller_is_zero__P;
double _microgrid_controller_is_zero__Q;


double _microgrid_controller_is_zero__zeroed;
double _pcc_monitor_synch_check_not1__out;
double _pcc_monitor_synch_check_check_f_diff_interval_check__in;


double _pcc_monitor_synch_check_check_f_diff_interval_check__out;
double _pcc_monitor_synch_check_plls_pll_pid_sum8__out;
double _pcc_monitor_synch_check_check_v_diff_abs4__out;
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__out;
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__a_coeff[2] = {1.0, -0.9987441520111273};
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__a_sum;
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_sum;
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_check_f_diff_lpf_dwf__i;
double _pcc_monitor_synch_check_plls_pll1_pid_sum8__out;
double _pcc_monitor_synch_check_check_v_diff_abs5__out;
double _pcc_monitor_synch_check_check_v_diff_sum1__out;
double _pcc_monitor_synch_check_check_f_diff_comparator1__out;
double _pcc_monitor_synch_check_check_f_diff_pi_sum5__out;
float _pcc_monitor_synch_check_phase_match__tmp;
double _pcc_monitor_synch_check_check_phase_diff_comparator2__out;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__d;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__q;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k1;
double _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k2;
double _pcc_monitor_bus_join1__out[2];
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__d;
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__q;
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k1;
double _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k2;
double _back_up_diesel_gen_control_exciter_dc4b_tf3__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf3__b_coeff[2] = {0.9999000099990002, 0.9999000099990002};
double _back_up_diesel_gen_control_exciter_dc4b_tf3__a_coeff[2] = {1.0, 0.9998000199980002};
double _back_up_diesel_gen_control_exciter_dc4b_tf3__a_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf3__b_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf3__delay_line_in;
X_UnInt32 _back_up_diesel_gen_control_exciter_dc4b_tf3__i;
double _back_up_diesel_gen_control_check_steady_state_w_comparator3__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__gamma;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_coeff[2] = {1.0, -0.9875120932180504};
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in;
X_UnInt32 _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_coeff[2] = {1.0, -0.9875120932180504};
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in;
X_UnInt32 _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i;
double _back_up_diesel_gen_control_bus_split1__out;
double _back_up_diesel_gen_control_bus_split1__out1;
double _back_up_diesel_gen_control_bus_split1__out2;
double _back_up_diesel_gen_control_bus_split1__out3;
double _back_up_diesel_gen_sync_check_check_v_diff_and__out;
float _back_up_diesel_gen_sync_check_f_match__tmp;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_en_switch__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_not__out;
double _back_up_dg_in_bus_join2__out[9];
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_coeff[2] = {0.9999000099990002, 0.9999000099990002};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__a_coeff[2] = {1.0, 0.9998000199980002};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__a_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i;
double _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__gamma;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_coeff[2] = {1.0, -0.9875120932180504};
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_coeff[2] = {1.0, -0.9875120932180504};
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i;
double _dg_800kw_diesel_gen_control_bus_split1__out;
double _dg_800kw_diesel_gen_control_bus_split1__out1;
double _dg_800kw_diesel_gen_control_bus_split1__out2;
double _dg_800kw_diesel_gen_control_bus_split1__out3;
double _dg_800kw_diesel_gen_measurements_gain10__out;
double _dg_800kw_diesel_gen_measurements_gain12__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_and__out;
float _dg_800kw_diesel_gen_sync_check_f_match__tmp;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_en_switch__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_not__out;
double _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__product1__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_sum4__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_b0__out;
double _ess_battery_inverter_control_synch_check_grid_sum4__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_b0__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_sum2__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_sum2__out;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__out;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_coeff[2] = {0.012566370614, 0.012566370614};
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_coeff[2] = {2.012566370614, -1.987433629386};
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_sum;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_sum;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__out;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_coeff[2] = {0.012566370614, 0.012566370614};
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_coeff[2] = {2.012566370614, -1.987433629386};
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_sum;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_sum;
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__out;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_coeff[2] = {0.012566370614, 0.012566370614};
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_coeff[2] = {2.012566370614, -1.987433629386};
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_sum;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_sum;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__out;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_coeff[2] = {0.012566370614, 0.012566370614};
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_coeff[2] = {2.012566370614, -1.987433629386};
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_sum;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_sum;
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i;
double _ess_battery_inverter_control_abctodq_gain1__out;
double _ess_battery_inverter_control_abctodq_gain2__out;
double _ess_battery_inverter_control_abctodq1_gain1__out;
double _ess_battery_inverter_control_abctodq1_gain2__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_gain5__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_gain5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_sum4__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1divk_h2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1divtau_f__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1divk_o2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_ln__out;
double _fuel_cell_sofc_inverter_input_bus_split2__out;
double _fuel_cell_sofc_inverter_input_bus_split2__out1;
double _fuel_cell_sofc_inverter_input_bus_split2__out2;
double _fuel_cell_sofc_inverter_input_bus_split2__out3;
double _fuel_cell_sofc_inverter_input_bus_split2__out4;
double _fuel_cell_sofc_inverter_input_bus_split2__out5;
double _microgrid_controller_sm__CB;
double _microgrid_controller_sm__ON;
double _microgrid_controller_sm__operation;
double _microgrid_controller_sm__zeroed;


double _microgrid_controller_sm__close_cb;
double _microgrid_controller_sm__gridform;
double _microgrid_controller_sm__open_cb;
double _microgrid_controller_sm__zeropower;
float _microgrid_controller_zeroed__tmp;
float _pcc_monitor_synch_check_f_abc_nom__tmp;
double _pcc_monitor_synch_check_plls_pll_pid_gain1__out;
double _pcc_monitor_synch_check_check_v_diff_interval_check__in;


double _pcc_monitor_synch_check_check_v_diff_interval_check__out;
double _pcc_monitor_synch_check_plls_pll1_pid_gain1__out;
double _pcc_monitor_synch_check_check_v_diff_less_eq__in;


double _pcc_monitor_synch_check_check_v_diff_less_eq__out;
double _pcc_monitor_synch_check_check_v_diff_abs3__out;
double _pcc_monitor_synch_check_check_v_diff_pi_ki__out;
double _pcc_monitor_synch_check_check_v_diff_pi_kp__out;
float _pcc_monitor_synch_check_f_match__tmp;
double _pcc_monitor_synch_check_check_f_diff_pi_limit1__out;
double _pcc_monitor_synch_check_check_phase_diff_counter_counter1_en_switch__out;
double _pcc_monitor_synch_check_check_phase_diff_counter_not__out;
double _pcc_monitor_synch_check_plls_pll_lpf_d__out;
double _pcc_monitor_synch_check_plls_pll_lpf_d__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _pcc_monitor_synch_check_plls_pll_lpf_d__a_coeff[2] = {1.0, -0.9875120932180504};
double _pcc_monitor_synch_check_plls_pll_lpf_d__a_sum;
double _pcc_monitor_synch_check_plls_pll_lpf_d__b_sum;
double _pcc_monitor_synch_check_plls_pll_lpf_d__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_plls_pll_lpf_d__i;
double _pcc_monitor_synch_check_plls_pll_lpf_q__out;
double _pcc_monitor_synch_check_plls_pll_lpf_q__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _pcc_monitor_synch_check_plls_pll_lpf_q__a_coeff[2] = {1.0, -0.9875120932180504};
double _pcc_monitor_synch_check_plls_pll_lpf_q__a_sum;
double _pcc_monitor_synch_check_plls_pll_lpf_q__b_sum;
double _pcc_monitor_synch_check_plls_pll_lpf_q__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_plls_pll_lpf_q__i;
double _pcc_monitor_synch_check_plls_pll1_lpf_d__out;
double _pcc_monitor_synch_check_plls_pll1_lpf_d__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _pcc_monitor_synch_check_plls_pll1_lpf_d__a_coeff[2] = {1.0, -0.9875120932180504};
double _pcc_monitor_synch_check_plls_pll1_lpf_d__a_sum;
double _pcc_monitor_synch_check_plls_pll1_lpf_d__b_sum;
double _pcc_monitor_synch_check_plls_pll1_lpf_d__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_plls_pll1_lpf_d__i;
double _pcc_monitor_synch_check_plls_pll1_lpf_q__out;
double _pcc_monitor_synch_check_plls_pll1_lpf_q__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _pcc_monitor_synch_check_plls_pll1_lpf_q__a_coeff[2] = {1.0, -0.9875120932180504};
double _pcc_monitor_synch_check_plls_pll1_lpf_q__a_sum;
double _pcc_monitor_synch_check_plls_pll1_lpf_q__b_sum;
double _pcc_monitor_synch_check_plls_pll1_lpf_q__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_plls_pll1_lpf_q__i;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__d;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__q;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out;
double _back_up_diesel_gen_control_exciter_vt_to_vtpu__out;
double _back_up_diesel_gen_control_exciter_to_pu__out;
double _back_up_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out;
double _back_up_diesel_gen_control_governor_and_engine_to_pu__out;
double _back_up_diesel_gen_control_pf_control_norm_pf_meas__Q;
double _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf;


double _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm;
double _back_up_diesel_gen_control_bus_split3__out;
double _back_up_diesel_gen_control_bus_split3__out1;
double _back_up_diesel_gen_control_bus_split3__out2;
double _back_up_diesel_gen_control_bus_split3__out3;
double _back_up_diesel_gen_control_bus_split3__out4;
double _back_up_diesel_gen_control_bus_split3__out5;
double _back_up_diesel_gen_control_bus_split3__out6;
double _back_up_diesel_gen_control_bus_split3__out7;
double _back_up_diesel_gen_control_bus_split3__out8;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__d;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__q;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out;
double _dg_800kw_diesel_gen_control_exciter_vt_to_vtpu__out;
double _dg_800kw_diesel_gen_control_exciter_to_pu__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_to_pu__out;
double _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__Q;
double _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf;


double _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm;
double _dg_800kw_diesel_gen_measurements_sum1__out;
double _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__gain6__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_abs1__out;
double _ess_battery_inverter_control_synch_check_grid_abs1__out;
double _ess_battery_inverter_control_synch_f_match_low_pass_sum1__out;
double _ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out;
double _ess_battery_inverter_control_pll_pu_gain4__out;
double _ess_battery_inverter_control_pll_pu_gain5__out;
double _ess_battery_inverter_control_pll_pu_pll_normalize__in1;
double _ess_battery_inverter_control_pll_pu_pll_normalize__in2;


double _ess_battery_inverter_control_pll_pu_pll_normalize__in2_pu;
double _ess_battery_inverter_control_pll_pu_pll_normalize__pk;
double _ess_battery_inverter_control_synch_pll_util_pll_normalize__in1;
double _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2;


double _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2_pu;
double _ess_battery_inverter_control_synch_pll_util_pll_normalize__pk;
double _ess_battery_inverter_control_imode_control_dq_current_controller_gain7__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_damper_id_damp__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_gain4__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_damper_iq_damp__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product6__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1divtau_h2o__out;
double _fuel_cell_sofc_inverter_sofc_sofc_sum3__out;
double _fuel_cell_sofc_inverter_sofc_sofc_sum6__out;
double _fuel_cell_sofc_inverter_sofc_sofc_r_tdiv2divf__out;
double _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_gain2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_gain4__out;
double _fuel_cell_sofc_inverter_control_grid_follow_logical_operator1__out;
float _fuel_cell_sofc_inverter_control_grid_follow_qmode__tmp;
double _fuel_cell_sofc_inverter_control_grid_follow_delay__counter;
double _fuel_cell_sofc_inverter_control_grid_follow_delay__in;


double _fuel_cell_sofc_inverter_control_grid_follow_delay__out;
double _fuel_cell_sofc_inverter_control_pll_signal_switch1__out;
double _fuel_cell_sofc_inverter_control_pll_signal_switch2__out;
double _fuel_cell_sofc_inverter_control_pll_signal_switch3__out;
double _fuel_cell_sofc_inverter_delay__counter;
double _fuel_cell_sofc_inverter_delay__in;


double _fuel_cell_sofc_inverter_delay__out;
float _fuel_cell_sofc_inverter_enable__tmp;
double _microgrid_controller_bus_join1__out[2];
double _microgrid_controller_pi_p_integrator1__out;
double _microgrid_controller_pi_q_integrator1__out;
double _microgrid_controller_signal_switch1__out;
double _microgrid_controller_signal_switch3__out;
double _pcc_monitor_synch_check_plls_pll_pid_sum5__out;
double _pcc_monitor_synch_check_logical_operator2__out;
float _pcc_monitor_synch_check_vabc_nom__tmp;
double _pcc_monitor_synch_check_plls_pll1_pid_sum5__out;
float _pcc_monitor_synch_check_abc_dead__tmp;
double _pcc_monitor_synch_check_check_v_diff_comparator1__out;
double _pcc_monitor_synch_check_check_v_diff_pi_sum5__out;
double _pcc_monitor_synch_check_check_f_diff_pi_sum6__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q;


double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf1__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf1__b_coeff[2] = {0.9803921568627451, 0.9803921568627452};
double _back_up_diesel_gen_control_exciter_dc4b_tf1__a_coeff[2] = {1.0, 0.9607843137254902};
double _back_up_diesel_gen_control_exciter_dc4b_tf1__a_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf1__b_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf1__delay_line_in;
X_UnInt32 _back_up_diesel_gen_control_exciter_dc4b_tf1__i;
double _back_up_diesel_gen_control_exciter_product2__out;
double _back_up_diesel_gen_control_freq_setpoint_control_product1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_product3__out;
double _back_up_diesel_gen_control_governor_and_engine_product1__out;
double _back_up_diesel_gen_control_define_control_mode_control_mode__Control_mode;


double _back_up_diesel_gen_control_define_control_mode_control_mode__P_control;
double _back_up_diesel_gen_control_define_control_mode_control_mode__Q_control;
double _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out;
double _back_up_diesel_gen_control_freq_setpoint_control_load_share_switch__out;
float _back_up_diesel_gen_control_gen_on__tmp;
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out;
double _back_up_diesel_gen_control_governor_and_engine_w_switch__out;
double _back_up_diesel_gen_control_round1__out;
double _back_up_diesel_gen_control_start_exciter_and__out;
double _back_up_diesel_gen_control_pf_control_greater_equal__out;
double _back_up_diesel_gen_control_pf_control_norm_pf_ref__u;
double _back_up_diesel_gen_control_pf_control_norm_pf_ref__P;
double _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf;


double _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm;
double _back_up_diesel_gen_output_bus_join1__out[14];
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q;


double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_coeff[2] = {0.9803921568627451, 0.9803921568627452};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__a_coeff[2] = {1.0, 0.9607843137254902};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__a_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i;
double _dg_800kw_diesel_gen_control_exciter_product2__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_product1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_product3__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_product1__out;
double _dg_800kw_diesel_gen_measurements_gain11__out;
double _ess_battery_inverter_control_imode_control_sum12__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__out;
double _ess_battery_inverter_control_synch_check_grid_comparator1__out;
double _ess_battery_inverter_control_synch_f_match_abs3__out;
double _ess_battery_inverter_control_synch_phase_match_abs2__out;
double _ess_battery_inverter_control_synch_phase_match_pi_ki__out;
double _ess_battery_inverter_control_synch_phase_match_pi_kp__out;
double _ess_battery_inverter_control_imode_control_current_ref_product4__out;
double _ess_battery_inverter_control_imode_control_current_ref_product5__out;
double _ess_battery_inverter_control_imode_control_current_ref_squared_vt_product1__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_product1__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_product3__out;
double _ess_battery_inverter_control_imode_control_current_ref_product3__out;
double _ess_battery_inverter_control_imode_control_current_ref_product6__out;
double _ess_battery_inverter_control_imode_control_current_ref_squared_vt_product2__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_product2__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_product4__out;
double _ess_battery_inverter_control_pll_pu_gain7__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_kd__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_ki__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_kp__out;
double _ess_battery_inverter_control_synch_pll_util_gain4__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_kd__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_ki__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_kp__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_product6__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_product1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product1__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1divtau_h2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_1divtau_o2__out;
double _fuel_cell_sofc_inverter_sofc_sofc_n0__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_logical_operator2__out;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__alpha;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__beta;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__gamma;
double _fuel_cell_sofc_inverter_logical_operator1__out;
double _microgrid_controller_gain1__out;
double _microgrid_controller_gain3__out;
double _pcc_monitor_synch_check_plls_pll_pid_limit1__out;
float _pcc_monitor_synch_check_abc_nom__tmp;
double _pcc_monitor_synch_check_and2__out;
double _pcc_monitor_synch_check_plls_pll1_pid_limit1__out;
double _pcc_monitor_synch_check_contactor_control_logical_operator1__out;
float _pcc_monitor_synch_check_v_match__tmp;
double _pcc_monitor_synch_check_check_v_diff_pi_limit1__out;
double _pcc_monitor_synch_check_check_f_diff_pi_kb__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_coeff[2] = {1.0, -0.9875120932180504};
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in;
X_UnInt32 _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_ki__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_kp__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum6__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in;


double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out;
double _back_up_diesel_gen_control_governor_and_engine_w_switch1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate;
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out;
double _back_up_diesel_gen_control_governor_and_engine_w_ramp__in_rate;
double _back_up_diesel_gen_control_read_op_mode__GCB_status;
double _back_up_diesel_gen_control_read_op_mode__OP_mode;


double _back_up_diesel_gen_control_read_op_mode__GridFollowing;
double _back_up_diesel_gen_control_read_op_mode__GridForming;
double _back_up_diesel_gen_control_read_op_mode__StandBy;
double _back_up_diesel_gen_control_read_op_mode__enable;
double _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__out;
double _back_up_diesel_gen_control_exciter_product1__out;
double _back_up_diesel_gen_control_exciter_switch__out;
float _back_up_diesel_gen_control_exciter_on__tmp;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_coeff[2] = {1.0, -0.9875120932180504};
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_ki__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_kp__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum6__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in;


double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_w_switch1__out;
double _dg_800kw_diesel_gen_measurements_product1__out;
float _ess_battery_inverter_control_synch_check_nominal_conditions_f_out_nom__tmp;
float _ess_battery_inverter_control_synch_check_grid_out_of_limit_freq__tmp;
double _ess_battery_inverter_control_synch_f_match_comparator1__out;
double _ess_battery_inverter_control_synch_phase_match_comparator2__out;
double _ess_battery_inverter_control_synch_phase_match_pi_sum5__out;
double _ess_battery_inverter_control_imode_control_current_ref_sum3__out;
double _ess_battery_inverter_control_imode_control_current_ref_sum4__out;
double _ess_battery_inverter_control_imode_control_current_ref_squared_vt_sum3__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_sum1__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_sum2__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_sum5__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_sum8__out;
double _ess_battery_inverter_control_synch_check_grid_sum5__out;
double _ess_battery_inverter_control_synch_vmatch_sum10__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_sum8__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_sum13__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_sum10__out;
double _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[6];
double _fuel_cell_sofc_inverter_control_grid_follow_signal_switch3__out;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__d;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__q;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k1;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k2;
float _fuel_cell_sofc_inverter_on__tmp;
double _microgrid_controller_pi_p_ki1__out;
double _microgrid_controller_pi_p_ki2__out;
double _microgrid_controller_pi_p_kp1__out;
double _microgrid_controller_pi_p_kp2__out;
double _microgrid_controller_pi_q_ki1__out;
double _microgrid_controller_pi_q_ki2__out;
double _microgrid_controller_pi_q_kp1__out;
double _microgrid_controller_pi_q_kp2__out;
double _pcc_monitor_synch_check_plls_pll_pid_sum6__out;
double _pcc_monitor_synch_check_plls_pll_rate_limiter1__in_rate;
double _pcc_monitor_synch_check_plls_pll_integrator__in;


double _pcc_monitor_synch_check_plls_pll_integrator__out;
double _pcc_monitor_synch_check_and1__out;
float _pcc_monitor_synch_check_synch_check_on__tmp;
double _pcc_monitor_synch_check_plls_pll1_pid_sum6__out;
double _pcc_monitor_synch_check_plls_pll1_rate_limiter1__in_rate;
double _pcc_monitor_synch_check_plls_pll1_integrator__in;


double _pcc_monitor_synch_check_plls_pll1_integrator__out;
double _pcc_monitor_synch_check_contactor_control_cb_sm__ABC_nom;
double _pcc_monitor_synch_check_contactor_control_cb_sm__Close_cmd;
double _pcc_monitor_synch_check_contactor_control_cb_sm__Matched;
double _pcc_monitor_synch_check_contactor_control_cb_sm__Open_cmd;
double _pcc_monitor_synch_check_contactor_control_cb_sm__abc_dead;


double _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB;
double _pcc_monitor_synch_check_contactor_control_cb_sm__open_CB;
double _pcc_monitor_synch_check_check_v_diff_pi_sum6__out;
double _pcc_monitor_synch_check_check_v_diff_signal_switch1__out;
double _pcc_monitor_synch_check_check_f_diff_pi_sum7__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kb__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_coeff[3] = {0.00024132058064985085, 0.00048264116129992374, 0.0002413205806496288};
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_coeff[3] = {1.0, -1.9555883083348007, 0.9565535906574002};
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in;
X_UnInt32 _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i;
double _back_up_diesel_gen_measurements_bus_join3__out[3];
double _back_up_diesel_gen_control_freq_setpoint_control_product2__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_sum6__out;
double _back_up_diesel_gen_control_bus_join1__out[5];
double _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_f_droop_switch__out;
double _back_up_diesel_gen_control_freq_setpoint_control_w_switch__out;
float _back_up_diesel_gen_control_gridfollowing__tmp;
float _back_up_diesel_gen_control_gridforming__tmp;
float _back_up_diesel_gen_control_standby__tmp;
double _back_up_diesel_gen_control_pf_control_logical_operator5__out;
double _back_up_diesel_gen_control_exciter_vfpu_to_vf__out;
double _back_up_diesel_gen_control_exciter_rate_limit__in_rate;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kb__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_coeff[3] = {0.00024132058064985085, 0.00048264116129992374, 0.0002413205806496288};
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_coeff[3] = {1.0, -1.9555883083348007, 0.9565535906574002};
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i;
double _dg_800kw_diesel_gen_measurements_bus_join3__out[3];
double _ess_battery_inverter_control_synch_f_match_counter1_en_switch__out;
double _ess_battery_inverter_control_synch_f_match_logical_operator1__out;
double _ess_battery_inverter_control_synch_phase_match_counter1_en_switch__out;
double _ess_battery_inverter_control_synch_phase_match_logical_operator1__out;
double _ess_battery_inverter_control_synch_phase_match_pi_limit1__out;
double _ess_battery_inverter_control_imode_control_current_ref_limit3__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__a_coeff[2] = {1.0, -0.9987441520111273};
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__a_sum;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_sum;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__out;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__a_coeff[2] = {1.0, -0.9987441520111273};
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__a_sum;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_sum;
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i;
double _ess_battery_inverter_control_synch_check_nominal_conditions_abs2__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_gain1__out;
double _ess_battery_inverter_control_synch_check_grid_abs2__out;
double _ess_battery_inverter_control_synch_vmatch_abs2__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_gain1__out;
double _fuel_cell_sofc_inverter_sofc_bus_split1__out;
double _fuel_cell_sofc_inverter_sofc_bus_split1__out1;
double _fuel_cell_sofc_inverter_sofc_bus_split1__out2;
double _fuel_cell_sofc_inverter_sofc_bus_split1__out3;
double _fuel_cell_sofc_inverter_sofc_bus_split1__out4;
double _fuel_cell_sofc_inverter_sofc_bus_split1__out5;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__out;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_coeff[2] = {0.006283185307, 0.006283185307};
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_coeff[2] = {2.006283185307, -1.993716814693};
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_sum;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_sum;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__delay_line_in;
X_UnInt32 _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__out;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_coeff[2] = {0.006283185307, 0.006283185307};
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_coeff[2] = {2.006283185307, -1.993716814693};
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_sum;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_sum;
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__delay_line_in;
X_UnInt32 _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i;
double _microgrid_controller_pi_p_signal_switch2__out;
double _microgrid_controller_pi_p_signal_switch1__out;
double _microgrid_controller_pi_q_signal_switch2__out;
double _microgrid_controller_pi_q_signal_switch1__out;
double _pcc_monitor_synch_check_plls_pll_pid_kb__out;
double _pcc_monitor_synch_check_plls_pll_lpf_q1__out;
double _pcc_monitor_synch_check_plls_pll_lpf_q1__b_coeff[3] = {0.00024132058064985085, 0.00048264116129992374, 0.0002413205806496288};
double _pcc_monitor_synch_check_plls_pll_lpf_q1__a_coeff[3] = {1.0, -1.9555883083348007, 0.9565535906574002};
double _pcc_monitor_synch_check_plls_pll_lpf_q1__a_sum;
double _pcc_monitor_synch_check_plls_pll_lpf_q1__b_sum;
double _pcc_monitor_synch_check_plls_pll_lpf_q1__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_plls_pll_lpf_q1__i;
float _pcc_monitor_synch_check_check_phase_on__tmp;
double _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__out;
double _pcc_monitor_synch_check_plls_pll1_pid_kb__out;
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__out;
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_coeff[3] = {0.00024132058064985085, 0.00048264116129992374, 0.0002413205806496288};
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_coeff[3] = {1.0, -1.9555883083348007, 0.9565535906574002};
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_sum;
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_sum;
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_plls_pll1_lpf_q1__i;
double _pcc_monitor_synch_check_plls_sum1__out;
float _pcc_monitor_synch_check_contactor_control_reset_cb__tmp;
float _pcc_monitor_synch_check_contactor_control_set_cb__tmp;
double _pcc_monitor_synch_check_check_v_diff_pi_kb__out;
double _pcc_monitor_synch_check_bus_join__out[2];
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum7__out;
double _back_up_diesel_gen_sync_check_plls_split1__out;
double _back_up_diesel_gen_sync_check_plls_split1__out1;
double _back_up_diesel_gen_sync_check_plls_split1__out2;
double _back_up_diesel_gen_control_freq_setpoint_control_sum5__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_kb__out;
double _back_up_diesel_gen_sync_check_bus_split1__out;
double _back_up_diesel_gen_sync_check_bus_split1__out1;
double _back_up_diesel_gen_sync_check_bus_split1__out2;
double _back_up_diesel_gen_sync_check_bus_split1__out3;
double _back_up_diesel_gen_sync_check_bus_split1__out4;
double _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate;
double _back_up_diesel_gen_control_read_control_mode_state__P;
double _back_up_diesel_gen_control_read_control_mode_state__Q;
double _back_up_diesel_gen_control_read_control_mode_state__enable;


double _back_up_diesel_gen_control_read_control_mode_state__PQ;
double _back_up_diesel_gen_control_read_control_mode_state__PV;
double _back_up_diesel_gen_control_read_control_mode_state__Vf;
double _back_up_diesel_gen_control_pf_control_pi_integrator1__out;
double _back_up_diesel_gen_control_pf_control_signal_switch2__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum7__out;
double _dg_800kw_diesel_gen_sync_check_plls_split1__out;
double _dg_800kw_diesel_gen_sync_check_plls_split1__out1;
double _dg_800kw_diesel_gen_sync_check_plls_split1__out2;
double _ess_battery_inverter_control_synch_phase_match_pi_sum6__out;
double _ess_battery_inverter_control_synch_phase_match_product1__out;
double _ess_battery_inverter_control_imode_control_current_ref_product1__out;
double _ess_battery_inverter_control_imode_control_current_ref_product2__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_sum5__out;
double _ess_battery_inverter_control_synch_check_grid_comparator2__out;
double _ess_battery_inverter_control_synch_vmatch_comparator2__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_sum5__out;
double _fuel_cell_sofc_inverter_sofc_gain1__out;
double _fuel_cell_sofc_inverter_control_pll_gain4__out;
double _fuel_cell_sofc_inverter_control_pll_gain3__out;
double _fuel_cell_sofc_inverter_control_pll_pll_normalize__in1;
double _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2;


double _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2_pu;
double _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk;
double _microgrid_controller_pi_p_sum5__out;
double _microgrid_controller_pi_q_sum5__out;
double _pcc_monitor_synch_check_plls_pll_pid_sum7__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_sum5__out;
double _pcc_monitor_synch_check_plls_pll1_pid_sum7__out;
double _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta;


double _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta_confined;
double _pcc_monitor_synch_check_check_v_diff_pi_sum7__out;
double _dg_800kw_interface_bus_split2__out;
double _dg_800kw_interface_bus_split2__out1;
double _ess_interface_bus_split2__out;
double _ess_interface_bus_split2__out1;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum6__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in;


double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_rads_to_hz__out;
double _back_up_diesel_gen_sync_check_plls_gain1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_sum1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_sum6__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_sum7__out;
double _back_up_diesel_gen_sync_check_bus_join2__out[3];
double _back_up_diesel_gen_sync_check_contactor_control_not__out;
float _back_up_diesel_gen_sync_check_speed_ss__tmp;
double _back_up_diesel_gen_sync_check_and2__out;
double _back_up_diesel_gen_control_freq_setpoint_control_sum8__out;
float _back_up_diesel_gen_control_read_control_mode_pq_mode__tmp;
float _back_up_diesel_gen_control_read_control_mode_pv_mode__tmp;
float _back_up_diesel_gen_control_read_control_mode_vf_mode__tmp;
double _back_up_diesel_gen_control_pf_control_rate_limiter1__in_rate;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum6__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in;


double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_rads_to_hz__out;
double _dg_800kw_diesel_gen_sync_check_plls_gain1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_sum1__out;
double _ess_battery_inverter_control_synch_phase_match_pi_kb__out;
double _ess_battery_inverter_control_synch_phase_match_gain12__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_sum2__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_sum1__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator1__out;
float _ess_battery_inverter_control_synch_check_nominal_conditions_v_out_nom__tmp;
double _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out;
double _ess_battery_inverter_control_synch_check_grid_logical_operator1__out;
float _ess_battery_inverter_control_synch_check_grid_out_of_limit_volts__tmp;
double _ess_battery_inverter_control_synch_vmatch_counter1_en_switch__out;
double _ess_battery_inverter_control_synch_vmatch_logical_operator1__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product4__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product3__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum6__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product3__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product6__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product4__out;
double _fuel_cell_sofc_inverter_control_pll_gain5__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_kd__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_ki__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_kp__out;
double _fuel_cell_sofc_inverter_output_bus_join1__out[14];
double _microgrid_controller_pi_p_limit1__out;
double _microgrid_controller_pi_q_limit1__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_limit1__out;
double _pcc_monitor_synch_check_check_phase_diff_lpf__out;
double _pcc_monitor_synch_check_check_phase_diff_lpf__b_coeff[2] = {0.0003140606003114721, 0.0003140606003114721};
double _pcc_monitor_synch_check_check_phase_diff_lpf__a_coeff[2] = {1.0, -0.999371878799377};
double _pcc_monitor_synch_check_check_phase_diff_lpf__a_sum;
double _pcc_monitor_synch_check_check_phase_diff_lpf__b_sum;
double _pcc_monitor_synch_check_check_phase_diff_lpf__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_check_phase_diff_lpf__i;
double _dg_800kw_interface_sm__DERoption;
double _dg_800kw_interface_sm__Ppms;
double _dg_800kw_interface_sm__Pref;
double _dg_800kw_interface_sm__Qpms;
double _dg_800kw_interface_sm__Qref;
double _dg_800kw_interface_sm__Vref;
double _dg_800kw_interface_sm__dV;
double _dg_800kw_interface_sm__dw;
double _dg_800kw_interface_sm__formGrid;
double _dg_800kw_interface_sm__wref;


double _dg_800kw_interface_sm__P;
double _dg_800kw_interface_sm__Q;
double _dg_800kw_interface_sm__V;
double _dg_800kw_interface_sm__gridForm;
double _dg_800kw_interface_sm__w;
double _ess_interface_gain4__out;
double _ess_interface_gain5__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_kb__out;
double _back_up_diesel_gen_sync_check_plls_sum1__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__out;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_coeff[2] = {1.0, -0.9875120932180504};
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in;
X_UnInt32 _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i;
double _back_up_diesel_gen_sync_check_check_f_diff_sum1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pu__out;
double _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out;
double _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out1;
double _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out2;
double _back_up_diesel_gen_sync_check_and1__out;
float _back_up_diesel_gen_sync_check_dw_synch_on__tmp;
double _back_up_diesel_gen_control_freq_setpoint_control_mode_switch__out;
double _back_up_diesel_gen_control_pf_control_sum6__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_kb__out;
double _dg_800kw_diesel_gen_sync_check_plls_sum1__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_coeff[2] = {0.006243953390974721, 0.006243953390974721};
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_coeff[2] = {1.0, -0.9875120932180504};
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_sum1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pu__out;
double _ess_battery_inverter_control_synch_phase_match_pi_sum7__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_ki__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_kp__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_ki__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_kp__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator15__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_sum6__out;
double _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__in_rate;
double _ess_battery_inverter_control_pll_pu_pll_integrator__in;


double _ess_battery_inverter_control_pll_pu_pll_integrator__out;
double _ess_battery_inverter_control_synch_check_grid_logical_operator15__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_sum6__out;
double _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__in_rate;
double _ess_battery_inverter_control_synch_pll_util_pll_integrator__in;


double _ess_battery_inverter_control_synch_pll_util_pll_integrator__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_sum3__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_sum4__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_sum1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_sum2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_signal_switch4__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_sum8__out;
double _microgrid_controller_gain2__out;
double _microgrid_controller_pi_p_sum6__out;
double _microgrid_controller_gain4__out;
double _microgrid_controller_pi_q_sum6__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_sum6__out;
double _pcc_monitor_synch_check_check_phase_diff_product1__out;
double _dg_800kw_interface_getpf__x;
double _dg_800kw_interface_getpf__P;
double _dg_800kw_interface_getpf__Q;


double _dg_800kw_interface_getpf__pf;
double _ess_interface_sm__DERoption;
double _ess_interface_sm__Ppms;
double _ess_interface_sm__Pref;
double _ess_interface_sm__Qpms;
double _ess_interface_sm__Qref;
double _ess_interface_sm__Vref;
double _ess_interface_sm__dV;
double _ess_interface_sm__dw;
double _ess_interface_sm__formGrid;
double _ess_interface_sm__wref;


double _ess_interface_sm__P;
double _ess_interface_sm__Q;
double _ess_interface_sm__V;
double _ess_interface_sm__gridForm;
double _ess_interface_sm__w;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum7__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta;


double _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined;
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__out;
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_coeff[2] = {1.0, -0.9987441520111273};
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum;
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum;
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in;
X_UnInt32 _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i;
double _back_up_diesel_gen_sync_check_check_v_diff_abs3__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_ki__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_kp__out;
double _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_relational_operator1__out;
double _back_up_diesel_gen_sync_check_contactor_control_or__out;
float _back_up_diesel_gen_sync_check_check_phase_on__tmp;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_sum7__out;
double _back_up_diesel_gen_control_pf_control_pi_ki__out;
double _back_up_diesel_gen_control_pf_control_pi_kp__out;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum7__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta;


double _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__out;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_coeff[2] = {1.0, -0.9987441520111273};
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_abs3__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_ki__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_kp__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_relational_operator1__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_kb__out;
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__out;
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__b_coeff[1] = {0.0009869600294464265};
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_coeff[3] = {1.0, -1.95557788912, 0.9565648491494463};
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_sum;
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__b_sum;
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_kb__out;
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__out;
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__b_coeff[1] = {0.0009869600294464265};
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_coeff[3] = {1.0, -1.95557788912, 0.9565648491494463};
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_sum;
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__b_sum;
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__delay_line_in;
X_UnInt32 _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_coeff[2] = {0.0003140606003114721, 0.0003140606003114721};
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__a_coeff[2] = {1.0, -0.999371878799377};
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__a_sum;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_sum;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__delay_line_in;
X_UnInt32 _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__out;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_coeff[2] = {0.0003140606003114721, 0.0003140606003114721};
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__a_coeff[2] = {1.0, -0.999371878799377};
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__a_sum;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_sum;
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__delay_line_in;
X_UnInt32 _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_limit3__out;
double _fuel_cell_sofc_inverter_control_grid_follow_sum1__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_gain1__out;
double _microgrid_controller_signal_switch2__out;
double _microgrid_controller_pi_p_kb__out;
double _microgrid_controller_signal_switch4__out;
double _microgrid_controller_pi_q_kb__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_kb__out;
double _pcc_monitor_synch_check_calculate_dw_synch_sum4__out;
double _dg_800kw_bus_join3__out[9];
double _ess_bus_join2__out[6];
double _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__off1;
double _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__off2;
double _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase;


double _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out;
double _back_up_diesel_gen_sync_check_check_v_diff_comparator1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_sum5__out;
double _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc;
double _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Reset;
double _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__boolean;


double _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum5__out;
double _back_up_diesel_gen_control_freq_setpoint_control_sum3__out;
double _back_up_diesel_gen_control_pf_control_pi_sum5__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__off1;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__off2;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase;


double _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum5__out;
double _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__wait_time;
double _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__counter;
double _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__in;
double _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__reset;


double _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out;
double _ess_battery_inverter_control_pll_pu_pll_pid_sum7__out;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_sum7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_ki__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_kp__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_sum5__out;
double _microgrid_controller_pi_p_sum7__out;
double _microgrid_controller_bus_join2__out[5];
double _microgrid_controller_bus_join3__out[5];
double _microgrid_controller_pi_q_sum7__out;
double _pcc_monitor_synch_check_check_phase_diff_pi_sum7__out;
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__out;
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__a_coeff[2] = {1.0, -0.9987441520111273};
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__a_sum;
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_sum;
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__delay_line_in;
X_UnInt32 _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i;
double _dg_800kw_diesel_gen_control_bus_split3__out;
double _dg_800kw_diesel_gen_control_bus_split3__out1;
double _dg_800kw_diesel_gen_control_bus_split3__out2;
double _dg_800kw_diesel_gen_control_bus_split3__out3;
double _dg_800kw_diesel_gen_control_bus_split3__out4;
double _dg_800kw_diesel_gen_control_bus_split3__out5;
double _dg_800kw_diesel_gen_control_bus_split3__out6;
double _dg_800kw_diesel_gen_control_bus_split3__out7;
double _dg_800kw_diesel_gen_control_bus_split3__out8;
double _ess_battery_inverter_control_inputs_bus_split2__out;
double _ess_battery_inverter_control_inputs_bus_split2__out1;
double _ess_battery_inverter_control_inputs_bus_split2__out2;
double _ess_battery_inverter_control_inputs_bus_split2__out3;
double _ess_battery_inverter_control_inputs_bus_split2__out4;
double _ess_battery_inverter_control_inputs_bus_split2__out5;
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_coeff[2] = {0.0003140606003114721, 0.0003140606003114721};
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__a_coeff[2] = {1.0, -0.999371878799377};
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__a_sum;
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_sum;
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in;
X_UnInt32 _back_up_diesel_gen_sync_check_check_phase_diff_lpf__i;
float _back_up_diesel_gen_sync_check_v_match__tmp;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_limit1__out;
double _back_up_diesel_gen_sync_check_contactor_control_and__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_limit1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_ki__out;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_kp__out;
double _back_up_diesel_gen_control_pf_control_pi_limit1__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_coeff[2] = {0.0003140606003114721, 0.0003140606003114721};
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__a_coeff[2] = {1.0, -0.999371878799377};
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__a_sum;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_sum;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i;
float _dg_800kw_diesel_gen_sync_check_v_match__tmp;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_limit1__out;
float _ess_battery_inverter_control_synch_on_nominal__tmp;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum5__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out;
double _fuel_cell_interface_bus_split1__out;
double _fuel_cell_interface_bus_split1__out1;
double _fuel_cell_interface_bus_split1__out2;
double _fuel_cell_interface_bus_split1__out3;
double _fuel_cell_interface_bus_split1__out4;
double _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Control_mode;


double _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control;
double _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Q_control;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_load_share_switch__out;
float _dg_800kw_diesel_gen_control_gen_on__tmp;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_w_switch__out;
double _dg_800kw_diesel_gen_control_round1__out;
double _dg_800kw_diesel_gen_control_start_exciter_and__out;
double _dg_800kw_diesel_gen_control_pf_control_greater_equal__out;
double _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__u;
double _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__P;
double _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf;


double _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm;
double _dg_800kw_diesel_gen_output_bus_join1__out[14];
double _ess_battery_inverter_control_imode_control_gain1__out;
double _ess_battery_inverter_control_imode_control_gain2__out;
double _ess_battery_inverter_control_vmode_control_gain1__out;
double _ess_battery_inverter_control_vmode_control_gain2__out;
double _ess_battery_inverter_control_inputs_limit1__out;
double _ess_battery_inverter_control_inputs_limit2__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_sum6__out;
double _back_up_diesel_gen_sync_check_check_v_diff_signal_switch1__out;
float _back_up_diesel_gen_sync_check_contactor_control_gcb_control__tmp;
double _back_up_diesel_gen_sync_check_contactor_control_signal_switch1__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum6__out;
double _back_up_diesel_gen_sync_check_check_phase_diff_product1__out;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_sum5__out;
double _back_up_diesel_gen_control_pf_control_pi_sum6__out;
double _back_up_diesel_gen_control_pf_control_signal_switch4__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum6__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_signal_switch1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_ki__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_kp__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_ki__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_kp__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_limit1__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_sum6__out;
double _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__in_rate;
double _fuel_cell_sofc_inverter_control_pll_pll_integrator__in;


double _fuel_cell_sofc_inverter_control_pll_pll_integrator__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__in_rate;
double _dg_800kw_diesel_gen_control_read_op_mode__GCB_status;
double _dg_800kw_diesel_gen_control_read_op_mode__OP_mode;


double _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing;
double _dg_800kw_diesel_gen_control_read_op_mode__GridForming;
double _dg_800kw_diesel_gen_control_read_op_mode__StandBy;
double _dg_800kw_diesel_gen_control_read_op_mode__enable;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__out;
double _dg_800kw_diesel_gen_control_exciter_product1__out;
double _dg_800kw_diesel_gen_control_exciter_switch__out;
float _dg_800kw_diesel_gen_control_exciter_on__tmp;
double _dg_800kw_split_bus_split1__out;
double _dg_800kw_split_bus_split1__out1;
double _dg_800kw_split_bus_split1__out2;
double _dg_800kw_split_bus_split1__out3;
double _dg_800kw_split_bus_split1__out4;
double _dg_800kw_split_bus_split1__out5;
double _dg_800kw_split_bus_split1__out6;
double _dg_800kw_split_bus_split1__out7;
double _dg_800kw_split_bus_split1__out8;
double _dg_800kw_split_bus_split1__out9;
double _dg_800kw_split_bus_split1__out10;
double _dg_800kw_split_bus_split1__out11;
double _dg_800kw_split_bus_split1__out12;
double _dg_800kw_split_bus_split1__out13;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;


double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q;
double _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__S;
double _ess_battery_inverter_control_vmode_control_rate_limiter2__in_rate;
double _ess_battery_inverter_control_inputs_round2__out;
double _ess_battery_inverter_control_inputs_round1__out;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_kb__out;
double _back_up_diesel_gen_sync_check_bus_join__out[3];
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_kb__out;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_sum4__out;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_limit1__out;
double _back_up_diesel_gen_control_pf_control_pi_kb__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_kb__out;
double _dg_800kw_diesel_gen_sync_check_bus_join__out[3];
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum6__out;
double _fuel_cell_sofc_inverter_control_grid_follow_signal_switch1__out;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_kb__out;
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__out;
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__b_coeff[2] = {2.220446049250313e-16, 0.0002467400073613568};
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_coeff[3] = {1.0, -1.97778894456, 0.9780356845673617};
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_sum;
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__b_sum;
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__delay_line_in;
X_UnInt32 _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_product2__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_sum6__out;
double _dg_800kw_diesel_gen_control_bus_join1__out[5];
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_f_droop_switch__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_w_switch__out;
float _dg_800kw_diesel_gen_control_gridfollowing__tmp;
float _dg_800kw_diesel_gen_control_gridforming__tmp;
float _dg_800kw_diesel_gen_control_standby__tmp;
double _dg_800kw_diesel_gen_control_pf_control_logical_operator5__out;
double _dg_800kw_diesel_gen_control_exciter_vfpu_to_vf__out;
double _dg_800kw_diesel_gen_control_exciter_rate_limit__in_rate;
double _dg_800kw_split_logical_operator1__out;
double _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__in_rate;
double _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__in_rate;
double _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__in_rate;
double _ess_battery_inverter_control_vmode_control_internal_frequency_sum1__out;
double _ess_battery_inverter_control_imode_control_edge_detection2_relational_operator1__out;
float _ess_battery_inverter_control_inv_cab_sm_read_mode_on__tmp;
double _ess_battery_inverter_control_vmode_control_edge_detection2_relational_operator1__out;
double _ess_battery_inverter_control_vmode_control_signal_switch1__out;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock1;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock2;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__from_grid_follow;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__On;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__grid_locked;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__live_grid;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__mode;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__on_nominal;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__v_match;


double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode;
double _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_sum7__out;
double _back_up_diesel_gen_control_bus_split2__out;
double _back_up_diesel_gen_control_bus_split2__out1;
double _back_up_diesel_gen_control_bus_split2__out2;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum7__out;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__out;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_coeff[2] = {1.0, -0.9987441520111273};
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in;
X_UnInt32 _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_sum6__out;
double _back_up_diesel_gen_control_freq_setpoint_control_mode_switch1__out;
double _back_up_diesel_gen_control_pf_control_pi_sum7__out;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum7__out;
double _dg_800kw_diesel_gen_control_bus_split2__out;
double _dg_800kw_diesel_gen_control_bus_split2__out1;
double _dg_800kw_diesel_gen_control_bus_split2__out2;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_limit1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_limit1__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_kb__out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;


double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__S;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_sum7__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_sum5__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_kb__out;
double _dg_800kw_diesel_gen_sync_check_bus_split1__out;
double _dg_800kw_diesel_gen_sync_check_bus_split1__out1;
double _dg_800kw_diesel_gen_sync_check_bus_split1__out2;
double _dg_800kw_diesel_gen_sync_check_bus_split1__out3;
double _dg_800kw_diesel_gen_sync_check_bus_split1__out4;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate;
double _dg_800kw_diesel_gen_control_read_control_mode_state__P;
double _dg_800kw_diesel_gen_control_read_control_mode_state__Q;
double _dg_800kw_diesel_gen_control_read_control_mode_state__enable;


double _dg_800kw_diesel_gen_control_read_control_mode_state__PQ;
double _dg_800kw_diesel_gen_control_read_control_mode_state__PV;
double _dg_800kw_diesel_gen_control_read_control_mode_state__Vf;
double _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__out;
double _dg_800kw_diesel_gen_control_pf_control_signal_switch2__out;
double _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref;
double _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Pref;
double _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Qref;
double _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Sref;


double _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__P;
double _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Q;
double _ess_battery_inverter_control_vmode_control_internal_frequency_gain1__out;
double _ess_battery_inverter_control_vmode_control_rate_limiter1__in_rate;
double _ess_battery_inverter_control_imode_control_edge_detection1_relational_operator1__out;
float _ess_battery_inverter_control_inv_cab_sm_cb_status__tmp;
float _ess_battery_inverter_control_inv_cab_sm_v_mode__tmp;
double _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__control_mode;


double _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_following;
double _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_forming;
double _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__stand_by;
float _ess_battery_inverter_control_inv_cab_sm_synch__tmp;
double _ess_battery_inverter_control_synch_vmatch_pi_integrator1__out;
double _ess_battery_inverter_control_synch_vmatch_signal_switch2__out;
double _ess_battery_inverter_control_synch_f_match_pi_integrator1__out;
double _ess_battery_inverter_control_synch_f_match_signal_switch2__out;
double _ess_battery_inverter_control_vmode_control_edge_detection1_relational_operator1__out;
double _ess_battery_inverter_output_bus_join1__out[14];
double _back_up_diesel_gen_control_exciter_sum__out;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_kb__out;
double _back_up_diesel_gen_control_governor_and_engine_sum5__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum6__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum6__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum3__out;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__in_rate;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__in_rate;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__in_rate;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_sum6__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_sum7__out;
double _dg_800kw_diesel_gen_sync_check_bus_join2__out[3];
double _dg_800kw_diesel_gen_sync_check_contactor_control_not__out;
float _dg_800kw_diesel_gen_sync_check_speed_ss__tmp;
double _dg_800kw_diesel_gen_sync_check_and2__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_sum8__out;
float _dg_800kw_diesel_gen_control_read_control_mode_pq_mode__tmp;
float _dg_800kw_diesel_gen_control_read_control_mode_pv_mode__tmp;
float _dg_800kw_diesel_gen_control_read_control_mode_vf_mode__tmp;
double _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__in_rate;
double _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_gain1__out;
double _ess_battery_inverter_control_vmode_control_sum3__out;
double _ess_battery_inverter_control_imode_control_logical_operator1__out;
float _ess_battery_inverter_control_inv_cab_sm_read_mode_grid_following__tmp;
float _ess_battery_inverter_control_inv_cab_sm_read_mode_grid_forming__tmp;
float _ess_battery_inverter_control_inv_cab_sm_read_mode_standby__tmp;
double _ess_battery_inverter_control_synch_vmatch_pi_ki__out;
double _ess_battery_inverter_control_synch_vmatch_pi_kp__out;
double _ess_battery_inverter_control_synch_f_match_pi_ki__out;
double _ess_battery_inverter_control_synch_f_match_pi_kp__out;
double _ess_battery_inverter_control_vmode_control_logical_operator1__out;
double _ess_split_bus_split1__out;
double _ess_split_bus_split1__out1;
double _ess_split_bus_split1__out2;
double _ess_split_bus_split1__out3;
double _ess_split_bus_split1__out4;
double _ess_split_bus_split1__out5;
double _ess_split_bus_split1__out6;
double _ess_split_bus_split1__out7;
double _ess_split_bus_split1__out8;
double _ess_split_bus_split1__out9;
double _ess_split_bus_split1__out10;
double _ess_split_bus_split1__out11;
double _ess_split_bus_split1__out12;
double _ess_split_bus_split1__out13;
double _back_up_diesel_gen_control_exciter_sum2__out;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_sum7__out;
double _back_up_diesel_gen_control_governor_and_engine_sum4__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_kb__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_kb__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product8__out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Pref;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Qref;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Sref;


double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__P;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Q;
double _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out1;
double _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out2;
double _dg_800kw_diesel_gen_sync_check_and1__out;
float _dg_800kw_diesel_gen_sync_check_dw_synch_on__tmp;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_mode_switch__out;
double _dg_800kw_diesel_gen_control_pf_control_sum6__out;
double _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out;
double _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__in;


double _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__output;
double _ess_battery_inverter_control_vmode_control_current_ref_sum4__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__out;
double _ess_battery_inverter_control_synch_vmatch_pi_sum5__out;
double _ess_battery_inverter_control_synch_f_match_pi_sum5__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__out;
double _ess_split_logical_operator1__out;
double _back_up_diesel_gen_control_exciter_dc4b_sum1__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__out;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_coeff[3] = {2488.557213930348, 0.9950248756208566, -2487.5621890537072};
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_coeff[3] = {1.0, 0.9850746268656716, 0.004975124378109485};
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_sum;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_sum;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in;
X_UnInt32 _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain11__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum7__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain10__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_relational_operator1__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_or__out;
float _dg_800kw_diesel_gen_sync_check_check_phase_on__tmp;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_sum7__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_ki__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_kp__out;
double _ess_battery_inverter_control_change_ctrlmode_signal_switch3__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_ki__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_kp__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum5__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum5__out;
double _ess_battery_inverter_control_synch_vmatch_pi_limit1__out;
double _ess_battery_inverter_control_synch_f_match_pi_limit1__out;
double _back_up_diesel_gen_control_exciter_dc4b_sum2__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum9__out;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum8__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc;
double _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Reset;
double _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__boolean;


double _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum5__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_sum3__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_sum5__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_sum5__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_limit1__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_limit1__out;
double _ess_battery_inverter_control_synch_vmatch_pi_sum6__out;
double _ess_battery_inverter_control_synch_f_match_pi_sum6__out;
double _ess_battery_inverter_control_synch_phase_match_sum1__out;
double _back_up_diesel_gen_control_exciter_dc4b_pi_ki__out;
double _back_up_diesel_gen_control_exciter_dc4b_pi_kp__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_limit3__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_limit2__out;
double _dg_800kw_diesel_gen_sync_check_contactor_control_and__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_limit1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_ki__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_kp__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_limit1__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_limit1__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum6__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_sum9__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum6__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_sum12__out;
double _ess_battery_inverter_control_synch_vmatch_pi_kb__out;
double _ess_battery_inverter_control_synch_f_match_pi_kb__out;
double _ess_battery_inverter_control_synch_phase_match_signal_switch2__out;
double _back_up_diesel_gen_control_exciter_dc4b_pi_sum5__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2;
float _dg_800kw_diesel_gen_sync_check_contactor_control_gcb_control__tmp;
double _dg_800kw_diesel_gen_sync_check_contactor_control_signal_switch1__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum6__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_product1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum5__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_sum6__out;
double _dg_800kw_diesel_gen_control_pf_control_signal_switch4__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_sum6__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_sum15__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_kb__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_product5__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_kb__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_product7__out;
double _ess_battery_inverter_control_synch_vmatch_pi_sum7__out;
double _ess_battery_inverter_control_synch_f_match_pi_sum7__out;
double _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__in_rate;
double _back_up_diesel_gen_control_exciter_dc4b_pi_limit1__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B;
double _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_kb__out;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_sum4__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_limit1__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_kb__out;
double _dg_800kw_diesel_gen_control_exciter_sum__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_kb__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_ki__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_kp__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum7__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_gain10__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum7__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_gain11__out;
double _back_up_diesel_gen_control_exciter_dc4b_pi_sum6__out;
double _back_up_diesel_gen_control_exciter_dc4b_product1__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_min_max1__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_min_max2__out;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum7__out;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__out;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_coeff[2] = {0.0006279239944363413, 0.0006279239944364523};
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_coeff[2] = {1.0, -0.9987441520111273};
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum6__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_mode_switch1__out;
double _dg_800kw_diesel_gen_control_pf_control_pi_sum7__out;
double _dg_800kw_diesel_gen_control_exciter_sum2__out;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_sum7__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum5__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_damper_sum8__out;
double _ess_battery_inverter_control_imode_control_dq_current_controller_damper_sum9__out;
double _back_up_diesel_gen_control_exciter_dc4b_pi_kb__out;
double _back_up_diesel_gen_control_exciter_dc4b_ka__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_product2__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_kb__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_sum5__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_sum1__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_limit1__out;
double _ess_battery_inverter_control_change_ctrlmode_signal_switch2__out;
double _back_up_diesel_gen_control_exciter_dc4b_pi_sum7__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf2__out;
double _back_up_diesel_gen_control_exciter_dc4b_tf2__b_coeff[2] = {0.04761904761904767, 0.04761904761904756};
double _back_up_diesel_gen_control_exciter_dc4b_tf2__a_coeff[2] = {1.0, -0.9047619047619047};
double _back_up_diesel_gen_control_exciter_dc4b_tf2__a_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf2__b_sum;
double _back_up_diesel_gen_control_exciter_dc4b_tf2__delay_line_in;
X_UnInt32 _back_up_diesel_gen_control_exciter_dc4b_tf2__i;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_product1__out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum7__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_sum4__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_sum2__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum6__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_product11__out;
double _ess_battery_inverter_control_duty_cycle_limit3__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum3__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__out;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_coeff[3] = {2488.557213930348, 0.9950248756208566, -2487.5621890537072};
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_coeff[3] = {1.0, 0.9850746268656716, 0.004975124378109485};
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_sum;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_sum;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_ki__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_kp__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_kb__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_gain10__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum5__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum6__out;
double _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum7__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum5__out;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum7__out;
double _ess_battery_inverter_control_change_ctrlmode_signal_switch1__out;
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[1] = {3};
double _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__limited_in[1];
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__update_mask;
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__sig_dir[1];

X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[1] = {4};
double _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__limited_in[1];
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__update_mask;
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__sig_dir[1];

X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[1] = {5};
double _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__limited_in[1];
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__update_mask;
X_UnInt32 _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__sig_dir[1];

double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_limit1__out;
double _ess_battery_inverter_control_duty_cycle_limit2__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum6__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_product1__out;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_kb__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_ka__out;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B;
double _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum7__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__out;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_coeff[2] = {0.04761904761904767, 0.04761904761904756};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__a_coeff[2] = {1.0, -0.9047619047619047};
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__a_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_sum;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__delay_line_in;
X_UnInt32 _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i;
double _ess_battery_inverter_control_duty_cycle_zsm_min_max1__out;
double _ess_battery_inverter_control_duty_cycle_zsm_min_max2__out;
double _ess_battery_inverter_control_duty_cycle_zsm_product2__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum1__out;
double _ess_battery_inverter_control_duty_cycle_zsm_product1__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum3__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum5__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum6__out;
double _ess_battery_inverter_control_duty_cycle_zsm_sum7__out;
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[1] = {0};
double _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__limited_in[1];
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__update_mask;
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__sig_dir[1];

X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[1] = {1};
double _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__limited_in[1];
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__update_mask;
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__sig_dir[1];

X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[1] = {2};
double _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__limited_in[1];
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__update_mask;
X_UnInt32 _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__sig_dir[1];

//@cmp.var.end

//@cmp.svar.start
// state variables
double _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[120];
unsigned int _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi;
double _back_up_diesel_gen_control_unit_delay1__state;
double _back_up_diesel_gen_control_unit_delay2__state;
double _back_up_diesel_gen_control_unit_delay3__state;
double _back_up_diesel_gen_gen_machine_wrapper1__model_load;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state;
double _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state;
double _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state;
double _back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state;
double _back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__state;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state;
double _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state;
double _back_up_rate_transition1_output__out[5] = { 0.0, 0.0, 0.0, 0.0, 0.0};

double _back_up_interface_rate_transition1_output__out =  0.0;

double _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[120];
unsigned int _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi;
double _dg_800kw_diesel_gen_control_unit_delay1__state;
double _dg_800kw_diesel_gen_control_unit_delay2__state;
double _dg_800kw_diesel_gen_control_unit_delay3__state;
double _dg_800kw_diesel_gen_gen_machine_wrapper1__model_load;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state;
double _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state;
double _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__state;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state;
double _dg_800kw_interface_rate_transition1_output__out[5] = { 0.0, 0.0, 0.0, 0.0, 0.0};

double _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__state;
double _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__state;
double _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__state;
double _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__state;
double _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__state;
double _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__state;
double _ess_battery_inverter_control_pll_pu_pll_unit_delay1__state;
double _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__state;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__state;
double _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__state;
double _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__state;
double _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__state;
double _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__reset_state;
double _ess_battery_inverter_control_synch_vmatch_unit_delay3__state;
double _ess_battery_inverter_control_synch_vmatch_unit_delay4__state;
double _ess_battery_inverter_control_synch_vmatch_unit_delay5__state;
double _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__state;
double _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__reset_state;
double _ess_battery_inverter_control_synch_f_match_delay1__state[10];
unsigned int _ess_battery_inverter_control_synch_f_match_delay1__cbi;

double _ess_battery_inverter_control_synch_f_match_unit_delay1__state;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__state;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__state;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__state;
double _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__state;
double _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__state;
double _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__reset_state;
double _ess_battery_inverter_control_synch_phase_match_unit_delay3__state;
double _ess_battery_inverter_control_synch_phase_match_unit_delay4__state;
double _ess_battery_inverter_control_synch_phase_match_unit_delay5__state;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__state;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__state;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__state;
double _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__state;
double _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__state;
double _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__state;
X_Int32 _ess_battery_inverter_thd_ia_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _ess_battery_inverter_thd_ia_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _ess_battery_inverter_thd_ia_rt3_output__out = (X_Int32) 0.0;

double _ess_battery_inverter_thd_ia_rt4_output__out =  0.0;

X_Int32 _ess_battery_inverter_thd_ib_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _ess_battery_inverter_thd_ib_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _ess_battery_inverter_thd_ib_rt3_output__out = (X_Int32) 0.0;

double _ess_battery_inverter_thd_ib_rt4_output__out =  0.0;

X_Int32 _ess_battery_inverter_thd_ic_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _ess_battery_inverter_thd_ic_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _ess_battery_inverter_thd_ic_rt3_output__out = (X_Int32) 0.0;

double _ess_battery_inverter_thd_ic_rt4_output__out =  0.0;

X_Int32 _ess_battery_inverter_thd_va_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _ess_battery_inverter_thd_va_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _ess_battery_inverter_thd_va_rt3_output__out = (X_Int32) 0.0;

double _ess_battery_inverter_thd_va_rt4_output__out =  0.0;

X_Int32 _ess_battery_inverter_thd_vb_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _ess_battery_inverter_thd_vb_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _ess_battery_inverter_thd_vb_rt3_output__out = (X_Int32) 0.0;

double _ess_battery_inverter_thd_vb_rt4_output__out =  0.0;

X_Int32 _ess_battery_inverter_thd_vc_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _ess_battery_inverter_thd_vc_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _ess_battery_inverter_thd_vc_rt3_output__out = (X_Int32) 0.0;

double _ess_battery_inverter_thd_vc_rt4_output__out =  0.0;

double _ess_interface_rate_transition1_output__out[5] = { 0.0, 0.0, 0.0, 0.0, 0.0};

double _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__state;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__state;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__state;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__state;
double _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__state;
double _fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__state;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator1__state;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator2__state;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator3__state;
double _fuel_cell_sofc_inverter_sofc_sofc_integrator4__state;
X_Int32 _fuel_cell_sofc_inverter_thd_ia_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _fuel_cell_sofc_inverter_thd_ia_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_ia_rt3_output__out = (X_Int32) 0.0;

double _fuel_cell_sofc_inverter_thd_ia_rt4_output__out =  0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_ib_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _fuel_cell_sofc_inverter_thd_ib_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_ib_rt3_output__out = (X_Int32) 0.0;

double _fuel_cell_sofc_inverter_thd_ib_rt4_output__out =  0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_ic_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _fuel_cell_sofc_inverter_thd_ic_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_ic_rt3_output__out = (X_Int32) 0.0;

double _fuel_cell_sofc_inverter_thd_ic_rt4_output__out =  0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_va_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _fuel_cell_sofc_inverter_thd_va_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_va_rt3_output__out = (X_Int32) 0.0;

double _fuel_cell_sofc_inverter_thd_va_rt4_output__out =  0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_vb_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _fuel_cell_sofc_inverter_thd_vb_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_vb_rt3_output__out = (X_Int32) 0.0;

double _fuel_cell_sofc_inverter_thd_vb_rt4_output__out =  0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_vc_rt1_output__out = (X_Int32) 0.0;

X_UnInt32 _fuel_cell_sofc_inverter_thd_vc_rt2_output__out = (X_UnInt32) 0.0;

X_Int32 _fuel_cell_sofc_inverter_thd_vc_rt3_output__out = (X_Int32) 0.0;

double _fuel_cell_sofc_inverter_thd_vc_rt4_output__out =  0.0;

double _fuel_cell_interface_rate_transition1_output__out =  0.0;

double _microgrid_controller_rate_transition1_output__out[2] = { 0.0, 0.0};

double _microgrid_controller_rate_transition2_output__out =  0.0;

double _microgrid_controller_rate_transition3_output__out =  0.0;

double _microgrid_controller_rate_transition4_output__out =  0.0;

double _microgrid_controller_rate_transition5_output__out =  0.0;

double _pcc_monitor_rate_transition1_output__out[2] = { 0.0, 0.0};

double _pcc_monitor_sr_flip_flop4__state;
double _pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__state;
double _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state;
double _pcc_monitor_synch_check_plls_pll_pid_integrator1__state;
double _pcc_monitor_synch_check_plls_pll_pid_integrator2__state;
double _pcc_monitor_synch_check_plls_pll_unit_delay1__state;
double _pcc_monitor_synch_check_plls_pll1_pid_integrator1__state;
double _pcc_monitor_synch_check_plls_pll1_pid_integrator2__state;
double _pcc_monitor_synch_check_plls_pll1_unit_delay1__state;
double _pcc_monitor_synch_check_check_v_diff_unit_delay1__state;
double _pcc_monitor_synch_check_check_f_diff_pi_integrator1__state;
double _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__state;
double _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__reset_state;
double _back_up_diesel_gen_control_exciter_dc4b_tf4__states[1];
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0;
double _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__state;
double _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__states[1];
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0;
double _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__state;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state;
double _ess_battery_inverter_control_synch_phase_match_pi_integrator1__state;
double _ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state;
X_UnInt32 _ess_battery_inverter_thd_ia_thd_fft1__iter;
double _ess_battery_inverter_thd_ia_thd_fft1__rms_fund;
double _ess_battery_inverter_thd_ia_thd_fft1__rms_total;
double _ess_battery_inverter_thd_ia_samples_holder[84];
X_UnInt32 _ess_battery_inverter_thd_ia_thd_array1__counter;
X_Int32 _ess_battery_inverter_thd_ia_thd_array1__ack_old_state;
X_Int32 _ess_battery_inverter_thd_ia_thd_array1__syn;
double _ess_battery_inverter_thd_ia_thd_array1__var_filt;
X_UnInt32 _ess_battery_inverter_thd_ib_thd_fft1__iter;
double _ess_battery_inverter_thd_ib_thd_fft1__rms_fund;
double _ess_battery_inverter_thd_ib_thd_fft1__rms_total;
double _ess_battery_inverter_thd_ib_samples_holder[84];
X_UnInt32 _ess_battery_inverter_thd_ib_thd_array1__counter;
X_Int32 _ess_battery_inverter_thd_ib_thd_array1__ack_old_state;
X_Int32 _ess_battery_inverter_thd_ib_thd_array1__syn;
double _ess_battery_inverter_thd_ib_thd_array1__var_filt;
X_UnInt32 _ess_battery_inverter_thd_ic_thd_fft1__iter;
double _ess_battery_inverter_thd_ic_thd_fft1__rms_fund;
double _ess_battery_inverter_thd_ic_thd_fft1__rms_total;
double _ess_battery_inverter_thd_ic_samples_holder[84];
X_UnInt32 _ess_battery_inverter_thd_ic_thd_array1__counter;
X_Int32 _ess_battery_inverter_thd_ic_thd_array1__ack_old_state;
X_Int32 _ess_battery_inverter_thd_ic_thd_array1__syn;
double _ess_battery_inverter_thd_ic_thd_array1__var_filt;
X_UnInt32 _ess_battery_inverter_thd_va_thd_fft1__iter;
double _ess_battery_inverter_thd_va_thd_fft1__rms_fund;
double _ess_battery_inverter_thd_va_thd_fft1__rms_total;
double _ess_battery_inverter_thd_va_samples_holder[84];
X_UnInt32 _ess_battery_inverter_thd_va_thd_array1__counter;
X_Int32 _ess_battery_inverter_thd_va_thd_array1__ack_old_state;
X_Int32 _ess_battery_inverter_thd_va_thd_array1__syn;
double _ess_battery_inverter_thd_va_thd_array1__var_filt;
X_UnInt32 _ess_battery_inverter_thd_vb_thd_fft1__iter;
double _ess_battery_inverter_thd_vb_thd_fft1__rms_fund;
double _ess_battery_inverter_thd_vb_thd_fft1__rms_total;
double _ess_battery_inverter_thd_vb_samples_holder[84];
X_UnInt32 _ess_battery_inverter_thd_vb_thd_array1__counter;
X_Int32 _ess_battery_inverter_thd_vb_thd_array1__ack_old_state;
X_Int32 _ess_battery_inverter_thd_vb_thd_array1__syn;
double _ess_battery_inverter_thd_vb_thd_array1__var_filt;
X_UnInt32 _ess_battery_inverter_thd_vc_thd_fft1__iter;
double _ess_battery_inverter_thd_vc_thd_fft1__rms_fund;
double _ess_battery_inverter_thd_vc_thd_fft1__rms_total;
double _ess_battery_inverter_thd_vc_samples_holder[84];
X_UnInt32 _ess_battery_inverter_thd_vc_thd_array1__counter;
X_Int32 _ess_battery_inverter_thd_vc_thd_array1__ack_old_state;
X_Int32 _ess_battery_inverter_thd_vc_thd_array1__syn;
double _ess_battery_inverter_thd_vc_thd_array1__var_filt;
X_UnInt32 _fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter;
double _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund;
double _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total;
double _fuel_cell_sofc_inverter_thd_ia_samples_holder[167];
X_UnInt32 _fuel_cell_sofc_inverter_thd_ia_thd_array1__counter;
X_Int32 _fuel_cell_sofc_inverter_thd_ia_thd_array1__ack_old_state;
X_Int32 _fuel_cell_sofc_inverter_thd_ia_thd_array1__syn;
double _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt;
X_UnInt32 _fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter;
double _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund;
double _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total;
double _fuel_cell_sofc_inverter_thd_ib_samples_holder[167];
X_UnInt32 _fuel_cell_sofc_inverter_thd_ib_thd_array1__counter;
X_Int32 _fuel_cell_sofc_inverter_thd_ib_thd_array1__ack_old_state;
X_Int32 _fuel_cell_sofc_inverter_thd_ib_thd_array1__syn;
double _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt;
X_UnInt32 _fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter;
double _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund;
double _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total;
double _fuel_cell_sofc_inverter_thd_ic_samples_holder[167];
X_UnInt32 _fuel_cell_sofc_inverter_thd_ic_thd_array1__counter;
X_Int32 _fuel_cell_sofc_inverter_thd_ic_thd_array1__ack_old_state;
X_Int32 _fuel_cell_sofc_inverter_thd_ic_thd_array1__syn;
double _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt;
X_UnInt32 _fuel_cell_sofc_inverter_thd_va_thd_fft1__iter;
double _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund;
double _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total;
X_UnInt32 _fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter;
double _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund;
double _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total;
X_UnInt32 _fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter;
double _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund;
double _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total;
double _fuel_cell_sofc_inverter_thd_va_samples_holder[167];
X_UnInt32 _fuel_cell_sofc_inverter_thd_va_thd_array1__counter;
X_Int32 _fuel_cell_sofc_inverter_thd_va_thd_array1__ack_old_state;
X_Int32 _fuel_cell_sofc_inverter_thd_va_thd_array1__syn;
double _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt;
double _fuel_cell_sofc_inverter_thd_vb_samples_holder[167];
X_UnInt32 _fuel_cell_sofc_inverter_thd_vb_thd_array1__counter;
X_Int32 _fuel_cell_sofc_inverter_thd_vb_thd_array1__ack_old_state;
X_Int32 _fuel_cell_sofc_inverter_thd_vb_thd_array1__syn;
double _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt;
double _fuel_cell_sofc_inverter_thd_vc_samples_holder[167];
X_UnInt32 _fuel_cell_sofc_inverter_thd_vc_thd_array1__counter;
X_Int32 _fuel_cell_sofc_inverter_thd_vc_thd_array1__ack_old_state;
X_Int32 _fuel_cell_sofc_inverter_thd_vc_thd_array1__syn;
double _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt;
double _pcc_monitor_synch_check_check_v_diff_pi_integrator1__state;
double _pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0;
double _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0;
double _load_100___pq_power_meter1__filter_1_output_k_minus_1;
double _load_100___pq_power_meter1__filter_1_input_k_minus_1;
double _load_100___pq_power_meter1__filter_1_output_k_minus_1Q;
double _load_100___pq_power_meter1__filter_1_input_k_minus_1Q;
double _load_100___pq_power_meter1__filter_1_output_k_minus_1P0;
double _load_100___pq_power_meter1__filter_1_input_k_minus_1P0;
double _load_25___pq_power_meter1__filter_1_output_k_minus_1;
double _load_25___pq_power_meter1__filter_1_input_k_minus_1;
double _load_25___pq_power_meter1__filter_1_output_k_minus_1Q;
double _load_25___pq_power_meter1__filter_1_input_k_minus_1Q;
double _load_25___pq_power_meter1__filter_1_output_k_minus_1P0;
double _load_25___pq_power_meter1__filter_1_input_k_minus_1P0;
double _load_50___pq_power_meter1__filter_1_output_k_minus_1;
double _load_50___pq_power_meter1__filter_1_input_k_minus_1;
double _load_50___pq_power_meter1__filter_1_output_k_minus_1Q;
double _load_50___pq_power_meter1__filter_1_input_k_minus_1Q;
double _load_50___pq_power_meter1__filter_1_output_k_minus_1P0;
double _load_50___pq_power_meter1__filter_1_input_k_minus_1P0;
double _load_75___pq_power_meter1__filter_1_output_k_minus_1;
double _load_75___pq_power_meter1__filter_1_input_k_minus_1;
double _load_75___pq_power_meter1__filter_1_output_k_minus_1Q;
double _load_75___pq_power_meter1__filter_1_input_k_minus_1Q;
double _load_75___pq_power_meter1__filter_1_output_k_minus_1P0;
double _load_75___pq_power_meter1__filter_1_input_k_minus_1P0;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[2];
double _back_up_diesel_gen_control_start_exciter_comparator1__state;
double _back_up_diesel_gen_sync_check_check_f_diff_comparator1__state;
double _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__state;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[2];
double _dg_800kw_diesel_gen_control_start_exciter_comparator1__state;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__state;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__state;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__states[1];
double _pcc_monitor_synch_check_check_f_diff_lpf_dwf__states[1];
double _pcc_monitor_synch_check_check_f_diff_comparator1__state;
double _pcc_monitor_synch_check_check_phase_diff_comparator2__state;
double _back_up_diesel_gen_control_exciter_dc4b_tf3__states[1];
double _back_up_diesel_gen_control_check_steady_state_w_comparator3__state;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[1];
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[1];
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__states[1];
double _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__state;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[1];
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[1];
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__states[1];
double _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__states[1];
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__states[1];
double _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__states[1];
double _pcc_monitor_synch_check_plls_pll_lpf_d__states[1];
double _pcc_monitor_synch_check_plls_pll_lpf_q__states[1];
double _pcc_monitor_synch_check_plls_pll1_lpf_d__states[1];
double _pcc_monitor_synch_check_plls_pll1_lpf_q__states[1];
double _microgrid_controller_pi_p_integrator1__state;
double _microgrid_controller_pi_p_integrator1__reset_state;
double _microgrid_controller_pi_q_integrator1__state;
double _microgrid_controller_pi_q_integrator1__reset_state;
double _pcc_monitor_synch_check_check_v_diff_comparator1__state;
double _back_up_diesel_gen_control_exciter_dc4b_tf1__states[1];
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state;
double _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state;
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__states[1];
double _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__state;
double _ess_battery_inverter_control_synch_check_grid_comparator1__state;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__state;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__state;
double _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__state;
double _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state;
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[1];
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out;
int _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step;
double _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out;
double _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out;
int _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__first_step;
double _back_up_diesel_gen_control_governor_and_engine_w_ramp__prev_out;
double _back_up_diesel_gen_control_governor_and_engine_w_ramp__out;
int _back_up_diesel_gen_control_governor_and_engine_w_ramp__first_step;
double _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__state;
double _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state;
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[1];
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out;
int _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step;
double _ess_battery_inverter_control_synch_f_match_comparator1__state;
double _ess_battery_inverter_control_synch_phase_match_comparator2__state;
double _pcc_monitor_synch_check_plls_pll_rate_limiter1__prev_out;
double _pcc_monitor_synch_check_plls_pll_rate_limiter1__out;
int _pcc_monitor_synch_check_plls_pll_rate_limiter1__first_step;
double _pcc_monitor_synch_check_plls_pll1_rate_limiter1__prev_out;
double _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out;
int _pcc_monitor_synch_check_plls_pll1_rate_limiter1__first_step;
double _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[2];
double _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__state;
double _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state;
double _back_up_diesel_gen_control_exciter_rate_limit__prev_out;
double _back_up_diesel_gen_control_exciter_rate_limit__out;
int _back_up_diesel_gen_control_exciter_rate_limit__first_step;
double _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[2];
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__states[1];
double _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__states[1];
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__states[1];
double _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__states[1];
double _pcc_monitor_synch_check_plls_pll_lpf_q1__states[2];
double _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__state;
double _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state;
double _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[2];
double _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out;
double _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out;
int _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__first_step;
double _back_up_diesel_gen_control_pf_control_pi_integrator1__state;
double _back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state;
double _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__state;
double _ess_battery_inverter_control_synch_check_grid_comparator2__state;
double _ess_battery_inverter_control_synch_vmatch_comparator2__state;
double _back_up_diesel_gen_control_pf_control_rate_limiter1__prev_out;
double _back_up_diesel_gen_control_pf_control_rate_limiter1__out;
int _back_up_diesel_gen_control_pf_control_rate_limiter1__first_step;
double _pcc_monitor_synch_check_check_phase_diff_lpf__states[1];
double _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[1];
double _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[1];
double _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__prev_out;
double _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out;
int _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__first_step;
double _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__prev_out;
double _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out;
int _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__first_step;
double _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[1];
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state;
double _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state;
double _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[1];
double _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[2];
double _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[2];
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__states[1];
double _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__states[1];
double _back_up_diesel_gen_sync_check_check_v_diff_comparator1__state;
double _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__state;
double _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__states[1];
double _back_up_diesel_gen_sync_check_check_phase_diff_lpf__states[1];
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__states[1];
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state;
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state;
double _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__prev_out;
double _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out;
int _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__first_step;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out;
int _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__first_step;
double _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__prev_out;
double _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out;
int _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__first_step;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__state;
double _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state;
double _ess_battery_inverter_control_vmode_control_rate_limiter2__prev_out;
double _ess_battery_inverter_control_vmode_control_rate_limiter2__out;
int _ess_battery_inverter_control_vmode_control_rate_limiter2__first_step;
double _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[2];
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__state;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state;
double _dg_800kw_diesel_gen_control_exciter_rate_limit__prev_out;
double _dg_800kw_diesel_gen_control_exciter_rate_limit__out;
int _dg_800kw_diesel_gen_control_exciter_rate_limit__first_step;
double _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__prev_out;
double _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out;
int _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__first_step;
double _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__prev_out;
double _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out;
int _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__first_step;
double _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__prev_out;
double _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out;
int _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__first_step;
double _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[1];
double _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out;
double _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out;
int _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__first_step;
double _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__state;
double _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state;
double _ess_battery_inverter_control_vmode_control_rate_limiter1__prev_out;
double _ess_battery_inverter_control_vmode_control_rate_limiter1__out;
int _ess_battery_inverter_control_vmode_control_rate_limiter1__first_step;
double _ess_battery_inverter_control_synch_vmatch_pi_integrator1__state;
double _ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state;
double _ess_battery_inverter_control_synch_f_match_pi_integrator1__state;
double _ess_battery_inverter_control_synch_f_match_pi_integrator1__reset_state;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__prev_out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out;
int _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__first_step;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__prev_out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out;
int _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__first_step;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__prev_out;
double _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out;
int _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__first_step;
double _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__prev_out;
double _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out;
int _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__first_step;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__state;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__state;
double _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__state;
double _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__state;
double _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state;
double _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[2];
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state;
double _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state;
double _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__prev_out;
double _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out;
int _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__first_step;
double _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[1];
double _back_up_diesel_gen_control_exciter_dc4b_tf2__states[1];
double _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[2];
double _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__states[1];
//@cmp.svar.end



// generated using template: virtual_hil/custom_functions.template---------------------------------
void ReInit_user_sp_cpu_dev0() {
#if DEBUG_MODE
    printf("\n\rReInitTimer");
#endif
    //@cmp.init.block.start
    for (_back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__i = 0; _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__i < 120; _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__i++) {
        _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[_back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__i] =  0.0;
    }
    _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi = 0;
    _back_up_diesel_gen_control_unit_delay1__state = 0.0;
    _back_up_diesel_gen_control_unit_delay2__state = 0.0;
    _back_up_diesel_gen_control_unit_delay3__state = 0.0;
    _back_up_diesel_gen_gen_machine_wrapper1__model_load = 0.0;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d = 0;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q = 0;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t = 0;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state = 376.99111843077515;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state = 0.0;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state = 0.0;
    _back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state = 0.0;
    _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state = 0.0;
    _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state =  0;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state = 376.99111843077515;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state = 0.0;
    HIL_OutAO(0x4023, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__state = 0.0;
    HIL_OutAO(0x4027, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state = 0.0;
    _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 2;
    HIL_OutAO(0x4029, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_rate_transition1_output__out[0] =  0.0;
    _back_up_rate_transition1_output__out[1] =  0.0;
    _back_up_rate_transition1_output__out[2] =  0.0;
    _back_up_rate_transition1_output__out[3] =  0.0;
    _back_up_rate_transition1_output__out[4] =  0.0;
    _back_up_interface_rate_transition1_output__out =  0.0;
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__i = 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__i < 120; _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__i++) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[_dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__i] =  0.0;
    }
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi = 0;
    _dg_800kw_diesel_gen_control_unit_delay1__state = 0.0;
    _dg_800kw_diesel_gen_control_unit_delay2__state = 0.0;
    _dg_800kw_diesel_gen_control_unit_delay3__state = 0.0;
    _dg_800kw_diesel_gen_gen_machine_wrapper1__model_load = 0.0;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d = 0;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q = 0;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t = 0;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state = 376.99111843077515;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state = 0.0;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state = 0.0;
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state = 0.0;
    _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state = 0.0;
    _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state =  0;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state = 376.99111843077515;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state = 0.0;
    HIL_OutAO(0x4038, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__state = 0.0;
    HIL_OutAO(0x403b, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state = 0.0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 2;
    HIL_OutAO(0x403d, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_interface_rate_transition1_output__out[0] =  0.0;
    _dg_800kw_interface_rate_transition1_output__out[1] =  0.0;
    _dg_800kw_interface_rate_transition1_output__out[2] =  0.0;
    _dg_800kw_interface_rate_transition1_output__out[3] =  0.0;
    _dg_800kw_interface_rate_transition1_output__out[4] =  0.0;
    _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__state = 0.0;
    _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__state = 376.99111843077515;
    _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__state = 0.0;
    _ess_battery_inverter_control_pll_pu_pll_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__P = 0;
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__Q = 0;
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__S = 0;
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__pf = 0;
    _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__state = 376.99111843077515;
    _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__state = 0.0;
    _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__state = 0.0;
    _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__reset_state = 2;
    _ess_battery_inverter_control_synch_vmatch_unit_delay3__state = 0.0;
    _ess_battery_inverter_control_synch_vmatch_unit_delay4__state = 0.0;
    _ess_battery_inverter_control_synch_vmatch_unit_delay5__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__reset_state = 2;
    for (_ess_battery_inverter_control_synch_f_match_delay1__i = 0; _ess_battery_inverter_control_synch_f_match_delay1__i < 10; _ess_battery_inverter_control_synch_f_match_delay1__i++) {
        _ess_battery_inverter_control_synch_f_match_delay1__state[_ess_battery_inverter_control_synch_f_match_delay1__i] =  0.0;
    }
    _ess_battery_inverter_control_synch_f_match_delay1__cbi = 0;
    _ess_battery_inverter_control_synch_f_match_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__reset_state = 2;
    _ess_battery_inverter_control_synch_phase_match_unit_delay3__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_unit_delay4__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_unit_delay5__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__state = 0.0;
    _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__state = 0.0;
    _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__state = 0.0;
    _ess_battery_inverter_thd_ia_rt1_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_ia_rt2_output__out = (X_UnInt32) 0.0;
    _ess_battery_inverter_thd_ia_rt3_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_ia_rt4_output__out =  0.0;
    _ess_battery_inverter_thd_ib_rt1_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_ib_rt2_output__out = (X_UnInt32) 0.0;
    _ess_battery_inverter_thd_ib_rt3_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_ib_rt4_output__out =  0.0;
    _ess_battery_inverter_thd_ic_rt1_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_ic_rt2_output__out = (X_UnInt32) 0.0;
    _ess_battery_inverter_thd_ic_rt3_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_ic_rt4_output__out =  0.0;
    _ess_battery_inverter_thd_va_rt1_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_va_rt2_output__out = (X_UnInt32) 0.0;
    _ess_battery_inverter_thd_va_rt3_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_va_rt4_output__out =  0.0;
    _ess_battery_inverter_thd_vb_rt1_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_vb_rt2_output__out = (X_UnInt32) 0.0;
    _ess_battery_inverter_thd_vb_rt3_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_vb_rt4_output__out =  0.0;
    _ess_battery_inverter_thd_vc_rt1_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_vc_rt2_output__out = (X_UnInt32) 0.0;
    _ess_battery_inverter_thd_vc_rt3_output__out = (X_Int32) 0.0;
    _ess_battery_inverter_thd_vc_rt4_output__out =  0.0;
    _ess_interface_rate_transition1_output__out[0] =  0.0;
    _ess_interface_rate_transition1_output__out[1] =  0.0;
    _ess_interface_rate_transition1_output__out[2] =  0.0;
    _ess_interface_rate_transition1_output__out[3] =  0.0;
    _ess_interface_rate_transition1_output__out[4] =  0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__state = 0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__state = 0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__state = 0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__P = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__Q = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__S = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__pf = 0;
    _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__state = 376.99111843;
    _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__state = 0.0;
    _fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__state = 0.0;
    _fuel_cell_sofc_inverter_sofc_sofc_integrator1__state = 0.0002743435720386593;
    _fuel_cell_sofc_inverter_sofc_sofc_integrator2__state = 0.04881558221328459;
    _fuel_cell_sofc_inverter_sofc_sofc_integrator3__state = 0.8298648976258377;
    _fuel_cell_sofc_inverter_sofc_sofc_integrator4__state = 0.04881164874726095;
    _fuel_cell_sofc_inverter_thd_ia_rt1_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_ia_rt2_output__out = (X_UnInt32) 0.0;
    _fuel_cell_sofc_inverter_thd_ia_rt3_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_ia_rt4_output__out =  0.0;
    _fuel_cell_sofc_inverter_thd_ib_rt1_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_ib_rt2_output__out = (X_UnInt32) 0.0;
    _fuel_cell_sofc_inverter_thd_ib_rt3_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_ib_rt4_output__out =  0.0;
    _fuel_cell_sofc_inverter_thd_ic_rt1_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_ic_rt2_output__out = (X_UnInt32) 0.0;
    _fuel_cell_sofc_inverter_thd_ic_rt3_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_ic_rt4_output__out =  0.0;
    _fuel_cell_sofc_inverter_thd_va_rt1_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_va_rt2_output__out = (X_UnInt32) 0.0;
    _fuel_cell_sofc_inverter_thd_va_rt3_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_va_rt4_output__out =  0.0;
    _fuel_cell_sofc_inverter_thd_vb_rt1_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_vb_rt2_output__out = (X_UnInt32) 0.0;
    _fuel_cell_sofc_inverter_thd_vb_rt3_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_vb_rt4_output__out =  0.0;
    _fuel_cell_sofc_inverter_thd_vc_rt1_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_vc_rt2_output__out = (X_UnInt32) 0.0;
    _fuel_cell_sofc_inverter_thd_vc_rt3_output__out = (X_Int32) 0.0;
    _fuel_cell_sofc_inverter_thd_vc_rt4_output__out =  0.0;
    _fuel_cell_interface_rate_transition1_output__out =  0.0;
    _microgrid_controller_rate_transition1_output__out[0] =  0.0;
    _microgrid_controller_rate_transition1_output__out[1] =  0.0;
    _microgrid_controller_rate_transition2_output__out =  0.0;
    _microgrid_controller_rate_transition3_output__out =  0.0;
    _microgrid_controller_rate_transition4_output__out =  0.0;
    _microgrid_controller_rate_transition5_output__out =  0.0;
    _pcc_monitor_rate_transition1_output__out[0] =  0.0;
    _pcc_monitor_rate_transition1_output__out[1] =  0.0;
    _pcc_monitor_sr_flip_flop4__state =  0;
    _pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__state = 0.0;
    _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state =  0;
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__d = 0;
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q = 0;
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t = 0;
    _pcc_monitor_synch_check_plls_pll_pid_integrator1__state = 376.99111843077515;
    _pcc_monitor_synch_check_plls_pll_pid_integrator2__state = 0.0;
    _pcc_monitor_synch_check_plls_pll_unit_delay1__state = 0.0;
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__d = 0;
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q = 0;
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t = 0;
    _pcc_monitor_synch_check_plls_pll1_pid_integrator1__state = 376.99111843077515;
    _pcc_monitor_synch_check_plls_pll1_pid_integrator2__state = 0.0;
    _pcc_monitor_synch_check_plls_pll1_unit_delay1__state = 0.0;
    _pcc_monitor_synch_check_check_v_diff_unit_delay1__state = 0.0;
    _pcc_monitor_synch_check_check_f_diff_pi_integrator1__state = 0.0;
    HIL_OutAO(0x408f, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__state = 0.0;
    _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 2;
    HIL_OutAO(0x4091, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_dg_in_delay__out = 0;
    _back_up_dg_in_delay__counter = 0;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf4__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf4__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf4__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf4__states[_back_up_diesel_gen_control_exciter_dc4b_tf4__i] = 0.0;
    }
    HIL_OutAO(0x4020, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__state = 0.0;
    _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = 2;
    HIL_OutAO(0x402b, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i] = 0.0;
    }
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__state = 0.0;
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = 2;
    HIL_OutAO(0x403e, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x403f, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4047, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_synch_phase_match_pi_integrator1__state = 0.0;
    _ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4041, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4048, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_thd_ia_thd_fft1__syn_old_state = 0;
    _ess_battery_inverter_thd_ia_thd_fft1__ack = 0;
    _ess_battery_inverter_thd_ia_thd_fft1__thd = 0x0;
    _ess_battery_inverter_thd_ia_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_ia_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_ia_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_ia_thd_array1__ack_old_state = 0;
    _ess_battery_inverter_thd_ia_thd_array1__syn = 0;
    _ess_battery_inverter_thd_ia_thd_array1__counter = 0;
    _ess_battery_inverter_thd_ia_thd_array1__var_zc = 0;
    _ess_battery_inverter_thd_ia_thd_array1__var_filt = 0.0f;
    _ess_battery_inverter_thd_ia_thd_array1__zc_stat = 0;
    _ess_battery_inverter_thd_ib_thd_fft1__syn_old_state = 0;
    _ess_battery_inverter_thd_ib_thd_fft1__ack = 0;
    _ess_battery_inverter_thd_ib_thd_fft1__thd = 0x0;
    _ess_battery_inverter_thd_ib_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_ib_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_ib_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_ib_thd_array1__ack_old_state = 0;
    _ess_battery_inverter_thd_ib_thd_array1__syn = 0;
    _ess_battery_inverter_thd_ib_thd_array1__counter = 0;
    _ess_battery_inverter_thd_ib_thd_array1__var_zc = 0;
    _ess_battery_inverter_thd_ib_thd_array1__var_filt = 0.0f;
    _ess_battery_inverter_thd_ib_thd_array1__zc_stat = 0;
    _ess_battery_inverter_thd_ic_thd_fft1__syn_old_state = 0;
    _ess_battery_inverter_thd_ic_thd_fft1__ack = 0;
    _ess_battery_inverter_thd_ic_thd_fft1__thd = 0x0;
    _ess_battery_inverter_thd_ic_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_ic_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_ic_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_ic_thd_array1__ack_old_state = 0;
    _ess_battery_inverter_thd_ic_thd_array1__syn = 0;
    _ess_battery_inverter_thd_ic_thd_array1__counter = 0;
    _ess_battery_inverter_thd_ic_thd_array1__var_zc = 0;
    _ess_battery_inverter_thd_ic_thd_array1__var_filt = 0.0f;
    _ess_battery_inverter_thd_ic_thd_array1__zc_stat = 0;
    _ess_battery_inverter_thd_va_thd_fft1__syn_old_state = 0;
    _ess_battery_inverter_thd_va_thd_fft1__ack = 0;
    _ess_battery_inverter_thd_va_thd_fft1__thd = 0x0;
    _ess_battery_inverter_thd_va_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_va_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_va_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_va_thd_array1__ack_old_state = 0;
    _ess_battery_inverter_thd_va_thd_array1__syn = 0;
    _ess_battery_inverter_thd_va_thd_array1__counter = 0;
    _ess_battery_inverter_thd_va_thd_array1__var_zc = 0;
    _ess_battery_inverter_thd_va_thd_array1__var_filt = 0.0f;
    _ess_battery_inverter_thd_va_thd_array1__zc_stat = 0;
    _ess_battery_inverter_thd_vb_thd_fft1__syn_old_state = 0;
    _ess_battery_inverter_thd_vb_thd_fft1__ack = 0;
    _ess_battery_inverter_thd_vb_thd_fft1__thd = 0x0;
    _ess_battery_inverter_thd_vb_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_vb_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_vb_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_vb_thd_array1__ack_old_state = 0;
    _ess_battery_inverter_thd_vb_thd_array1__syn = 0;
    _ess_battery_inverter_thd_vb_thd_array1__counter = 0;
    _ess_battery_inverter_thd_vb_thd_array1__var_zc = 0;
    _ess_battery_inverter_thd_vb_thd_array1__var_filt = 0.0f;
    _ess_battery_inverter_thd_vb_thd_array1__zc_stat = 0;
    _ess_battery_inverter_thd_vc_thd_fft1__syn_old_state = 0;
    _ess_battery_inverter_thd_vc_thd_fft1__ack = 0;
    _ess_battery_inverter_thd_vc_thd_fft1__thd = 0x0;
    _ess_battery_inverter_thd_vc_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_vc_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_vc_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_vc_thd_array1__ack_old_state = 0;
    _ess_battery_inverter_thd_vc_thd_array1__syn = 0;
    _ess_battery_inverter_thd_vc_thd_array1__counter = 0;
    _ess_battery_inverter_thd_vc_thd_array1__var_zc = 0;
    _ess_battery_inverter_thd_vc_thd_array1__var_filt = 0.0f;
    _ess_battery_inverter_thd_vc_thd_array1__zc_stat = 0;
    HIL_OutAO(0x4049, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4067, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4068, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x406b, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x406d, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x406f, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__syn_old_state = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__ack = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__thd = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__ack_old_state = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__syn = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__counter = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_zc = 0;
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt = 0.0f;
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__zc_stat = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__syn_old_state = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__ack = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__thd = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__ack_old_state = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__syn = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__counter = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_zc = 0;
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt = 0.0f;
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__zc_stat = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__syn_old_state = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__ack = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__thd = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__ack_old_state = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__syn = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__counter = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_zc = 0;
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt = 0.0f;
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__zc_stat = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__syn_old_state = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__ack = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__thd = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__syn_old_state = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__ack = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__thd = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__syn_old_state = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__ack = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__thd = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_array1__ack_old_state = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_array1__syn = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_array1__counter = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_array1__var_zc = 0;
    _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt = 0.0f;
    _fuel_cell_sofc_inverter_thd_va_thd_array1__zc_stat = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__ack_old_state = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__syn = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__counter = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_zc = 0;
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt = 0.0f;
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__zc_stat = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__ack_old_state = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__syn = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__counter = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_zc = 0;
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt = 0.0f;
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__zc_stat = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4087, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4088, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _pcc_monitor_synch_check_check_v_diff_pi_integrator1__state = 0.0;
    _pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state = 2;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    HIL_OutAO(0x4093, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4094, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4095, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    _load_100___pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _load_100___pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _load_100___pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _load_100___pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _load_100___pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _load_100___pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    _load_25___pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _load_25___pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _load_25___pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _load_25___pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _load_25___pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _load_25___pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    _load_50___pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _load_50___pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _load_50___pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _load_50___pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _load_50___pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _load_50___pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    _load_75___pq_power_meter1__filter_1_output_k_minus_1 = 0.0;
    _load_75___pq_power_meter1__filter_1_input_k_minus_1 = 0.0;
    _load_75___pq_power_meter1__filter_1_output_k_minus_1Q = 0.0;
    _load_75___pq_power_meter1__filter_1_input_k_minus_1Q = 0.0;
    _load_75___pq_power_meter1__filter_1_output_k_minus_1P0 = 0.0;
    _load_75___pq_power_meter1__filter_1_input_k_minus_1P0 = 0.0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange = 0;
    _back_up_diesel_gen_control_exciter_dc4b_variable_limit__out = 0;
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i = 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i < 2; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i++) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i] = 0.0;
    }
    HIL_OutAO(0x4018, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4016, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_start_exciter_comparator1__state = 0.0f;
    HIL_OutAO(0x4021, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x402d, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_f_diff_comparator1__state = 0.0f;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__state = 0.0f;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange = 0;
    _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__out = 0;
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i = 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i < 2; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i++) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i] = 0.0;
    }
    HIL_OutAO(0x4030, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_control_start_exciter_comparator1__state = 0.0f;
    HIL_OutAO(0x4036, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__state = 0.0f;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__state = 0.0f;
    HIL_OutAO(0x4058, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4046, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4040, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta = 0;
    _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined = 0;
    HIL_OutAO(0x4069, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x406c, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    for (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i = 0; _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i < 1; _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i++) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__states[_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i] = 0.0;
    }
    for (_pcc_monitor_synch_check_check_f_diff_lpf_dwf__i = 0; _pcc_monitor_synch_check_check_f_diff_lpf_dwf__i < 1; _pcc_monitor_synch_check_check_f_diff_lpf_dwf__i++) {
        _pcc_monitor_synch_check_check_f_diff_lpf_dwf__states[_pcc_monitor_synch_check_check_f_diff_lpf_dwf__i] = 0.0;
    }
    _pcc_monitor_synch_check_check_f_diff_comparator1__state = 0.0f;
    sp_scope_buff_index_er1_dev0 = 0;
    _pcc_monitor_synch_check_check_phase_diff_comparator2__state = 0.0f;
    HIL_OutAO(0x4084, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4085, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4086, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4092, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4072, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4073, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4074, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4075, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4076, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4077, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4078, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4079, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x407a, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x407b, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x407c, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x407d, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x407e, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x407f, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4080, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4081, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf3__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf3__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf3__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf3__states[_back_up_diesel_gen_control_exciter_dc4b_tf3__i] = 0.0;
    }
    _back_up_diesel_gen_control_check_steady_state_w_comparator3__state = 0.0f;
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i = 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i < 1; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i++) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i] = 0.0;
    }
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i = 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i < 1; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i++) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i] = 0.0;
    }
    HIL_OutAO(0x401f, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x401e, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x401d, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i] = 0.0;
    }
    _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__state = 0.0f;
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i = 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i < 1; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i++) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i] = 0.0;
    }
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i = 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i < 1; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i++) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i] = 0.0;
    }
    HIL_OutAO(0x4035, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4034, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4033, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    for (_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i = 0; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i < 1; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i++) {
        _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__states[_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i] = 0.0;
    }
    for (_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i = 0; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i < 1; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i++) {
        _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__states[_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i] = 0.0;
    }
    for (_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i = 0; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i < 1; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i++) {
        _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__states[_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i] = 0.0;
    }
    for (_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i = 0; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i < 1; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i++) {
        _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__states[_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i] = 0.0;
    }
    _microgrid_controller_sm__open_cb = 1;
    _microgrid_controller_sm__close_cb = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x408e, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x408c, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    for (_pcc_monitor_synch_check_plls_pll_lpf_d__i = 0; _pcc_monitor_synch_check_plls_pll_lpf_d__i < 1; _pcc_monitor_synch_check_plls_pll_lpf_d__i++) {
        _pcc_monitor_synch_check_plls_pll_lpf_d__states[_pcc_monitor_synch_check_plls_pll_lpf_d__i] = 0.0;
    }
    for (_pcc_monitor_synch_check_plls_pll_lpf_q__i = 0; _pcc_monitor_synch_check_plls_pll_lpf_q__i < 1; _pcc_monitor_synch_check_plls_pll_lpf_q__i++) {
        _pcc_monitor_synch_check_plls_pll_lpf_q__states[_pcc_monitor_synch_check_plls_pll_lpf_q__i] = 0.0;
    }
    for (_pcc_monitor_synch_check_plls_pll1_lpf_d__i = 0; _pcc_monitor_synch_check_plls_pll1_lpf_d__i < 1; _pcc_monitor_synch_check_plls_pll1_lpf_d__i++) {
        _pcc_monitor_synch_check_plls_pll1_lpf_d__states[_pcc_monitor_synch_check_plls_pll1_lpf_d__i] = 0.0;
    }
    for (_pcc_monitor_synch_check_plls_pll1_lpf_q__i = 0; _pcc_monitor_synch_check_plls_pll1_lpf_q__i < 1; _pcc_monitor_synch_check_plls_pll1_lpf_q__i++) {
        _pcc_monitor_synch_check_plls_pll1_lpf_q__states[_pcc_monitor_synch_check_plls_pll1_lpf_q__i] = 0.0;
    }
    _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf = 1.0;
    _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = 1.0;
    _back_up_diesel_gen_control_pf_control_norm_pf_meas__Q = 0.0;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf = 1.0;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = 1.0;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__Q = 0.0;
    _ess_battery_inverter_control_pll_pu_pll_normalize__in1 = 0;
    _ess_battery_inverter_control_pll_pu_pll_normalize__in2 = 0;
    _ess_battery_inverter_control_pll_pu_pll_normalize__pk = 0;
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__in1 = 0;
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2 = 0;
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__pk = 0;
    sp_scope_buff_index_er0_dev0 = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_delay__out = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_delay__counter = 0;
    _fuel_cell_sofc_inverter_delay__out = 0;
    _fuel_cell_sofc_inverter_delay__counter = 0;
    sp_scope_buff_index_er0_dev0 = 0;
    _microgrid_controller_pi_p_integrator1__state = 0.0;
    _microgrid_controller_pi_p_integrator1__reset_state = 2;
    _microgrid_controller_pi_q_integrator1__state = 0.0;
    _microgrid_controller_pi_q_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x408b, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x408d, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _pcc_monitor_synch_check_check_v_diff_comparator1__state = 0.0f;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d = 0;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q = 0;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t = 0;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf1__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf1__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf1__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf1__states[_back_up_diesel_gen_control_exciter_dc4b_tf1__i] = 0.0;
    }
    HIL_OutAO(0x4010, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x401b, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_define_control_mode_control_mode__P_control = 0;
    _back_up_diesel_gen_control_define_control_mode_control_mode__Q_control = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state = 0.0;
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = 2;
    _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf = 1.0;
    _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = 1.0;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d = 0;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q = 0;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t = 0;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i] = 0.0;
    }
    HIL_OutAO(0x402f, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4032, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__state = 0.0f;
    _ess_battery_inverter_control_synch_check_grid_comparator1__state = 0.0f;
    HIL_OutAO(0x4042, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4043, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__state = 0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state = 2;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__state = 0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state = 2;
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__state = 0.0;
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    for (_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i = 0; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i < 1; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i++) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i] = 0.0;
    }
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step = 1;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out = 0;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in = 0;
    HIL_OutAO(0x4012, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__first_step = 1;
    _back_up_diesel_gen_control_governor_and_engine_w_ramp__first_step = 1;
    _back_up_diesel_gen_control_read_op_mode__OP_mode = 0;
    _back_up_diesel_gen_control_read_op_mode__enable = 0;
    _back_up_diesel_gen_control_read_op_mode__StandBy = 1;
    _back_up_diesel_gen_control_read_op_mode__GridFollowing = 0;
    _back_up_diesel_gen_control_read_op_mode__GridForming = 0;
    _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__state = 0.0;
    _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x401c, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4000, 0.0f);
    HIL_OutAO(0x4001, 0.0f);
    HIL_OutAO(0x4002, 0.0f);
    HIL_OutAO(0x4003, 0.0f);
    HIL_OutAO(0x4004, 0.0f);
    HIL_OutAO(0x4005, 0.0f);
    HIL_OutAO(0x4006, 0.0f);
    HIL_OutAO(0x4007, 0.0f);
    HIL_OutAO(0x4008, 0.0f);
    HIL_OutAO(0x4009, 0.0f);
    HIL_OutAO(0x400a, 0.0f);
    HIL_OutAO(0x400b, 0.0f);
    HIL_OutAO(0x400c, 0.0f);
    HIL_OutAO(0x400d, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i = 0; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i < 1; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i++) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i] = 0.0;
    }
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step = 1;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out = 0;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_synch_f_match_comparator1__state = 0.0f;
    _ess_battery_inverter_control_synch_phase_match_comparator2__state = 0.0f;
    HIL_OutAO(0x4044, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutFloat(149684224, 0.0);
    sp_scope_buff_index_er0_dev0 = 0;
    _pcc_monitor_synch_check_plls_pll_rate_limiter1__first_step = 1;
    _pcc_monitor_synch_check_plls_pll_integrator__out = 0;
    _pcc_monitor_synch_check_plls_pll_integrator__in = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _pcc_monitor_synch_check_plls_pll1_rate_limiter1__first_step = 1;
    _pcc_monitor_synch_check_plls_pll1_integrator__out = 0;
    _pcc_monitor_synch_check_plls_pll1_integrator__in = 0;
    _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB = 0;
    _pcc_monitor_synch_check_contactor_control_cb_sm__open_CB = 1;
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i < 2; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i++) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i] = 376.99111843077515;
    }
    HIL_OutAO(0x4015, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__state = 0.0;
    _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_exciter_rate_limit__first_step = 1;
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i < 2; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i++) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i] = 376.99111843077515;
    }
    HIL_OutAO(0x4031, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i = 0; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i < 1; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i++) {
        _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__states[_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i] = 0.0;
    }
    for (_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i = 0; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i < 1; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i++) {
        _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__states[_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i] = 0.0;
    }
    for (_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i = 0; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i < 1; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i++) {
        _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__states[_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i] = 0.0;
    }
    for (_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i = 0; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i < 1; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i++) {
        _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__states[_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i] = 0.0;
    }
    for (_pcc_monitor_synch_check_plls_pll_lpf_q1__i = 0; _pcc_monitor_synch_check_plls_pll_lpf_q1__i < 2; _pcc_monitor_synch_check_plls_pll_lpf_q1__i++) {
        _pcc_monitor_synch_check_plls_pll_lpf_q1__states[_pcc_monitor_synch_check_plls_pll_lpf_q1__i] = 376.99111843077515;
    }
    HIL_OutAO(0x4089, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__state = 0.0;
    _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state = 2;
    for (_pcc_monitor_synch_check_plls_pll1_lpf_q1__i = 0; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i < 2; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i++) {
        _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i] = 376.99111843077515;
    }
    HIL_OutAO(0x408a, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__first_step = 1;
    _back_up_diesel_gen_control_read_control_mode_state__Vf = 0;
    _back_up_diesel_gen_control_read_control_mode_state__PV = 0;
    _back_up_diesel_gen_control_read_control_mode_state__PQ = 0;
    _back_up_diesel_gen_control_pf_control_pi_integrator1__state = 0.0;
    _back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state = 2;
    HIL_OutAO(0x4019, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutFloat(137101312, 0.0);
    _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__state = 0.0f;
    _ess_battery_inverter_control_synch_check_grid_comparator2__state = 0.0f;
    _ess_battery_inverter_control_synch_vmatch_comparator2__state = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__in1 = 0;
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2 = 0;
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk = 0;
    _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta = 0;
    _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta_confined = 0;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out = 0;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in = 0;
    HIL_OutAO(0x4022, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4024, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4013, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_control_pf_control_rate_limiter1__first_step = 1;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out = 0;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in = 0;
    HIL_OutAO(0x4037, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4039, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4071, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x406e, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    for (_pcc_monitor_synch_check_check_phase_diff_lpf__i = 0; _pcc_monitor_synch_check_check_phase_diff_lpf__i < 1; _pcc_monitor_synch_check_check_phase_diff_lpf__i++) {
        _pcc_monitor_synch_check_check_phase_diff_lpf__states[_pcc_monitor_synch_check_check_phase_diff_lpf__i] = 0.0;
    }
    HIL_OutAO(0x4090, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4025, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i = 0; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i < 1; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i++) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i] = 0.0;
    }
    HIL_OutAO(0x4014, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x403a, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i = 0; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i < 1; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i++) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i] = 0.0;
    }
    _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__first_step = 1;
    _ess_battery_inverter_control_pll_pu_pll_integrator__out = 0;
    _ess_battery_inverter_control_pll_pu_pll_integrator__in = 0;
    _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__first_step = 1;
    _ess_battery_inverter_control_synch_pll_util_pll_integrator__out = 0;
    _ess_battery_inverter_control_synch_pll_util_pll_integrator__in = 0;
    HIL_OutAO(0x406a, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    HIL_OutAO(0x4059, 0.0f);
    HIL_OutAO(0x405a, 0.0f);
    HIL_OutAO(0x405b, 0.0f);
    HIL_OutAO(0x405c, 0.0f);
    HIL_OutAO(0x405d, 0.0f);
    HIL_OutAO(0x405e, 0.0f);
    HIL_OutAO(0x405f, 0.0f);
    HIL_OutAO(0x4060, 0.0f);
    HIL_OutAO(0x4061, 0.0f);
    HIL_OutAO(0x4062, 0.0f);
    HIL_OutAO(0x4063, 0.0f);
    HIL_OutAO(0x4064, 0.0f);
    HIL_OutAO(0x4065, 0.0f);
    HIL_OutAO(0x4066, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta = 0;
    _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = 0;
    for (_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i = 0; _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i < 1; _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i++) {
        _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i] = 0.0;
    }
    HIL_OutAO(0x4026, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state = 0.0;
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = 2;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta = 0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = 0;
    for (_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i = 0; _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i < 1; _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i++) {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i] = 0.0;
    }
    for (_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i = 0; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i < 2; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i++) {
        _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i] = 381972.0223545779;
    }
    for (_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i = 0; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i < 2; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i++) {
        _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i] = 381972.0223545779;
    }
    for (_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i = 0; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i < 1; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i++) {
        _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__states[_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i] = 0.0;
    }
    for (_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i = 0; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i < 1; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i++) {
        _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__states[_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i] = 0.0;
    }
    _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out = 0;
    _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__off1 = 0.0002 * 6.2831853071 * 60.0;
    _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__off2 = 0.0 * 3.141592653589793 / 180.0;
    _back_up_diesel_gen_sync_check_check_v_diff_comparator1__state = 0.0f;
    _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc = 0;
    _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip = 0;
    HIL_OutAO(0x4011, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out = 0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__off1 = 0.0002 * 6.2831853071 * 60.0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__off2 = 0.0 * 3.141592653589793 / 180.0;
    _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__state = 0.0f;
    _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out = 0;
    _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__counter = 0;
    _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__wait_time = 0.01;
    HIL_OutAO(0x4082, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4083, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i = 0; _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i < 1; _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i++) {
        _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__states[_pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i] = 0.0;
    }
    for (_back_up_diesel_gen_sync_check_check_phase_diff_lpf__i = 0; _back_up_diesel_gen_sync_check_check_phase_diff_lpf__i < 1; _back_up_diesel_gen_sync_check_check_phase_diff_lpf__i++) {
        _back_up_diesel_gen_sync_check_check_phase_diff_lpf__states[_back_up_diesel_gen_sync_check_check_phase_diff_lpf__i] = 0.0;
    }
    HIL_OutAO(0x4028, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    for (_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i = 0; _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i < 1; _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i++) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__states[_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i] = 0.0;
    }
    HIL_OutAO(0x403c, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control = 0;
    _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Q_control = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state = 0.0;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = 2;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf = 1.0;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = 1.0;
    sp_scope_buff_index_er1_dev0 = 0;
    _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__first_step = 1;
    _fuel_cell_sofc_inverter_control_pll_pll_integrator__out = 0;
    _fuel_cell_sofc_inverter_control_pll_pll_integrator__in = 0;
    _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__first_step = 1;
    _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__first_step = 1;
    _dg_800kw_diesel_gen_control_read_op_mode__OP_mode = 0;
    _dg_800kw_diesel_gen_control_read_op_mode__enable = 0;
    _dg_800kw_diesel_gen_control_read_op_mode__StandBy = 1;
    _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing = 0;
    _dg_800kw_diesel_gen_control_read_op_mode__GridForming = 0;
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__state = 0.0;
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref = 0;
    _ess_battery_inverter_control_vmode_control_rate_limiter2__first_step = 1;
    HIL_OutAO(0x402a, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x402c, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x401a, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i = 0; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i < 2; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i++) {
        _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i] = 1527888.0894183116;
    }
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__state = 0.0;
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = 2;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_control_exciter_rate_limit__first_step = 1;
    _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__first_step = 1;
    _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__first_step = 1;
    _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__first_step = 1;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock1 = 0;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock2 = 0;
    for (_back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i = 0; _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i < 1; _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i++) {
        _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[_back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i] = 0.0;
    }
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref = 0;
    _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__first_step = 1;
    _dg_800kw_diesel_gen_control_read_control_mode_state__Vf = 0;
    _dg_800kw_diesel_gen_control_read_control_mode_state__PV = 0;
    _dg_800kw_diesel_gen_control_read_control_mode_state__PQ = 0;
    _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__state = 0.0;
    _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state = 2;
    HIL_OutFloat(141295616, 0.0);
    _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref = 0;
    _ess_battery_inverter_control_vmode_control_rate_limiter1__first_step = 1;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_synch_vmatch_pi_integrator1__state = 0.0;
    _ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state = 2;
    _ess_battery_inverter_control_synch_f_match_pi_integrator1__state = 0.0;
    _ess_battery_inverter_control_synch_f_match_pi_integrator1__reset_state = 2;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__first_step = 1;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__first_step = 1;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__first_step = 1;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__first_step = 1;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x404a, 0.0f);
    HIL_OutAO(0x404b, 0.0f);
    HIL_OutAO(0x404c, 0.0f);
    HIL_OutAO(0x404d, 0.0f);
    HIL_OutAO(0x404e, 0.0f);
    HIL_OutAO(0x404f, 0.0f);
    HIL_OutAO(0x4050, 0.0f);
    HIL_OutAO(0x4051, 0.0f);
    HIL_OutAO(0x4052, 0.0f);
    HIL_OutAO(0x4053, 0.0f);
    HIL_OutAO(0x4054, 0.0f);
    HIL_OutAO(0x4055, 0.0f);
    HIL_OutAO(0x4056, 0.0f);
    HIL_OutAO(0x4057, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x400f, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    HIL_OutAO(0x4017, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out = 0;
    _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__in = 0;
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__state = 0.0;
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state = 2;
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__state = 0.0;
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state = 2;
    _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__state = 0.03305017642476288;
    _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state = 2;
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__state = 0.0;
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state = 2;
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i = 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i < 2; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i++) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i] = 0.0;
    }
    sp_scope_buff_index_er1_dev0 = 0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state = 0.0;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = 2;
    _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc = 0;
    _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip = 0;
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__first_step = 1;
    for (_dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i = 0; _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i < 1; _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i++) {
        _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[_dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i] = 0.0;
    }
    HIL_OutAO(0x400e, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf2__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf2__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf2__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf2__states[_back_up_diesel_gen_control_exciter_dc4b_tf2__i] = 0.0;
    }
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i = 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i < 2; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i++) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i] = 0.0;
    }
    HIL_OutAO(0x4070, 0.0f);
    sp_scope_buff_index_er0_dev0 = 0;
    _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__update_mask = 8;
    HIL_OutInt32(0x2000080 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 8000);// divide by 2 is already implemented in hw
    HIL_OutInt32(0x20000c0 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 160);
    HIL_OutInt32(0x20001c0 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000200 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000240 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000300 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 1);
    HIL_OutInt32(0x2000140, _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__update_mask);
    _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__update_mask = 16;
    HIL_OutInt32(0x2000080 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 8000);// divide by 2 is already implemented in hw
    HIL_OutInt32(0x20000c0 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 160);
    HIL_OutInt32(0x20001c0 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000200 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000240 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000300 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 1);
    HIL_OutInt32(0x2000140, _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__update_mask);
    _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__update_mask = 32;
    HIL_OutInt32(0x2000080 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 8000);// divide by 2 is already implemented in hw
    HIL_OutInt32(0x20000c0 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 160);
    HIL_OutInt32(0x20001c0 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000200 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000240 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000300 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 1);
    HIL_OutInt32(0x2000140, _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__update_mask);
    HIL_OutAO(0x402e, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i] = 0.0;
    }
    HIL_OutAO(0x4045, 0.0f);
    sp_scope_buff_index_er1_dev0 = 0;
    _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__update_mask = 1;
    HIL_OutInt32(0x2000080 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 32000);// divide by 2 is already implemented in hw
    HIL_OutInt32(0x20000c0 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 80);
    HIL_OutInt32(0x20001c0 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000200 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000240 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000300 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 1);
    HIL_OutInt32(0x2000140, _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__update_mask);
    _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__update_mask = 2;
    HIL_OutInt32(0x2000080 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 32000);// divide by 2 is already implemented in hw
    HIL_OutInt32(0x20000c0 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 80);
    HIL_OutInt32(0x20001c0 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000200 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000240 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000300 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 1);
    HIL_OutInt32(0x2000140, _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__update_mask);
    _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__update_mask = 4;
    HIL_OutInt32(0x2000080 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 32000);// divide by 2 is already implemented in hw
    HIL_OutInt32(0x20000c0 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 80);
    HIL_OutInt32(0x20001c0 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000200 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000240 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 0);
    HIL_OutInt32(0x2000300 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 1);
    HIL_OutInt32(0x2000140, _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__update_mask);
    //@cmp.init.block.end
}

void ReInit_sp_scope_user_sp_cpu_dev0() {
    // initialise SP Scope buffer pointer
    sp_scope_buff_index_er0_dev0 = 0;
    sp_scope_buff_start_addr_er0_dev0 = sp_scope_buffer_dev0 + 0 * SP_SCOPE_BUFF_SIZE_PER_ER;
    sp_scope_buff_index_er1_dev0 = 0;
    sp_scope_buff_start_addr_er1_dev0 = sp_scope_buffer_dev0 + 1 * SP_SCOPE_BUFF_SIZE_PER_ER;
    sp_scope_buff_index_er2_dev0 = 0;
    sp_scope_buff_start_addr_er2_dev0 = sp_scope_buffer_dev0 + 2 * SP_SCOPE_BUFF_SIZE_PER_ER;
}

void init_fmu_objects_dev0(void) {
    return;
}


void terminate_fmu_objects_dev0(void) {
    return;
}

// generated using template: common_timer_counter_handler.template-------------------------

/*****************************************************************************************/
/**
* This function is the handler which performs processing for the timer counter.
* It is called from an interrupt context such that the amount of processing
* performed should be minimized.  It is called when the timer counter expires
* if interrupts are enabled.
*
*
* @param    None
*
* @return   None
*
* @note     None
*
*****************************************************************************************/

void TimerCounterHandler_0_user_sp_cpu_dev0() {
#if DEBUG_MODE
    printf("\n\rTimerCounterHandler_0");
#endif
    //////////////////////////////////////////////////////////////////////////
    // Output block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.out.block.start
    // Generated from the component: Fuel_Cell.Connect
    _fuel_cell_connect__out = XIo_InFloat(0x55000164);
    // Generated from the component: Fuel_Cell.Enable
    _fuel_cell_enable__out = XIo_InFloat(0x55000168);
    // Generated from the component: Fuel_Cell.Pref_FC
    _fuel_cell_pref_fc__out = XIo_InFloat(0x5500016c);
    // Generated from the component: Fuel_Cell.Q_mode
    _fuel_cell_q_mode__out = XIo_InFloat(0x55000170);
    // Generated from the component: Fuel_Cell.Q_ref
    _fuel_cell_q_ref__out = XIo_InFloat(0x55000174);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Constant2
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Constant3
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Damp
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Limit3
    if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__out < 0.01) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_limit3__out = 0.01;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_limit3__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Edge Detection1.Unit Delay1
    _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__out = _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.Unit Delay1
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.Unit Delay2
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Gain4
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain4__out = 50000.0 * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Gain5
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain5__out = 50000.0 * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.S_and_pf
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__P = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__out;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__Q = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__out;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__S = sqrt(_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__P * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__P + _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__Q * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__Q);
    if (_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__S > 0) {
        _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__pf = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__P / _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__S;
    }
    else {
        _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__pf = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Constant1
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Integrator1
    _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Integrator2
    _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.Unit Delay1
    _fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out = _fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.to_Hz
    _fuel_cell_sofc_inverter_control_pll_pll_to_hz__out = 0.15915494309189535 * _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Constant1
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Constant2
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Constant3
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Constant4
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.o_ref
    // Generated from the component: Fuel_Cell.SOFC inverter.FC_Idc.Ia1
    _fuel_cell_sofc_inverter_fc_idc_ia1__out = (HIL_InFloat(0xc80000 + 0x610));
    // Generated from the component: Fuel_Cell.SOFC inverter.Ia.Ia1
    _fuel_cell_sofc_inverter_ia_ia1__out = (HIL_InFloat(0xc80000 + 0x611));
    // Generated from the component: Fuel_Cell.SOFC inverter.Ib.Ia1
    _fuel_cell_sofc_inverter_ib_ia1__out = (HIL_InFloat(0xc80000 + 0x612));
    // Generated from the component: Fuel_Cell.SOFC inverter.Ic.Ia1
    _fuel_cell_sofc_inverter_ic_ia1__out = (HIL_InFloat(0xc80000 + 0x613));
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Ia1.Ia1
    _fuel_cell_sofc_inverter_sofc_ia1_ia1__out = (HIL_InFloat(0xc80000 + 0x614));
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator1
    _fuel_cell_sofc_inverter_sofc_sofc_integrator1__out = _fuel_cell_sofc_inverter_sofc_sofc_integrator1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator2
    _fuel_cell_sofc_inverter_sofc_sofc_integrator2__out = _fuel_cell_sofc_inverter_sofc_sofc_integrator2__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator3
    _fuel_cell_sofc_inverter_sofc_sofc_integrator3__out = _fuel_cell_sofc_inverter_sofc_sofc_integrator3__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator4
    _fuel_cell_sofc_inverter_sofc_sofc_integrator4__out = _fuel_cell_sofc_inverter_sofc_sofc_integrator4__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT3.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT4.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT3.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT4.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT3.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT4.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT3.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT4.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT3.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT4.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT3.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT4.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.Va.Va1
    _fuel_cell_sofc_inverter_va_va1__out = (HIL_InFloat(0xc80000 + 0x60b));
    // Generated from the component: Fuel_Cell.SOFC inverter.Vb.Va1
    _fuel_cell_sofc_inverter_vb_va1__out = (HIL_InFloat(0xc80000 + 0x60d));
    // Generated from the component: Fuel_Cell.SOFC inverter.Vc.Va1
    _fuel_cell_sofc_inverter_vc_va1__out = (HIL_InFloat(0xc80000 + 0x60e));
    // Generated from the component: Fuel_Cell.SOFC inverter.Vdc.Va1
    _fuel_cell_sofc_inverter_vdc_va1__out = (HIL_InFloat(0xc80000 + 0x60f));
    // Generated from the component: Fuel_Cell.V_ref
    _fuel_cell_v_ref__out = XIo_InFloat(0x55000178);
    // Generated from the component: Fuel_Cell.interface.Rate Transition1.Output
    // Generated from the component: Load 100 %.Ia.Ia1
    _load_100___ia_ia1__out = (HIL_InFloat(0xc80000 + 0x23f));
    // Generated from the component: Load 100 %.Ib.Ia1
    _load_100___ib_ia1__out = (HIL_InFloat(0xc80000 + 0x240));
    // Generated from the component: Load 100 %.Ic.Ia1
    _load_100___ic_ia1__out = (HIL_InFloat(0xc80000 + 0x241));
    // Generated from the component: Load 25 %.Ia1.Ia1
    _load_25___ia1_ia1__out = (HIL_InFloat(0xc80000 + 0x242));
    // Generated from the component: Load 25 %.Ia2.Ia1
    _load_25___ia2_ia1__out = (HIL_InFloat(0xc80000 + 0x243));
    // Generated from the component: Load 25 %.Ia3.Ia1
    _load_25___ia3_ia1__out = (HIL_InFloat(0xc80000 + 0x244));
    // Generated from the component: Load 50 %.Ia1.Ia1
    _load_50___ia1_ia1__out = (HIL_InFloat(0xc80000 + 0x245));
    // Generated from the component: Load 50 %.Ia2.Ia1
    _load_50___ia2_ia1__out = (HIL_InFloat(0xc80000 + 0x246));
    // Generated from the component: Load 50 %.Ia3.Ia1
    _load_50___ia3_ia1__out = (HIL_InFloat(0xc80000 + 0x247));
    // Generated from the component: Load 75 %.Ia1.Ia1
    _load_75___ia1_ia1__out = (HIL_InFloat(0xc80000 + 0x248));
    // Generated from the component: Load 75 %.Ia2.Ia1
    _load_75___ia2_ia1__out = (HIL_InFloat(0xc80000 + 0x249));
    // Generated from the component: Load 75 %.Ia3.Ia1
    _load_75___ia3_ia1__out = (HIL_InFloat(0xc80000 + 0x24a));
    // Generated from the component: Secondary.Ia.Ia1
    _secondary_ia_ia1__out = (HIL_InFloat(0xc80000 + 0x254));
    // Generated from the component: Secondary.Ib.Ia1
    _secondary_ib_ia1__out = (HIL_InFloat(0xc80000 + 0x255));
    // Generated from the component: Secondary.Ic.Ia1
    _secondary_ic_ia1__out = (HIL_InFloat(0xc80000 + 0x256));
    // Generated from the component: Secondary.Va.Va1
    _secondary_va_va1__out = (HIL_InFloat(0xc80000 + 0x22e));
    // Generated from the component: Secondary.Vb.Va1
    _secondary_vb_va1__out = (HIL_InFloat(0xc80000 + 0x22f));
    // Generated from the component: Secondary.Vc.Va1
    _secondary_vc_va1__out = (HIL_InFloat(0xc80000 + 0x230));
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Gain5
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain5__out = 0.5 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_limit3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Vdc
    HIL_OutAO(0x4067, (float)_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_limit3__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Gain5
    _fuel_cell_sofc_inverter_control_grid_follow_gain5__out = 1.39 * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain4__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Q
    HIL_OutAO(0x4068, (float)_fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain5__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Gain6
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain6__out = 50000.0 * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__S;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.pf
    HIL_OutAO(0x406b, (float)_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__pf);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.wt_pll
    HIL_OutAO(0x406d, (float)_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Gain1
    _fuel_cell_sofc_inverter_control_pll_gain1__out = 0.016666666666666666 * _fuel_cell_sofc_inverter_control_pll_pll_to_hz__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.f_meas
    HIL_OutAO(0x406f, (float)_fuel_cell_sofc_inverter_control_pll_pll_to_hz__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Limit1
    if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant1__out > 1.0) {
        _fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out = 1.0;
    } else if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant1__out < 0.0) {
        _fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out = 0.0;
    } else {
        _fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out = _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant1__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_abc_to_dq.abc to dq1.abc to alpha beta
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__alpha = (2.0 * _fuel_cell_sofc_inverter_ia_ia1__out - _fuel_cell_sofc_inverter_ib_ia1__out - _fuel_cell_sofc_inverter_ic_ia1__out) * 0.3333333333333333;
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__beta = (_fuel_cell_sofc_inverter_ib_ia1__out - _fuel_cell_sofc_inverter_ic_ia1__out) * 0.5773502691896258;
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__gamma = (_fuel_cell_sofc_inverter_ia_ia1__out + _fuel_cell_sofc_inverter_ib_ia1__out + _fuel_cell_sofc_inverter_ic_ia1__out) * 0.3333333333333333;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.2K_r
    _fuel_cell_sofc_inverter_sofc_sofc_2k_r__out = 2.331920362328604e-06 * _fuel_cell_sofc_inverter_sofc_ia1_ia1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.2KrdivUopt
    _fuel_cell_sofc_inverter_sofc_sofc_2krdivuopt__out = 2.743435720386593e-06 * _fuel_cell_sofc_inverter_sofc_ia1_ia1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.K_r
    _fuel_cell_sofc_inverter_sofc_sofc_k_r__out = 1.165960181164302e-06 * _fuel_cell_sofc_inverter_sofc_ia1_ia1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1div_r_HO1
    _fuel_cell_sofc_inverter_sofc_sofc_1div_r_ho1__out = 0.8733624454148472 * _fuel_cell_sofc_inverter_sofc_sofc_integrator1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.exponential
    _fuel_cell_sofc_inverter_sofc_sofc_exponential__out = sqrt(_fuel_cell_sofc_inverter_sofc_sofc_integrator4__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.THD_Array1
    if (_fuel_cell_sofc_inverter_thd_ia_thd_array1__ack_old_state != _fuel_cell_sofc_inverter_thd_ia_rt3_output__out) {
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_zc = 0;
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__counter = 0;
    }
    if (_fuel_cell_sofc_inverter_thd_ia_thd_array1__counter < 167) {
        _fuel_cell_sofc_inverter_thd_ia_samples_holder[_fuel_cell_sofc_inverter_thd_ia_thd_array1__counter] = _fuel_cell_sofc_inverter_ia_ia1__out;
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_fuel_cell_sofc_inverter_thd_ia_thd_array1__var_zc == 0) {
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt_old = _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt;
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt = _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt_old * 0.1 + _fuel_cell_sofc_inverter_ia_ia1__out * 0.9;
        if(((_fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt >= 0.0f) && (_fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt_old < 0.0f)) || ((_fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt <= 0.0f) && (_fuel_cell_sofc_inverter_thd_ia_thd_array1__var_filt_old > 0.0f)))
            _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_zc = 1;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.THD_Array1
    if (_fuel_cell_sofc_inverter_thd_ib_thd_array1__ack_old_state != _fuel_cell_sofc_inverter_thd_ib_rt3_output__out) {
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_zc = 0;
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__counter = 0;
    }
    if (_fuel_cell_sofc_inverter_thd_ib_thd_array1__counter < 167) {
        _fuel_cell_sofc_inverter_thd_ib_samples_holder[_fuel_cell_sofc_inverter_thd_ib_thd_array1__counter] = _fuel_cell_sofc_inverter_ib_ia1__out;
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_fuel_cell_sofc_inverter_thd_ib_thd_array1__var_zc == 0) {
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt_old = _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt;
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt = _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt_old * 0.1 + _fuel_cell_sofc_inverter_ib_ia1__out * 0.9;
        if(((_fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt >= 0.0f) && (_fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt_old < 0.0f)) || ((_fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt <= 0.0f) && (_fuel_cell_sofc_inverter_thd_ib_thd_array1__var_filt_old > 0.0f)))
            _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_zc = 1;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.THD_Array1
    if (_fuel_cell_sofc_inverter_thd_ic_thd_array1__ack_old_state != _fuel_cell_sofc_inverter_thd_ic_rt3_output__out) {
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_zc = 0;
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__counter = 0;
    }
    if (_fuel_cell_sofc_inverter_thd_ic_thd_array1__counter < 167) {
        _fuel_cell_sofc_inverter_thd_ic_samples_holder[_fuel_cell_sofc_inverter_thd_ic_thd_array1__counter] = _fuel_cell_sofc_inverter_ic_ia1__out;
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_fuel_cell_sofc_inverter_thd_ic_thd_array1__var_zc == 0) {
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt_old = _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt;
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt = _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt_old * 0.1 + _fuel_cell_sofc_inverter_ic_ia1__out * 0.9;
        if(((_fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt >= 0.0f) && (_fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt_old < 0.0f)) || ((_fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt <= 0.0f) && (_fuel_cell_sofc_inverter_thd_ic_thd_array1__var_filt_old > 0.0f)))
            _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_zc = 1;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.THD_Array1
    if (_fuel_cell_sofc_inverter_thd_va_thd_array1__ack_old_state != _fuel_cell_sofc_inverter_thd_va_rt3_output__out) {
        _fuel_cell_sofc_inverter_thd_va_thd_array1__var_zc = 0;
        _fuel_cell_sofc_inverter_thd_va_thd_array1__counter = 0;
    }
    if (_fuel_cell_sofc_inverter_thd_va_thd_array1__counter < 167) {
        _fuel_cell_sofc_inverter_thd_va_samples_holder[_fuel_cell_sofc_inverter_thd_va_thd_array1__counter] = _fuel_cell_sofc_inverter_va_va1__out;
        _fuel_cell_sofc_inverter_thd_va_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_fuel_cell_sofc_inverter_thd_va_thd_array1__var_zc == 0) {
        _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt_old = _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt;
        _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt = _fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt_old * 0.1 + _fuel_cell_sofc_inverter_va_va1__out * 0.9;
        if(((_fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt >= 0.0f) && (_fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt_old < 0.0f)) || ((_fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt <= 0.0f) && (_fuel_cell_sofc_inverter_thd_va_thd_array1__var_filt_old > 0.0f)))
            _fuel_cell_sofc_inverter_thd_va_thd_array1__var_zc = 1;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.THD_Array1
    if (_fuel_cell_sofc_inverter_thd_vb_thd_array1__ack_old_state != _fuel_cell_sofc_inverter_thd_vb_rt3_output__out) {
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_zc = 0;
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__counter = 0;
    }
    if (_fuel_cell_sofc_inverter_thd_vb_thd_array1__counter < 167) {
        _fuel_cell_sofc_inverter_thd_vb_samples_holder[_fuel_cell_sofc_inverter_thd_vb_thd_array1__counter] = _fuel_cell_sofc_inverter_vb_va1__out;
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_fuel_cell_sofc_inverter_thd_vb_thd_array1__var_zc == 0) {
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt_old = _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt;
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt = _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt_old * 0.1 + _fuel_cell_sofc_inverter_vb_va1__out * 0.9;
        if(((_fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt >= 0.0f) && (_fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt_old < 0.0f)) || ((_fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt <= 0.0f) && (_fuel_cell_sofc_inverter_thd_vb_thd_array1__var_filt_old > 0.0f)))
            _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_zc = 1;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.THD_Array1
    if (_fuel_cell_sofc_inverter_thd_vc_thd_array1__ack_old_state != _fuel_cell_sofc_inverter_thd_vc_rt3_output__out) {
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_zc = 0;
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__counter = 0;
    }
    if (_fuel_cell_sofc_inverter_thd_vc_thd_array1__counter < 167) {
        _fuel_cell_sofc_inverter_thd_vc_samples_holder[_fuel_cell_sofc_inverter_thd_vc_thd_array1__counter] = _fuel_cell_sofc_inverter_vc_va1__out;
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_fuel_cell_sofc_inverter_thd_vc_thd_array1__var_zc == 0) {
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt_old = _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt;
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt = _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt_old * 0.1 + _fuel_cell_sofc_inverter_vc_va1__out * 0.9;
        if(((_fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt >= 0.0f) && (_fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt_old < 0.0f)) || ((_fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt <= 0.0f) && (_fuel_cell_sofc_inverter_thd_vc_thd_array1__var_filt_old > 0.0f)))
            _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_zc = 1;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Gain3
    _fuel_cell_sofc_inverter_control_grid_follow_gain3__out = 0.0025 * _fuel_cell_sofc_inverter_vdc_va1__out;
    // Generated from the component: Fuel_Cell.interface.SM
    _fuel_cell_interface_sm__enable_in = _fuel_cell_enable__out;
    _fuel_cell_interface_sm__force_off = _fuel_cell_interface_rate_transition1_output__out;
    if (_fuel_cell_interface_sm__force_off) {
        _fuel_cell_interface_sm__enable = 0;
    }
    else {
        _fuel_cell_interface_sm__enable = _fuel_cell_interface_sm__enable_in;
    }
    // Generated from the component: Secondary.Ia_sec
    HIL_OutAO(0x4093, (float)_secondary_ia_ia1__out);
    // Generated from the component: Secondary.Ib_sec
    HIL_OutAO(0x4094, (float)_secondary_ib_ia1__out);
    // Generated from the component: Secondary.Ic_sec
    HIL_OutAO(0x4095, (float)_secondary_ic_ia1__out);
    // Generated from the component: Load 100 %.PQ Power Meter1
    _load_100___pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _secondary_va_va1__out - 0.5f * _secondary_vb_va1__out - 0.5f * _secondary_vc_va1__out);
    _load_100___pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _secondary_vb_va1__out - SQRT3_OVER_2 * _secondary_vc_va1__out);
    _load_100___pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _load_100___ia_ia1__out - 0.5f * _load_100___ib_ia1__out - 0.5f * _load_100___ic_ia1__out);
    _load_100___pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _load_100___ib_ia1__out - SQRT3_OVER_2 * _load_100___ic_ia1__out);
    _load_100___pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_secondary_va_va1__out + _secondary_vb_va1__out + _secondary_vc_va1__out);
    _load_100___pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_load_100___ia_ia1__out + _load_100___ib_ia1__out + _load_100___ic_ia1__out);
    _load_100___pq_power_meter1__Pac = _load_100___pq_power_meter1__v_alpha * _load_100___pq_power_meter1__i_alpha + _load_100___pq_power_meter1__v_beta * _load_100___pq_power_meter1__i_beta;
    _load_100___pq_power_meter1__Qac = _load_100___pq_power_meter1__v_beta * _load_100___pq_power_meter1__i_alpha - _load_100___pq_power_meter1__v_alpha * _load_100___pq_power_meter1__i_beta;
    _load_100___pq_power_meter1__P0ac = _load_100___pq_power_meter1__v_zero * _load_100___pq_power_meter1__i_zero;
    _load_100___pq_power_meter1__filter_1_output = 0.009336780874162044 * (_load_100___pq_power_meter1__Pac + _load_100___pq_power_meter1__filter_1_input_k_minus_1) - (-0.9813264382516759) * _load_100___pq_power_meter1__filter_1_output_k_minus_1;
    _load_100___pq_power_meter1__filter_1_outputQ = 0.009336780874162044 * (_load_100___pq_power_meter1__Qac + _load_100___pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9813264382516759) * _load_100___pq_power_meter1__filter_1_output_k_minus_1Q;
    _load_100___pq_power_meter1__filter_1_outputP0 = 0.009336780874162044 * (_load_100___pq_power_meter1__P0ac + _load_100___pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9813264382516759) * _load_100___pq_power_meter1__filter_1_output_k_minus_1P0;
    _load_100___pq_power_meter1__filter_1_input_k_minus_1 = _load_100___pq_power_meter1__Pac;
    _load_100___pq_power_meter1__filter_1_output_k_minus_1 = _load_100___pq_power_meter1__filter_1_output;
    _load_100___pq_power_meter1__filter_1_input_k_minus_1Q = _load_100___pq_power_meter1__Qac;;
    _load_100___pq_power_meter1__filter_1_output_k_minus_1Q = _load_100___pq_power_meter1__filter_1_outputQ;
    _load_100___pq_power_meter1__filter_1_input_k_minus_1P0 = _load_100___pq_power_meter1__P0ac;
    _load_100___pq_power_meter1__filter_1_output_k_minus_1P0 = _load_100___pq_power_meter1__filter_1_outputP0;
    _load_100___pq_power_meter1__Pdc = _load_100___pq_power_meter1__filter_1_output;
    _load_100___pq_power_meter1__Qdc = _load_100___pq_power_meter1__filter_1_outputQ;
    _load_100___pq_power_meter1__P0dc = _load_100___pq_power_meter1__filter_1_outputP0;
    _load_100___pq_power_meter1__apparent = sqrt(pow(_load_100___pq_power_meter1__Pdc, 2) + pow(_load_100___pq_power_meter1__Qdc, 2));
    if (_load_100___pq_power_meter1__apparent > 0)
        _load_100___pq_power_meter1__k_factor = _load_100___pq_power_meter1__Pdc / _load_100___pq_power_meter1__apparent;
    else
        _load_100___pq_power_meter1__k_factor = 0;
    // Generated from the component: Load 25 %.PQ Power Meter1
    _load_25___pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _secondary_va_va1__out - 0.5f * _secondary_vb_va1__out - 0.5f * _secondary_vc_va1__out);
    _load_25___pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _secondary_vb_va1__out - SQRT3_OVER_2 * _secondary_vc_va1__out);
    _load_25___pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _load_25___ia1_ia1__out - 0.5f * _load_25___ia2_ia1__out - 0.5f * _load_25___ia3_ia1__out);
    _load_25___pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _load_25___ia2_ia1__out - SQRT3_OVER_2 * _load_25___ia3_ia1__out);
    _load_25___pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_secondary_va_va1__out + _secondary_vb_va1__out + _secondary_vc_va1__out);
    _load_25___pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_load_25___ia1_ia1__out + _load_25___ia2_ia1__out + _load_25___ia3_ia1__out);
    _load_25___pq_power_meter1__Pac = _load_25___pq_power_meter1__v_alpha * _load_25___pq_power_meter1__i_alpha + _load_25___pq_power_meter1__v_beta * _load_25___pq_power_meter1__i_beta;
    _load_25___pq_power_meter1__Qac = _load_25___pq_power_meter1__v_beta * _load_25___pq_power_meter1__i_alpha - _load_25___pq_power_meter1__v_alpha * _load_25___pq_power_meter1__i_beta;
    _load_25___pq_power_meter1__P0ac = _load_25___pq_power_meter1__v_zero * _load_25___pq_power_meter1__i_zero;
    _load_25___pq_power_meter1__filter_1_output = 0.009336780874162044 * (_load_25___pq_power_meter1__Pac + _load_25___pq_power_meter1__filter_1_input_k_minus_1) - (-0.9813264382516759) * _load_25___pq_power_meter1__filter_1_output_k_minus_1;
    _load_25___pq_power_meter1__filter_1_outputQ = 0.009336780874162044 * (_load_25___pq_power_meter1__Qac + _load_25___pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9813264382516759) * _load_25___pq_power_meter1__filter_1_output_k_minus_1Q;
    _load_25___pq_power_meter1__filter_1_outputP0 = 0.009336780874162044 * (_load_25___pq_power_meter1__P0ac + _load_25___pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9813264382516759) * _load_25___pq_power_meter1__filter_1_output_k_minus_1P0;
    _load_25___pq_power_meter1__filter_1_input_k_minus_1 = _load_25___pq_power_meter1__Pac;
    _load_25___pq_power_meter1__filter_1_output_k_minus_1 = _load_25___pq_power_meter1__filter_1_output;
    _load_25___pq_power_meter1__filter_1_input_k_minus_1Q = _load_25___pq_power_meter1__Qac;;
    _load_25___pq_power_meter1__filter_1_output_k_minus_1Q = _load_25___pq_power_meter1__filter_1_outputQ;
    _load_25___pq_power_meter1__filter_1_input_k_minus_1P0 = _load_25___pq_power_meter1__P0ac;
    _load_25___pq_power_meter1__filter_1_output_k_minus_1P0 = _load_25___pq_power_meter1__filter_1_outputP0;
    _load_25___pq_power_meter1__Pdc = _load_25___pq_power_meter1__filter_1_output;
    _load_25___pq_power_meter1__Qdc = _load_25___pq_power_meter1__filter_1_outputQ;
    _load_25___pq_power_meter1__P0dc = _load_25___pq_power_meter1__filter_1_outputP0;
    _load_25___pq_power_meter1__apparent = sqrt(pow(_load_25___pq_power_meter1__Pdc, 2) + pow(_load_25___pq_power_meter1__Qdc, 2));
    if (_load_25___pq_power_meter1__apparent > 0)
        _load_25___pq_power_meter1__k_factor = _load_25___pq_power_meter1__Pdc / _load_25___pq_power_meter1__apparent;
    else
        _load_25___pq_power_meter1__k_factor = 0;
    // Generated from the component: Load 50 %.PQ Power Meter1
    _load_50___pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _secondary_va_va1__out - 0.5f * _secondary_vb_va1__out - 0.5f * _secondary_vc_va1__out);
    _load_50___pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _secondary_vb_va1__out - SQRT3_OVER_2 * _secondary_vc_va1__out);
    _load_50___pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _load_50___ia1_ia1__out - 0.5f * _load_50___ia2_ia1__out - 0.5f * _load_50___ia3_ia1__out);
    _load_50___pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _load_50___ia2_ia1__out - SQRT3_OVER_2 * _load_50___ia3_ia1__out);
    _load_50___pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_secondary_va_va1__out + _secondary_vb_va1__out + _secondary_vc_va1__out);
    _load_50___pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_load_50___ia1_ia1__out + _load_50___ia2_ia1__out + _load_50___ia3_ia1__out);
    _load_50___pq_power_meter1__Pac = _load_50___pq_power_meter1__v_alpha * _load_50___pq_power_meter1__i_alpha + _load_50___pq_power_meter1__v_beta * _load_50___pq_power_meter1__i_beta;
    _load_50___pq_power_meter1__Qac = _load_50___pq_power_meter1__v_beta * _load_50___pq_power_meter1__i_alpha - _load_50___pq_power_meter1__v_alpha * _load_50___pq_power_meter1__i_beta;
    _load_50___pq_power_meter1__P0ac = _load_50___pq_power_meter1__v_zero * _load_50___pq_power_meter1__i_zero;
    _load_50___pq_power_meter1__filter_1_output = 0.009336780874162044 * (_load_50___pq_power_meter1__Pac + _load_50___pq_power_meter1__filter_1_input_k_minus_1) - (-0.9813264382516759) * _load_50___pq_power_meter1__filter_1_output_k_minus_1;
    _load_50___pq_power_meter1__filter_1_outputQ = 0.009336780874162044 * (_load_50___pq_power_meter1__Qac + _load_50___pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9813264382516759) * _load_50___pq_power_meter1__filter_1_output_k_minus_1Q;
    _load_50___pq_power_meter1__filter_1_outputP0 = 0.009336780874162044 * (_load_50___pq_power_meter1__P0ac + _load_50___pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9813264382516759) * _load_50___pq_power_meter1__filter_1_output_k_minus_1P0;
    _load_50___pq_power_meter1__filter_1_input_k_minus_1 = _load_50___pq_power_meter1__Pac;
    _load_50___pq_power_meter1__filter_1_output_k_minus_1 = _load_50___pq_power_meter1__filter_1_output;
    _load_50___pq_power_meter1__filter_1_input_k_minus_1Q = _load_50___pq_power_meter1__Qac;;
    _load_50___pq_power_meter1__filter_1_output_k_minus_1Q = _load_50___pq_power_meter1__filter_1_outputQ;
    _load_50___pq_power_meter1__filter_1_input_k_minus_1P0 = _load_50___pq_power_meter1__P0ac;
    _load_50___pq_power_meter1__filter_1_output_k_minus_1P0 = _load_50___pq_power_meter1__filter_1_outputP0;
    _load_50___pq_power_meter1__Pdc = _load_50___pq_power_meter1__filter_1_output;
    _load_50___pq_power_meter1__Qdc = _load_50___pq_power_meter1__filter_1_outputQ;
    _load_50___pq_power_meter1__P0dc = _load_50___pq_power_meter1__filter_1_outputP0;
    _load_50___pq_power_meter1__apparent = sqrt(pow(_load_50___pq_power_meter1__Pdc, 2) + pow(_load_50___pq_power_meter1__Qdc, 2));
    if (_load_50___pq_power_meter1__apparent > 0)
        _load_50___pq_power_meter1__k_factor = _load_50___pq_power_meter1__Pdc / _load_50___pq_power_meter1__apparent;
    else
        _load_50___pq_power_meter1__k_factor = 0;
    // Generated from the component: Load 75 %.PQ Power Meter1
    _load_75___pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _secondary_va_va1__out - 0.5f * _secondary_vb_va1__out - 0.5f * _secondary_vc_va1__out);
    _load_75___pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _secondary_vb_va1__out - SQRT3_OVER_2 * _secondary_vc_va1__out);
    _load_75___pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _load_75___ia1_ia1__out - 0.5f * _load_75___ia2_ia1__out - 0.5f * _load_75___ia3_ia1__out);
    _load_75___pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _load_75___ia2_ia1__out - SQRT3_OVER_2 * _load_75___ia3_ia1__out);
    _load_75___pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_secondary_va_va1__out + _secondary_vb_va1__out + _secondary_vc_va1__out);
    _load_75___pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_load_75___ia1_ia1__out + _load_75___ia2_ia1__out + _load_75___ia3_ia1__out);
    _load_75___pq_power_meter1__Pac = _load_75___pq_power_meter1__v_alpha * _load_75___pq_power_meter1__i_alpha + _load_75___pq_power_meter1__v_beta * _load_75___pq_power_meter1__i_beta;
    _load_75___pq_power_meter1__Qac = _load_75___pq_power_meter1__v_beta * _load_75___pq_power_meter1__i_alpha - _load_75___pq_power_meter1__v_alpha * _load_75___pq_power_meter1__i_beta;
    _load_75___pq_power_meter1__P0ac = _load_75___pq_power_meter1__v_zero * _load_75___pq_power_meter1__i_zero;
    _load_75___pq_power_meter1__filter_1_output = 0.009336780874162044 * (_load_75___pq_power_meter1__Pac + _load_75___pq_power_meter1__filter_1_input_k_minus_1) - (-0.9813264382516759) * _load_75___pq_power_meter1__filter_1_output_k_minus_1;
    _load_75___pq_power_meter1__filter_1_outputQ = 0.009336780874162044 * (_load_75___pq_power_meter1__Qac + _load_75___pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9813264382516759) * _load_75___pq_power_meter1__filter_1_output_k_minus_1Q;
    _load_75___pq_power_meter1__filter_1_outputP0 = 0.009336780874162044 * (_load_75___pq_power_meter1__P0ac + _load_75___pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9813264382516759) * _load_75___pq_power_meter1__filter_1_output_k_minus_1P0;
    _load_75___pq_power_meter1__filter_1_input_k_minus_1 = _load_75___pq_power_meter1__Pac;
    _load_75___pq_power_meter1__filter_1_output_k_minus_1 = _load_75___pq_power_meter1__filter_1_output;
    _load_75___pq_power_meter1__filter_1_input_k_minus_1Q = _load_75___pq_power_meter1__Qac;;
    _load_75___pq_power_meter1__filter_1_output_k_minus_1Q = _load_75___pq_power_meter1__filter_1_outputQ;
    _load_75___pq_power_meter1__filter_1_input_k_minus_1P0 = _load_75___pq_power_meter1__P0ac;
    _load_75___pq_power_meter1__filter_1_output_k_minus_1P0 = _load_75___pq_power_meter1__filter_1_outputP0;
    _load_75___pq_power_meter1__Pdc = _load_75___pq_power_meter1__filter_1_output;
    _load_75___pq_power_meter1__Qdc = _load_75___pq_power_meter1__filter_1_outputQ;
    _load_75___pq_power_meter1__P0dc = _load_75___pq_power_meter1__filter_1_outputP0;
    _load_75___pq_power_meter1__apparent = sqrt(pow(_load_75___pq_power_meter1__Pdc, 2) + pow(_load_75___pq_power_meter1__Qdc, 2));
    if (_load_75___pq_power_meter1__apparent > 0)
        _load_75___pq_power_meter1__k_factor = _load_75___pq_power_meter1__Pdc / _load_75___pq_power_meter1__apparent;
    else
        _load_75___pq_power_meter1__k_factor = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.S
    HIL_OutAO(0x4069, (float)_fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain6__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.w_pu
    HIL_OutAO(0x406c, (float)_fuel_cell_sofc_inverter_control_pll_gain1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum2
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum2__out =  - _fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum8
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum8__out =  - _fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant4__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_abc_to_dq.Termination1
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_abc_to_dq.abc to dq1.alpha beta to dq
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k1 = cos(_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k2 = sin(_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__d = _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k2 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__alpha - _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k1 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__beta;
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__q = _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k1 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__alpha + _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__k2 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_abc_to_alpha_beta__beta;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divK_H2O
    _fuel_cell_sofc_inverter_sofc_sofc_1divk_h2o__out = 3558.7188612099644 * _fuel_cell_sofc_inverter_sofc_sofc_2k_r__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Sum2
    _fuel_cell_sofc_inverter_sofc_sofc_sum2__out = _fuel_cell_sofc_inverter_sofc_sofc_integrator1__out - _fuel_cell_sofc_inverter_sofc_sofc_2k_r__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Sum1
    _fuel_cell_sofc_inverter_sofc_sofc_sum1__out = _fuel_cell_sofc_inverter_sofc_sofc_2krdivuopt__out - _fuel_cell_sofc_inverter_sofc_sofc_integrator1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Sum5
    _fuel_cell_sofc_inverter_sofc_sofc_sum5__out = _fuel_cell_sofc_inverter_sofc_sofc_1div_r_ho1__out - _fuel_cell_sofc_inverter_sofc_sofc_k_r__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Product1
    _fuel_cell_sofc_inverter_sofc_sofc_product1__out = (_fuel_cell_sofc_inverter_sofc_sofc_integrator2__out * _fuel_cell_sofc_inverter_sofc_sofc_exponential__out) * 1.0 / (_fuel_cell_sofc_inverter_sofc_sofc_integrator3__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT1.Input
    _fuel_cell_sofc_inverter_thd_ia_rt1_output__out = _fuel_cell_sofc_inverter_thd_ia_thd_array1__syn;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT2.Input
    _fuel_cell_sofc_inverter_thd_ia_rt2_output__out = _fuel_cell_sofc_inverter_thd_ia_thd_array1__zc_stat;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT1.Input
    _fuel_cell_sofc_inverter_thd_ib_rt1_output__out = _fuel_cell_sofc_inverter_thd_ib_thd_array1__syn;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT2.Input
    _fuel_cell_sofc_inverter_thd_ib_rt2_output__out = _fuel_cell_sofc_inverter_thd_ib_thd_array1__zc_stat;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT1.Input
    _fuel_cell_sofc_inverter_thd_ic_rt1_output__out = _fuel_cell_sofc_inverter_thd_ic_thd_array1__syn;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT2.Input
    _fuel_cell_sofc_inverter_thd_ic_rt2_output__out = _fuel_cell_sofc_inverter_thd_ic_thd_array1__zc_stat;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT1.Input
    _fuel_cell_sofc_inverter_thd_va_rt1_output__out = _fuel_cell_sofc_inverter_thd_va_thd_array1__syn;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT2.Input
    _fuel_cell_sofc_inverter_thd_va_rt2_output__out = _fuel_cell_sofc_inverter_thd_va_thd_array1__zc_stat;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT1.Input
    _fuel_cell_sofc_inverter_thd_vb_rt1_output__out = _fuel_cell_sofc_inverter_thd_vb_thd_array1__syn;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT2.Input
    _fuel_cell_sofc_inverter_thd_vb_rt2_output__out = _fuel_cell_sofc_inverter_thd_vb_thd_array1__zc_stat;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT1.Input
    _fuel_cell_sofc_inverter_thd_vc_rt1_output__out = _fuel_cell_sofc_inverter_thd_vc_thd_array1__syn;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT2.Input
    _fuel_cell_sofc_inverter_thd_vc_rt2_output__out = _fuel_cell_sofc_inverter_thd_vc_thd_array1__zc_stat;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.LPF_dc
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__a_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__delay_line_in = 0.0f;
    for (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i = 0; _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i < 1; _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i++) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_sum += _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_coeff[_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i + 1] * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__states[_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__i];
    }
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__a_sum += _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__states[0] * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__a_coeff[1];
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__delay_line_in = _fuel_cell_sofc_inverter_control_grid_follow_gain3__out - _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__a_sum;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_sum += _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_coeff[0] * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__delay_line_in;
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__b_sum;
    // Generated from the component: Fuel_Cell.Bus Join4
    _fuel_cell_bus_join4__out[0] = _fuel_cell_connect__out;
    _fuel_cell_bus_join4__out[1] = _fuel_cell_interface_sm__enable;
    _fuel_cell_bus_join4__out[2] = _fuel_cell_pref_fc__out;
    _fuel_cell_bus_join4__out[3] = _fuel_cell_v_ref__out;
    _fuel_cell_bus_join4__out[4] = _fuel_cell_q_mode__out;
    _fuel_cell_bus_join4__out[5] = _fuel_cell_q_ref__out;
    // Generated from the component: Load 100 %.72 KW
    HIL_OutAO(0x4072, (float)_load_100___pq_power_meter1__Pdc);
    // Generated from the component: Load 100 %.Q
    HIL_OutAO(0x4073, (float)_load_100___pq_power_meter1__Qdc);
    // Generated from the component: Load 100 %.S
    HIL_OutAO(0x4074, (float)_load_100___pq_power_meter1__apparent);
    // Generated from the component: Load 100 %.Termination1
    // Generated from the component: Load 100 %.Termination2
    // Generated from the component: Load 100 %.pf
    HIL_OutAO(0x4075, (float)_load_100___pq_power_meter1__k_factor);
    // Generated from the component: Load 25 %.72 KW
    HIL_OutAO(0x4076, (float)_load_25___pq_power_meter1__Pdc);
    // Generated from the component: Load 25 %.Q
    HIL_OutAO(0x4077, (float)_load_25___pq_power_meter1__Qdc);
    // Generated from the component: Load 25 %.S
    HIL_OutAO(0x4078, (float)_load_25___pq_power_meter1__apparent);
    // Generated from the component: Load 25 %.Termination2
    // Generated from the component: Load 25 %.Termination3
    // Generated from the component: Load 25 %.pf
    HIL_OutAO(0x4079, (float)_load_25___pq_power_meter1__k_factor);
    // Generated from the component: Load 50 %.72 KW
    HIL_OutAO(0x407a, (float)_load_50___pq_power_meter1__Pdc);
    // Generated from the component: Load 50 %.Q
    HIL_OutAO(0x407b, (float)_load_50___pq_power_meter1__Qdc);
    // Generated from the component: Load 50 %.S
    HIL_OutAO(0x407c, (float)_load_50___pq_power_meter1__apparent);
    // Generated from the component: Load 50 %.Termination1
    // Generated from the component: Load 50 %.Termination2
    // Generated from the component: Load 50 %.pf
    HIL_OutAO(0x407d, (float)_load_50___pq_power_meter1__k_factor);
    // Generated from the component: Load 75 %.72 KW
    HIL_OutAO(0x407e, (float)_load_75___pq_power_meter1__Pdc);
    // Generated from the component: Load 75 %.Q
    HIL_OutAO(0x407f, (float)_load_75___pq_power_meter1__Qdc);
    // Generated from the component: Load 75 %.S
    HIL_OutAO(0x4080, (float)_load_75___pq_power_meter1__apparent);
    // Generated from the component: Load 75 %.Termination1
    // Generated from the component: Load 75 %.Termination2
    // Generated from the component: Load 75 %.pf
    HIL_OutAO(0x4081, (float)_load_75___pq_power_meter1__k_factor);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_abc_to_dq.Gain1
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out = 0.005094938664989009 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__d;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_abc_to_dq.Gain2
    _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out = 0.005094938664989009 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_abc_to_dq1_alpha_beta_to_dq__q;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Sum4
    _fuel_cell_sofc_inverter_sofc_sofc_sum4__out = _fuel_cell_sofc_inverter_sofc_sofc_1divk_h2o__out - _fuel_cell_sofc_inverter_sofc_sofc_integrator3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divK_H2
    _fuel_cell_sofc_inverter_sofc_sofc_1divk_h2__out = 1186.2396204033214 * _fuel_cell_sofc_inverter_sofc_sofc_sum2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divtau_f
    _fuel_cell_sofc_inverter_sofc_sofc_1divtau_f__out = 0.2 * _fuel_cell_sofc_inverter_sofc_sofc_sum1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divK_O2
    _fuel_cell_sofc_inverter_sofc_sofc_1divk_o2__out = 396.8253968253968 * _fuel_cell_sofc_inverter_sofc_sofc_sum5__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Ln
    _fuel_cell_sofc_inverter_sofc_sofc_ln__out = log(_fuel_cell_sofc_inverter_sofc_sofc_product1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Input.Bus Split2
    _fuel_cell_sofc_inverter_input_bus_split2__out = _fuel_cell_bus_join4__out[0];
    _fuel_cell_sofc_inverter_input_bus_split2__out1 = _fuel_cell_bus_join4__out[1];
    _fuel_cell_sofc_inverter_input_bus_split2__out2 = _fuel_cell_bus_join4__out[2];
    _fuel_cell_sofc_inverter_input_bus_split2__out3 = _fuel_cell_bus_join4__out[3];
    _fuel_cell_sofc_inverter_input_bus_split2__out4 = _fuel_cell_bus_join4__out[4];
    _fuel_cell_sofc_inverter_input_bus_split2__out5 = _fuel_cell_bus_join4__out[5];
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Gain2
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain2__out = 0.3476998914382398 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Product5
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product5__out = (_fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_damp__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Gain1
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain1__out = 0.3476998914382398 * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Product6
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product6__out = (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_damp__out * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divtau_H2O
    _fuel_cell_sofc_inverter_sofc_sofc_1divtau_h2o__out = 0.01277139208173691 * _fuel_cell_sofc_inverter_sofc_sofc_sum4__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Sum3
    _fuel_cell_sofc_inverter_sofc_sofc_sum3__out = _fuel_cell_sofc_inverter_sofc_sofc_1divk_h2__out - _fuel_cell_sofc_inverter_sofc_sofc_integrator2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Sum6
    _fuel_cell_sofc_inverter_sofc_sofc_sum6__out = _fuel_cell_sofc_inverter_sofc_sofc_1divk_o2__out - _fuel_cell_sofc_inverter_sofc_sofc_integrator4__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.R*Tdiv2divF
    _fuel_cell_sofc_inverter_sofc_sofc_r_tdiv2divf__out = 0.05484532631338937 * _fuel_cell_sofc_inverter_sofc_sofc_ln__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Edge Detection1.Relational operator1
    _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out = (_fuel_cell_sofc_inverter_input_bus_split2__out1 != _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__out) ? 1 : 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Gain2
    _fuel_cell_sofc_inverter_control_grid_follow_gain2__out = 0.02 * _fuel_cell_sofc_inverter_input_bus_split2__out5;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Gain4
    _fuel_cell_sofc_inverter_control_grid_follow_gain4__out = 0.004807692307692308 * _fuel_cell_sofc_inverter_input_bus_split2__out3;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Logical operator1
    _fuel_cell_sofc_inverter_control_grid_follow_logical_operator1__out = !_fuel_cell_sofc_inverter_input_bus_split2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Qmode
    HIL_OutInt32(0xf0042f, _fuel_cell_sofc_inverter_input_bus_split2__out4 != 0x0);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.delay
    _fuel_cell_sofc_inverter_control_grid_follow_delay__in = _fuel_cell_sofc_inverter_input_bus_split2__out;
    if (_fuel_cell_sofc_inverter_control_grid_follow_delay__out == 0) {
        if (_fuel_cell_sofc_inverter_control_grid_follow_delay__in > 0.5) {
            _fuel_cell_sofc_inverter_control_grid_follow_delay__counter += 0.0001;
            if (_fuel_cell_sofc_inverter_control_grid_follow_delay__counter > 0.125) {
                _fuel_cell_sofc_inverter_control_grid_follow_delay__out = 1;
            }
        }
        else {
            _fuel_cell_sofc_inverter_control_grid_follow_delay__counter -= _fuel_cell_sofc_inverter_control_grid_follow_delay__counter;
            _fuel_cell_sofc_inverter_control_grid_follow_delay__out = 0;
        }
    }
    else {
        _fuel_cell_sofc_inverter_control_grid_follow_delay__counter = 0;
        if (_fuel_cell_sofc_inverter_control_grid_follow_delay__in <= 0.5) {
            _fuel_cell_sofc_inverter_control_grid_follow_delay__out = 0;
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Signal switch1
    _fuel_cell_sofc_inverter_control_pll_signal_switch1__out = (_fuel_cell_sofc_inverter_input_bus_split2__out > 0.0f) ? _fuel_cell_sofc_inverter_va_va1__out : _fuel_cell_sofc_inverter_control_pll_constant1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Signal switch2
    _fuel_cell_sofc_inverter_control_pll_signal_switch2__out = (_fuel_cell_sofc_inverter_input_bus_split2__out > 0.0f) ? _fuel_cell_sofc_inverter_vb_va1__out : _fuel_cell_sofc_inverter_control_pll_constant1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Signal switch3
    _fuel_cell_sofc_inverter_control_pll_signal_switch3__out = (_fuel_cell_sofc_inverter_input_bus_split2__out > 0.0f) ? _fuel_cell_sofc_inverter_vc_va1__out : _fuel_cell_sofc_inverter_control_pll_constant1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.S1.CTC_Wrapper
    if (_fuel_cell_sofc_inverter_input_bus_split2__out == 0x0) {
        HIL_OutInt32(0x8e40480, 0x0);
    }
    else {
        HIL_OutInt32(0x8e40480, 0x1);
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.delay
    _fuel_cell_sofc_inverter_delay__in = _fuel_cell_sofc_inverter_input_bus_split2__out;
    if (_fuel_cell_sofc_inverter_delay__out == 0) {
        if (_fuel_cell_sofc_inverter_delay__in > 0.5) {
            _fuel_cell_sofc_inverter_delay__counter += 0.0001;
            if (_fuel_cell_sofc_inverter_delay__counter > 0.125) {
                _fuel_cell_sofc_inverter_delay__out = 1;
            }
        }
        else {
            _fuel_cell_sofc_inverter_delay__counter -= _fuel_cell_sofc_inverter_delay__counter;
            _fuel_cell_sofc_inverter_delay__out = 0;
        }
    }
    else {
        _fuel_cell_sofc_inverter_delay__counter = 0;
        if (_fuel_cell_sofc_inverter_delay__in <= 0.5) {
            _fuel_cell_sofc_inverter_delay__out = 0;
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.enable
    HIL_OutInt32(0xf00431, _fuel_cell_sofc_inverter_input_bus_split2__out1 != 0x0);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Product2
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product2__out = (_fuel_cell_sofc_inverter_control_pll_gain1__out * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain2__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Product1
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product1__out = (_fuel_cell_sofc_inverter_control_pll_gain1__out * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divtau_H2
    _fuel_cell_sofc_inverter_sofc_sofc_1divtau_h2__out = 0.038314176245210725 * _fuel_cell_sofc_inverter_sofc_sofc_sum3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.1divtau_O2
    _fuel_cell_sofc_inverter_sofc_sofc_1divtau_o2__out = 0.3436426116838488 * _fuel_cell_sofc_inverter_sofc_sofc_sum6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.N0
    _fuel_cell_sofc_inverter_sofc_sofc_n0__out = 500.0 * _fuel_cell_sofc_inverter_sofc_sofc_r_tdiv2divf__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Integrator1
    if (((_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out > 0.0) && (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state <= 0)) || ((_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out <= 0.0) && (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state == 1))) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__state = 0.0;
    }
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Integrator1
    if (((_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out > 0.0) && (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state <= 0)) || ((_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out <= 0.0) && (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state == 1))) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__state = 0.0;
    }
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Integrator1
    if (((_fuel_cell_sofc_inverter_control_grid_follow_logical_operator1__out > 0.0) && (_fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state <= 0)) || ((_fuel_cell_sofc_inverter_control_grid_follow_logical_operator1__out <= 0.0) && (_fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state == 1))) {
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__state = 0.0;
    }
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__out = _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__state;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Logical operator2
    _fuel_cell_sofc_inverter_control_grid_follow_logical_operator2__out = _fuel_cell_sofc_inverter_control_grid_follow_delay__out && _fuel_cell_sofc_inverter_input_bus_split2__out1 ;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.abc to dq.abc to alpha beta
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__alpha = (2.0 * _fuel_cell_sofc_inverter_control_pll_signal_switch1__out - _fuel_cell_sofc_inverter_control_pll_signal_switch2__out - _fuel_cell_sofc_inverter_control_pll_signal_switch3__out) * 0.3333333333333333;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__beta = (_fuel_cell_sofc_inverter_control_pll_signal_switch2__out - _fuel_cell_sofc_inverter_control_pll_signal_switch3__out) * 0.5773502691896258;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__gamma = (_fuel_cell_sofc_inverter_control_pll_signal_switch1__out + _fuel_cell_sofc_inverter_control_pll_signal_switch2__out + _fuel_cell_sofc_inverter_control_pll_signal_switch3__out) * 0.3333333333333333;
    // Generated from the component: Fuel_Cell.SOFC inverter.Logical operator1
    _fuel_cell_sofc_inverter_logical_operator1__out = _fuel_cell_sofc_inverter_input_bus_split2__out1 && _fuel_cell_sofc_inverter_delay__out ;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Bus Join1
    _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[0] = _fuel_cell_sofc_inverter_sofc_ia1_ia1__out;
    _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[1] = _fuel_cell_sofc_inverter_sofc_sofc_integrator1__out;
    _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[2] = _fuel_cell_sofc_inverter_sofc_sofc_integrator2__out;
    _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[3] = _fuel_cell_sofc_inverter_sofc_sofc_integrator3__out;
    _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[4] = _fuel_cell_sofc_inverter_sofc_sofc_integrator4__out;
    _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[5] = _fuel_cell_sofc_inverter_sofc_sofc_n0__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Vsp1.Vs1
    HIL_OutFloat(149684224, (float) _fuel_cell_sofc_inverter_sofc_sofc_n0__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Signal switch3
    _fuel_cell_sofc_inverter_control_grid_follow_signal_switch3__out = (_fuel_cell_sofc_inverter_control_grid_follow_logical_operator2__out > 0.5f) ? _fuel_cell_sofc_inverter_control_grid_follow_gain2__out : _fuel_cell_sofc_inverter_control_grid_follow_constant2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.abc to dq.alpha beta to dq
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k1 = cos(_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k2 = sin(_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__d = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k2 * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__alpha - _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k1 * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__beta;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__q = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k1 * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__alpha + _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__k2 * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_abc_to_alpha_beta__beta;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.term_zero
    // Generated from the component: Fuel_Cell.SOFC inverter.On
    HIL_OutInt32(0xf00430, _fuel_cell_sofc_inverter_logical_operator1__out != 0x0);
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Bus Split1
    _fuel_cell_sofc_inverter_sofc_bus_split1__out = _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[0];
    _fuel_cell_sofc_inverter_sofc_bus_split1__out1 = _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[1];
    _fuel_cell_sofc_inverter_sofc_bus_split1__out2 = _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[2];
    _fuel_cell_sofc_inverter_sofc_bus_split1__out3 = _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[3];
    _fuel_cell_sofc_inverter_sofc_bus_split1__out4 = _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[4];
    _fuel_cell_sofc_inverter_sofc_bus_split1__out5 = _fuel_cell_sofc_inverter_sofc_sofc_bus_join1__out[5];
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.abc to dq.LPF_d
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__delay_line_in = 0.0f;
    for (_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i = 0; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i < 1; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i++) {
        _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_sum += _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_coeff[_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i + 1] * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__states[_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__i];
    }
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_sum += _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__states[0] * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_coeff[1];
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__delay_line_in = (_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__d - _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_sum) / _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__a_coeff[0];
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_sum += _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_coeff[0] * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__delay_line_in;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__out = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__b_sum;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.abc to dq.LPF_q
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__delay_line_in = 0.0f;
    for (_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i = 0; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i < 1; _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i++) {
        _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_sum += _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_coeff[_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i + 1] * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__states[_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__i];
    }
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_sum += _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__states[0] * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_coeff[1];
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__delay_line_in = (_fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_alpha_beta_to_dq__q - _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_sum) / _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__a_coeff[0];
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_sum += _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_coeff[0] * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__delay_line_in;
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__out = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__b_sum;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Gain1
    _fuel_cell_sofc_inverter_sofc_gain1__out = 3.6 * _fuel_cell_sofc_inverter_sofc_bus_split1__out3;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Termination1
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Termination2
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Termination3
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Termination4
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Termination5
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Gain4
    _fuel_cell_sofc_inverter_control_pll_gain4__out = 0.005888196497074948 * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Gain3
    _fuel_cell_sofc_inverter_control_pll_gain3__out = 0.005888196497074948 * _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.normalize
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__in1 = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__out;
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2 = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__out;
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk = (powf(_fuel_cell_sofc_inverter_control_pll_pll_normalize__in1, 2.0) + powf(_fuel_cell_sofc_inverter_control_pll_pll_normalize__in2, 2.0));
    _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk = sqrt(_fuel_cell_sofc_inverter_control_pll_pll_normalize__pk);
    if (_fuel_cell_sofc_inverter_control_pll_pll_normalize__pk < 0.1) {
        _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2_pu = _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2 / 0.1;
    }
    else {
        _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2_pu = _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2 / _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.Fuel_Cell
    HIL_OutAO(0x4071, (float)_fuel_cell_sofc_inverter_sofc_gain1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum5
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum5__out = _fuel_cell_sofc_inverter_control_pll_gain4__out - _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product4
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product4__out = (_fuel_cell_sofc_inverter_control_pll_gain4__out * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product5
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product5__out = (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__out * _fuel_cell_sofc_inverter_control_pll_gain4__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.Product1
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product1__out = (_fuel_cell_sofc_inverter_control_pll_gain4__out * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.Product3
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product3__out = (_fuel_cell_sofc_inverter_control_pll_gain4__out * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum6
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum6__out = _fuel_cell_sofc_inverter_control_pll_gain3__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product3
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product3__out = (_fuel_cell_sofc_inverter_control_pll_gain3__out * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product6
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product6__out = (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__out * _fuel_cell_sofc_inverter_control_pll_gain3__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.Product2
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product2__out = (_fuel_cell_sofc_inverter_control_pll_gain3__out * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.Product4
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product4__out = (_fuel_cell_sofc_inverter_control_pll_gain3__out * _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Gain5
    _fuel_cell_sofc_inverter_control_pll_gain5__out = 0.005888196497074948 * _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Kd
    _fuel_cell_sofc_inverter_control_pll_pll_pid_kd__out = 1.0 * _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2_pu;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Ki
    _fuel_cell_sofc_inverter_control_pll_pll_pid_ki__out = 3200.0 * _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2_pu;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Kp
    _fuel_cell_sofc_inverter_control_pll_pll_pid_kp__out = 100.0 * _fuel_cell_sofc_inverter_control_pll_pll_normalize__in2_pu;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.Vt_meas
    HIL_OutAO(0x406e, (float)_fuel_cell_sofc_inverter_control_pll_pll_normalize__pk);
    // Generated from the component: Fuel_Cell.SOFC inverter.Output.Bus Join1
    _fuel_cell_sofc_inverter_output_bus_join1__out[0] = _fuel_cell_sofc_inverter_input_bus_split2__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[1] = _fuel_cell_sofc_inverter_logical_operator1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[2] = _fuel_cell_sofc_inverter_va_va1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[3] = _fuel_cell_sofc_inverter_vb_va1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[4] = _fuel_cell_sofc_inverter_vc_va1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[5] = _fuel_cell_sofc_inverter_control_pll_pll_normalize__pk;
    _fuel_cell_sofc_inverter_output_bus_join1__out[6] = _fuel_cell_sofc_inverter_ia_ia1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[7] = _fuel_cell_sofc_inverter_ib_ia1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[8] = _fuel_cell_sofc_inverter_ic_ia1__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[9] = _fuel_cell_sofc_inverter_control_pll_pll_to_hz__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[10] = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain4__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[11] = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain5__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[12] = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_gain6__out;
    _fuel_cell_sofc_inverter_output_bus_join1__out[13] = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_s_and_pf__pf;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Sum3
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_sum3__out = _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product3__out - _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product4__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Sum4
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_sum4__out = _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product5__out + _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.Sum1
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_sum1__out = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product1__out + _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.Sum2
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_sum2__out = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product4__out - _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_product3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product7
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product7__out = (_fuel_cell_sofc_inverter_control_pll_gain5__out * _fuel_cell_sofc_inverter_control_pll_gain5__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Signal switch4
    _fuel_cell_sofc_inverter_control_grid_follow_signal_switch4__out = (_fuel_cell_sofc_inverter_control_grid_follow_logical_operator2__out > 0.5f) ? _fuel_cell_sofc_inverter_control_grid_follow_gain4__out : _fuel_cell_sofc_inverter_control_pll_gain5__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Vt_pu
    HIL_OutAO(0x406a, (float)_fuel_cell_sofc_inverter_control_pll_gain5__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Sum8
    _fuel_cell_sofc_inverter_control_pll_pll_pid_sum8__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_kd__out - _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__out;
    // Generated from the component: Fuel_Cell.Out
    HIL_OutAO(0x4059, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[0]);
    HIL_OutAO(0x405a, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[1]);
    HIL_OutAO(0x405b, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[2]);
    HIL_OutAO(0x405c, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[3]);
    HIL_OutAO(0x405d, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[4]);
    HIL_OutAO(0x405e, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[5]);
    HIL_OutAO(0x405f, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[6]);
    HIL_OutAO(0x4060, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[7]);
    HIL_OutAO(0x4061, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[8]);
    HIL_OutAO(0x4062, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[9]);
    HIL_OutAO(0x4063, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[10]);
    HIL_OutAO(0x4064, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[11]);
    HIL_OutAO(0x4065, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[12]);
    HIL_OutAO(0x4066, (float)_fuel_cell_sofc_inverter_output_bus_join1__out[13]);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.LPF_P
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__a_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__delay_line_in = 0.0f;
    for (_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i = 0; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i < 1; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i++) {
        _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_sum += _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_coeff[_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i + 1] * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__states[_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__i];
    }
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__a_sum += _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__states[0] * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__a_coeff[1];
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__delay_line_in = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_sum1__out - _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__a_sum;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_sum += _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_coeff[0] * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__delay_line_in;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__out = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__b_sum;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.LPF_Q
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__a_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__delay_line_in = 0.0f;
    for (_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i = 0; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i < 1; _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i++) {
        _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_sum += _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_coeff[_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i + 1] * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__states[_fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__i];
    }
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__a_sum += _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__states[0] * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__a_coeff[1];
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__delay_line_in = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_sum2__out - _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__a_sum;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_sum += _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_coeff[0] * _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__delay_line_in;
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__out = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__b_sum;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Limit3
    if (_fuel_cell_sofc_inverter_control_grid_follow_current_ref_product7__out < 0.01) {
        _fuel_cell_sofc_inverter_control_grid_follow_current_ref_limit3__out = 0.01;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_current_ref_limit3__out = _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product7__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Sum1
    _fuel_cell_sofc_inverter_control_grid_follow_sum1__out = _fuel_cell_sofc_inverter_control_grid_follow_signal_switch4__out - _fuel_cell_sofc_inverter_control_pll_gain5__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Gain1
    _fuel_cell_sofc_inverter_control_pll_pll_pid_gain1__out = 714.2857 * _fuel_cell_sofc_inverter_control_pll_pll_pid_sum8__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product1
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product1__out = (_fuel_cell_sofc_inverter_control_grid_follow_current_ref_sum3__out) * 1.0 / (_fuel_cell_sofc_inverter_control_grid_follow_current_ref_limit3__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Current_ref.Product2
    _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product2__out = (_fuel_cell_sofc_inverter_control_grid_follow_current_ref_sum4__out) * 1.0 / (_fuel_cell_sofc_inverter_control_grid_follow_current_ref_limit3__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Ki
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_ki__out = 3.0 * _fuel_cell_sofc_inverter_control_grid_follow_sum1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Kp
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_kp__out = 15.0 * _fuel_cell_sofc_inverter_control_grid_follow_sum1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Sum5
    _fuel_cell_sofc_inverter_control_pll_pll_pid_sum5__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_kp__out + _fuel_cell_sofc_inverter_control_pll_pll_pid_gain1__out + _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum2
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum2__out =  - _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain2__out + _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum1
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum1__out =  - _fuel_cell_sofc_inverter_control_grid_follow_current_abc_to_dq_gain1__out + _fuel_cell_sofc_inverter_control_grid_follow_current_ref_product2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Sum5
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum5__out = _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_kp__out + _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Limit1
    if (_fuel_cell_sofc_inverter_control_pll_pll_pid_sum5__out > 527.7875658030853) {
        _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out = 527.7875658030853;
    } else if (_fuel_cell_sofc_inverter_control_pll_pll_pid_sum5__out < 0.0) {
        _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out = 0.0;
    } else {
        _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_sum5__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Ki
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_ki__out = 30.0 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Kp
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_kp__out = 3.0 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Ki
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_ki__out = 30.0 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Kp
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_kp__out = 3.0 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Limit1
    if (_fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum5__out > 4.0) {
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_limit1__out = 4.0;
    } else if (_fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum5__out < -4.0) {
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_limit1__out = -4.0;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_limit1__out = _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum5__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Sum6
    _fuel_cell_sofc_inverter_control_pll_pll_pid_sum6__out =  - _fuel_cell_sofc_inverter_control_pll_pll_pid_sum5__out + _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.Rate Limiter1
    if (_fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__first_step) {
        _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out;
    } else {
        _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out;
        _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__in_rate = _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out - _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__prev_out;
        if (_fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__in_rate > 0.1884955592153876) {
            _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out = _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__prev_out + (0.1884955592153876);
        }
        if (_fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__in_rate < -0.1884955592153876) {
            _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out = _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__prev_out + (-0.1884955592153876);
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.integrator
    _fuel_cell_sofc_inverter_control_pll_pll_integrator__in = _fuel_cell_sofc_inverter_control_pll_pll_pid_limit1__out;
    _fuel_cell_sofc_inverter_control_pll_pll_integrator__out += 0.0001 * _fuel_cell_sofc_inverter_control_pll_pll_integrator__in;
    if (_fuel_cell_sofc_inverter_control_pll_pll_integrator__in >= 0.0) {
        if (_fuel_cell_sofc_inverter_control_pll_pll_integrator__out >= 6.283185307179586) {
            _fuel_cell_sofc_inverter_control_pll_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_fuel_cell_sofc_inverter_control_pll_pll_integrator__out <= -6.283185307179586) {
            _fuel_cell_sofc_inverter_control_pll_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Sum5
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum5__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_kp__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Sum5
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum5__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_kp__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Sum6
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum6__out =  - _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum5__out + _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_limit1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Signal switch1
    _fuel_cell_sofc_inverter_control_grid_follow_signal_switch1__out = (_fuel_cell_sofc_inverter_input_bus_split2__out4 > 0.5f) ? _fuel_cell_sofc_inverter_control_grid_follow_signal_switch3__out : _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_limit1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Kb
    _fuel_cell_sofc_inverter_control_pll_pll_pid_kb__out = 1.0 * _fuel_cell_sofc_inverter_control_pll_pll_pid_sum6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.LPF.LPF
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__b_sum = 0.0f;
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__delay_line_in = 0.0f;
    for (_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i = 0; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i < 2; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i++) {
        _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__b_sum += _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__b_coeff[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i] * _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i + 0];
    }
    for (_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i = 1; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i > 0; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i--) {
        _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_sum += _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_coeff[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i + 1] * _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i];
    }
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_sum += _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[0] * _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_coeff[1];
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__delay_line_in = _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out - _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__a_sum;
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__out = _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__b_sum;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Limit1
    if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum5__out > 10.0) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_limit1__out = 10.0;
    } else if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum5__out < -10.0) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_limit1__out = -10.0;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_limit1__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum5__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Limit1
    if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum5__out > 10.0) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_limit1__out = 10.0;
    } else if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum5__out < -10.0) {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_limit1__out = -10.0;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_limit1__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum5__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Kb
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_kb__out = 1000.0 * _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.priority_PQlim.PQ limiting with priority
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref = _fuel_cell_sofc_inverter_input_bus_split2__out2;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref = _fuel_cell_sofc_inverter_control_grid_follow_signal_switch1__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax = _fuel_cell_sofc_inverter_control_grid_follow_constant3__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref = sqrt(_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref + _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref);
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref >= 0)_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ = 1;
    else _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ = -1;
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref >= 0)_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP = 1;
    else _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP = -1;
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref <= _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax) {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__S = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref;
    }
    else {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__S = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
        if (1.0 == 1) {
            if (fabs(_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref) > _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax) {
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = 0;
            }
            else {
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref;
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ * sqrt(_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax - _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref);
            }
        }
        else if (1.0 == 2) {
            if (fabs(_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref) > _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax) {
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = 0;
            }
            else {
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref;
                _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP * sqrt(_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax - _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref);
            }
        }
        else {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref / _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref) * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref / _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref) * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Sum7
    _fuel_cell_sofc_inverter_control_pll_pll_pid_sum7__out = _fuel_cell_sofc_inverter_control_pll_pll_pid_ki__out + _fuel_cell_sofc_inverter_control_pll_pll_pid_kb__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Sum6
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum6__out =  - _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum5__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_limit1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum7
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum7__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_limit1__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Sum6
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum6__out =  - _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum5__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_limit1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum3
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum3__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_limit1__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum5__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Sum7
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum7__out = _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_ki__out + _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_kb__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.P rate limit
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__first_step) {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__in_rate = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__P - _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__prev_out;
        if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__in_rate > 0.0005) {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__prev_out + (0.0005);
        }
        if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__in_rate < -0.0005) {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__prev_out + (-0.0005);
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.Q rate limit
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__first_step) {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__in_rate = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q - _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__prev_out;
        if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__in_rate > 0.0005) {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__prev_out + (0.0005);
        }
        if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__in_rate < -0.0005) {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__prev_out + (-0.0005);
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.S rate limit
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__first_step) {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__S;
    } else {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__S;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__in_rate = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_priority_pqlim_pq_limiting_with_priority__S - _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__prev_out;
        if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__in_rate > 0.0005) {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__prev_out + (0.0005);
        }
        if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__in_rate < -0.0005) {
            _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__prev_out + (-0.0005);
        }
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Kb
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_kb__out = 1.0 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Product7
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product7__out = (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum7__out) * 1.0 / (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain5__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Kb
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_kb__out = 1.0 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum6__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Product8
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product8__out = (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum3__out) * 1.0 / (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain5__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.limS_overPQ.S limiting over PQ
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Pref = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Qref = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Sref = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref = sqrt(_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Pref * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Pref + _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Qref * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Qref);
    if (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref > _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Sref) {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__P = (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Pref / _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref) * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Sref;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Q = (_fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Qref / _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref) * _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Sref;
    }
    else {
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__P = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Pref;
        _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Q = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Qref;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Sum7
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum7__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_ki__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_kb__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Gain11
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain11__out = 0.4245782220824175 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product7__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Sum7
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum7__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_ki__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_kb__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Gain10
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain10__out = 0.4245782220824175 * _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product8__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum9
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum9__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product6__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain11__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.Sum8
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum8__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_gain10__out + _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_product5__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.Limit3
    if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum9__out > 1.1546) {
        _fuel_cell_sofc_inverter_control_duty_cycle_limit3__out = 1.1546;
    } else if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum9__out < -1.1546) {
        _fuel_cell_sofc_inverter_control_duty_cycle_limit3__out = -1.1546;
    } else {
        _fuel_cell_sofc_inverter_control_duty_cycle_limit3__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum9__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.Limit2
    if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum8__out > 1.1546) {
        _fuel_cell_sofc_inverter_control_duty_cycle_limit2__out = 1.1546;
    } else if (_fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum8__out < -1.1546) {
        _fuel_cell_sofc_inverter_control_duty_cycle_limit2__out = -1.1546;
    } else {
        _fuel_cell_sofc_inverter_control_duty_cycle_limit2__out = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_sum8__out;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.dq to abc1.dq to alpha beta
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1 = cos(_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2 = sin(_fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__out);
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2 * _fuel_cell_sofc_inverter_control_duty_cycle_limit2__out + _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1 * _fuel_cell_sofc_inverter_control_duty_cycle_limit3__out;
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2 * _fuel_cell_sofc_inverter_control_duty_cycle_limit3__out - _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1 * _fuel_cell_sofc_inverter_control_duty_cycle_limit2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.dq to abc1.alpha beta to abc
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A = 1 * _fuel_cell_sofc_inverter_control_duty_cycle_o_ref__out;
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A - 0.5 * _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha;
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B - 0.8660254037844386 * _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta;
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B += 0.8660254037844386 * _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta;
    _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A += 1 * _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Min Max1
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_min_max1__out = MIN(MIN(_fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A, _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B), _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Min Max2
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_min_max2__out = MAX(MAX(_fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A, _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B), _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Product2
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_product2__out = (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum2__out * _fuel_cell_sofc_inverter_control_duty_cycle_zsm_min_max1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum1
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum1__out =  - _fuel_cell_sofc_inverter_control_duty_cycle_zsm_min_max2__out + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_constant2__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Product1
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_product1__out = (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_limit1__out * _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum1__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum3
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum3__out =  - _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum8__out - _fuel_cell_sofc_inverter_control_duty_cycle_zsm_product2__out + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_product1__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum5
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum5__out = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum6
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum6__out = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Sum7
    _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum7__out = _fuel_cell_sofc_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C + _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum3__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.duty_cycle.ZSM.Z0
    HIL_OutAO(0x4070, (float)_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum3__out);
    // Generated from the component: Fuel_Cell.SOFC inverter.3ph_inverter 1.IGBT Leg1.PWM_Modulator
    if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum5__out < -1.0)
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__limited_in[0] = -1.0;
    else if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum5__out > 1.0)
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__limited_in[0] = 1.0;
    else
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__limited_in[0] = _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum5__out;
    HIL_OutInt32(0x2000040 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], ((unsigned)((_fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__limited_in[0] - (-1.0)) * 4000.0)));
    if (_fuel_cell_sofc_inverter_logical_operator1__out == 0x0) {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 0x0);
    }
    else {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__channels[0], 0x1);
    }
    HIL_OutInt32(0x2000140, _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg1_pwm_modulator__update_mask);
    // Generated from the component: Fuel_Cell.SOFC inverter.3ph_inverter 1.IGBT Leg2.PWM_Modulator
    if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum6__out < -1.0)
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__limited_in[0] = -1.0;
    else if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum6__out > 1.0)
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__limited_in[0] = 1.0;
    else
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__limited_in[0] = _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum6__out;
    HIL_OutInt32(0x2000040 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], ((unsigned)((_fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__limited_in[0] - (-1.0)) * 4000.0)));
    if (_fuel_cell_sofc_inverter_logical_operator1__out == 0x0) {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 0x0);
    }
    else {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__channels[0], 0x1);
    }
    HIL_OutInt32(0x2000140, _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg2_pwm_modulator__update_mask);
    // Generated from the component: Fuel_Cell.SOFC inverter.3ph_inverter 1.IGBT Leg3.PWM_Modulator
    if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum7__out < -1.0)
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__limited_in[0] = -1.0;
    else if (_fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum7__out > 1.0)
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__limited_in[0] = 1.0;
    else
        _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__limited_in[0] = _fuel_cell_sofc_inverter_control_duty_cycle_zsm_sum7__out;
    HIL_OutInt32(0x2000040 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], ((unsigned)((_fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__limited_in[0] - (-1.0)) * 4000.0)));
    if (_fuel_cell_sofc_inverter_logical_operator1__out == 0x0) {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 0x0);
    }
    else {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__channels[0], 0x1);
    }
    HIL_OutInt32(0x2000140, _fuel_cell_sofc_inverter_3ph_inverter_1_igbt_leg3_pwm_modulator__update_mask);
    //@cmp.out.block.end
    //////////////////////////////////////////////////////////////////////////
    // Update block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.update.block.start
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Edge Detection1.Unit Delay1
    _fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_unit_delay1__state = _fuel_cell_sofc_inverter_input_bus_split2__out1;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.Unit Delay1
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay1__state = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__P;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.Unit Delay2
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_unit_delay2__state = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_lims_overpq_s_limiting_over_pq__Q;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.S_and_pf
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Integrator1
    _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator1__state += _fuel_cell_sofc_inverter_control_pll_pll_pid_sum7__out * 0.0001;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.PID.Integrator2
    _fuel_cell_sofc_inverter_control_pll_pll_pid_integrator2__state += _fuel_cell_sofc_inverter_control_pll_pll_pid_gain1__out * 0.0001;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.Unit Delay1
    _fuel_cell_sofc_inverter_control_pll_pll_unit_delay1__state = _fuel_cell_sofc_inverter_control_pll_pll_integrator__out;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator1
    _fuel_cell_sofc_inverter_sofc_sofc_integrator1__state += _fuel_cell_sofc_inverter_sofc_sofc_1divtau_f__out * 0.0001;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator2
    _fuel_cell_sofc_inverter_sofc_sofc_integrator2__state += _fuel_cell_sofc_inverter_sofc_sofc_1divtau_h2__out * 0.0001;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator3
    _fuel_cell_sofc_inverter_sofc_sofc_integrator3__state += _fuel_cell_sofc_inverter_sofc_sofc_1divtau_h2o__out * 0.0001;
    // Generated from the component: Fuel_Cell.SOFC inverter.SOFC.SOFC.Integrator4
    _fuel_cell_sofc_inverter_sofc_sofc_integrator4__state += _fuel_cell_sofc_inverter_sofc_sofc_1divtau_o2__out * 0.0001;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.THD_Array1
    _fuel_cell_sofc_inverter_thd_ia_thd_array1__ack_old_state = _fuel_cell_sofc_inverter_thd_ia_rt3_output__out;
    if (_fuel_cell_sofc_inverter_thd_ia_thd_array1__counter == 167) {
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__zc_stat = _fuel_cell_sofc_inverter_thd_ia_thd_array1__var_zc;
        if (_fuel_cell_sofc_inverter_thd_ia_thd_array1__syn == 0)
            _fuel_cell_sofc_inverter_thd_ia_thd_array1__syn = 1;
        else
            _fuel_cell_sofc_inverter_thd_ia_thd_array1__syn = 0;
        _fuel_cell_sofc_inverter_thd_ia_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.THD_Array1
    _fuel_cell_sofc_inverter_thd_ib_thd_array1__ack_old_state = _fuel_cell_sofc_inverter_thd_ib_rt3_output__out;
    if (_fuel_cell_sofc_inverter_thd_ib_thd_array1__counter == 167) {
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__zc_stat = _fuel_cell_sofc_inverter_thd_ib_thd_array1__var_zc;
        if (_fuel_cell_sofc_inverter_thd_ib_thd_array1__syn == 0)
            _fuel_cell_sofc_inverter_thd_ib_thd_array1__syn = 1;
        else
            _fuel_cell_sofc_inverter_thd_ib_thd_array1__syn = 0;
        _fuel_cell_sofc_inverter_thd_ib_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.THD_Array1
    _fuel_cell_sofc_inverter_thd_ic_thd_array1__ack_old_state = _fuel_cell_sofc_inverter_thd_ic_rt3_output__out;
    if (_fuel_cell_sofc_inverter_thd_ic_thd_array1__counter == 167) {
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__zc_stat = _fuel_cell_sofc_inverter_thd_ic_thd_array1__var_zc;
        if (_fuel_cell_sofc_inverter_thd_ic_thd_array1__syn == 0)
            _fuel_cell_sofc_inverter_thd_ic_thd_array1__syn = 1;
        else
            _fuel_cell_sofc_inverter_thd_ic_thd_array1__syn = 0;
        _fuel_cell_sofc_inverter_thd_ic_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.THD_Array1
    _fuel_cell_sofc_inverter_thd_va_thd_array1__ack_old_state = _fuel_cell_sofc_inverter_thd_va_rt3_output__out;
    if (_fuel_cell_sofc_inverter_thd_va_thd_array1__counter == 167) {
        _fuel_cell_sofc_inverter_thd_va_thd_array1__zc_stat = _fuel_cell_sofc_inverter_thd_va_thd_array1__var_zc;
        if (_fuel_cell_sofc_inverter_thd_va_thd_array1__syn == 0)
            _fuel_cell_sofc_inverter_thd_va_thd_array1__syn = 1;
        else
            _fuel_cell_sofc_inverter_thd_va_thd_array1__syn = 0;
        _fuel_cell_sofc_inverter_thd_va_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.THD_Array1
    _fuel_cell_sofc_inverter_thd_vb_thd_array1__ack_old_state = _fuel_cell_sofc_inverter_thd_vb_rt3_output__out;
    if (_fuel_cell_sofc_inverter_thd_vb_thd_array1__counter == 167) {
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__zc_stat = _fuel_cell_sofc_inverter_thd_vb_thd_array1__var_zc;
        if (_fuel_cell_sofc_inverter_thd_vb_thd_array1__syn == 0)
            _fuel_cell_sofc_inverter_thd_vb_thd_array1__syn = 1;
        else
            _fuel_cell_sofc_inverter_thd_vb_thd_array1__syn = 0;
        _fuel_cell_sofc_inverter_thd_vb_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.THD_Array1
    _fuel_cell_sofc_inverter_thd_vc_thd_array1__ack_old_state = _fuel_cell_sofc_inverter_thd_vc_rt3_output__out;
    if (_fuel_cell_sofc_inverter_thd_vc_thd_array1__counter == 167) {
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__zc_stat = _fuel_cell_sofc_inverter_thd_vc_thd_array1__var_zc;
        if (_fuel_cell_sofc_inverter_thd_vc_thd_array1__syn == 0)
            _fuel_cell_sofc_inverter_thd_vc_thd_array1__syn = 1;
        else
            _fuel_cell_sofc_inverter_thd_vc_thd_array1__syn = 0;
        _fuel_cell_sofc_inverter_thd_vc_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: Fuel_Cell.interface.SM
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.LPF_dc
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__states[0] = _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_lpf_dc__delay_line_in;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.delay
    // Generated from the component: Fuel_Cell.SOFC inverter.delay
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_d.Integrator1
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__state += _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_sum7__out * 0.0001;
    if (_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out > 0)
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state = 1;
    else if (_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out < 0)
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state = -1;
    else
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_d_integrator1__reset_state = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.ControlSignal_Calculation.PI_q.Integrator1
    _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__state += _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_sum7__out * 0.0001;
    if (_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out > 0)
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state = 1;
    else if (_fuel_cell_sofc_inverter_control_grid_follow_edge_detection1_relational_operator1__out < 0)
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state = -1;
    else
        _fuel_cell_sofc_inverter_control_grid_follow_controlsignal_calculation_pi_q_integrator1__reset_state = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.PI_Vt.Integrator1
    _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__state += _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_sum7__out * 0.0001;
    if (_fuel_cell_sofc_inverter_control_grid_follow_logical_operator1__out > 0)
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state = 1;
    else if (_fuel_cell_sofc_inverter_control_grid_follow_logical_operator1__out < 0)
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state = -1;
    else
        _fuel_cell_sofc_inverter_control_grid_follow_pi_vt_integrator1__reset_state = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.abc to dq.LPF_d
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__states[0] = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_d__delay_line_in;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.abc to dq.LPF_q
    _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__states[0] = _fuel_cell_sofc_inverter_control_pll_pll_abc_to_dq_lpf_q__delay_line_in;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.normalize
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.LPF_P
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__states[0] = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_p__delay_line_in;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Power_Meas.Power_Meas_DQpu.LPF_Q
    _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__states[0] = _fuel_cell_sofc_inverter_control_grid_follow_power_meas_power_meas_dqpu_lpf_q__delay_line_in;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.Rate Limiter1
    _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__prev_out = _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__out;
    _fuel_cell_sofc_inverter_control_pll_pll_rate_limiter1__first_step = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.integrator
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.PLL.PLL.LPF.LPF
    for (_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i = 1; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i > 0; _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i--) {
        _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i] = _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[_fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__i - 1];
    }
    _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__states[0] = _fuel_cell_sofc_inverter_control_pll_pll_lpf_lpf__delay_line_in;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.priority_PQlim.PQ limiting with priority
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.P rate limit
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__prev_out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_p_rate_limit__first_step = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.Q rate limit
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__prev_out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_q_rate_limit__first_step = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.S rate limit
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__prev_out = _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__out;
    _fuel_cell_sofc_inverter_control_grid_follow_limit_pqref_s_rate_limit__first_step = 0;
    // Generated from the component: Fuel_Cell.SOFC inverter.Control.Grid_follow.Limit_PQref.limS_overPQ.S limiting over PQ
    //@cmp.update.block.end
}
void TimerCounterHandler_1_user_sp_cpu_dev0() {
#if DEBUG_MODE
    printf("\n\rTimerCounterHandler_1");
#endif
    //////////////////////////////////////////////////////////////////////////
    // Output block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.out.block.start
    // Generated from the component: Back-Up.DG_in.Gen_Control_Mode
    _back_up_dg_in_gen_control_mode__out = XIo_InFloat(0x55000100);
    // Generated from the component: Back-Up.DG_in.Gen_OP_mode
    _back_up_dg_in_gen_op_mode__out = XIo_InFloat(0x55000104);
    // Generated from the component: Back-Up.DG_in.Gen_On
    _back_up_dg_in_gen_on__out = XIo_InFloat(0x55000108);
    // Generated from the component: Back-Up.DG_in.Load_share
    _back_up_dg_in_load_share__out = XIo_InFloat(0x5500010c);
    // Generated from the component: Back-Up.DG_in.Load_share_on
    _back_up_dg_in_load_share_on__out = XIo_InFloat(0x55000110);
    // Generated from the component: Back-Up.DG_in.Pref
    _back_up_dg_in_pref__out = XIo_InFloat(0x55000114);
    // Generated from the component: Back-Up.DG_in.Vref
    _back_up_dg_in_vref__out = XIo_InFloat(0x55000118);
    // Generated from the component: Back-Up.DG_in.pf_ref
    _back_up_dg_in_pf_ref__out = XIo_InFloat(0x5500011c);
    // Generated from the component: Back-Up.DG_in.wref
    _back_up_dg_in_wref__out = XIo_InFloat(0x55000120);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Const
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Kf
    _back_up_diesel_gen_control_exciter_dc4b_kf__out = 0.01 * _back_up_diesel_gen_control_exciter_dc4b_tf3__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.One
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.One
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.V_inner_droop
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Vpss
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Zero
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.P_Droop
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_Droop
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.zero1
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Kp
    _back_up_diesel_gen_control_governor_and_engine_degov_kp__out = 0.5 * _back_up_diesel_gen_control_governor_and_engine_degov_tf1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Transport Delay1
    _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__out = _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[_back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi];
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.Inner_w_droop
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.zero
    // Generated from the component: Back-Up.Diesel_Gen.Control.Start_Exciter.steadyState_w
    // Generated from the component: Back-Up.Diesel_Gen.Control.Unit Delay1
    _back_up_diesel_gen_control_unit_delay1__out = _back_up_diesel_gen_control_unit_delay1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Unit Delay2
    _back_up_diesel_gen_control_unit_delay2__out = _back_up_diesel_gen_control_unit_delay2__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Unit Delay3
    _back_up_diesel_gen_control_unit_delay3__out = _back_up_diesel_gen_control_unit_delay3__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.check_steady_state_w.Constant3
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Constant1
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.zero1
    // Generated from the component: Back-Up.Diesel_Gen.Gen.Machine Wrapper1
    HIL_OutFloat((0x800000 + 0x40000 * 0x0 + 0x18),  _back_up_diesel_gen_gen_machine_wrapper1__model_load);
    _back_up_diesel_gen_gen_machine_wrapper1__speed_out = (HIL_InFloat(0xc80000 + 0x800a));
    _back_up_diesel_gen_gen_machine_wrapper1__torque_out = (HIL_InFloat(0xc80000 + 0x8008));
    _back_up_diesel_gen_gen_machine_wrapper1__angle_out = (HIL_InFloat(0xc80000 + 0x800b));
    // Generated from the component: Back-Up.Diesel_Gen.Ggrid_meas.Va.Va1
    _back_up_diesel_gen_ggrid_meas_va_va1__out = (HIL_InFloat(0xc80000 + 0x9));
    // Generated from the component: Back-Up.Diesel_Gen.Ggrid_meas.Vb.Va1
    _back_up_diesel_gen_ggrid_meas_vb_va1__out = (HIL_InFloat(0xc80000 + 0xa));
    // Generated from the component: Back-Up.Diesel_Gen.Ggrid_meas.Vc.Va1
    _back_up_diesel_gen_ggrid_meas_vc_va1__out = (HIL_InFloat(0xc80000 + 0xb));
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Normalize.V_terminal
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__out;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__out;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t = (powf(_back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d, 2.0) + powf(_back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q, 2.0));
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t = sqrt(_back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t);
    if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t < 0.1) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q / 0.1;
    }
    else {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q / _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator2
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Unit Delay1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.Term
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.Term1
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Gain10
    _back_up_diesel_gen_measurements_gain10__out = 0.0026525823848649226 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Ia.Ia1
    _back_up_diesel_gen_measurements_ia_ia1__out = (HIL_InFloat(0xc80000 + 0x1c));
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Ib.Ia1
    _back_up_diesel_gen_measurements_ib_ia1__out = (HIL_InFloat(0xc80000 + 0x1d));
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Ic.Ia1
    _back_up_diesel_gen_measurements_ic_ia1__out = (HIL_InFloat(0xc80000 + 0x1e));
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Va.Va1
    _back_up_diesel_gen_measurements_va_va1__out = (HIL_InFloat(0xc80000 + 0xc));
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Vb.Va1
    _back_up_diesel_gen_measurements_vb_va1__out = (HIL_InFloat(0xc80000 + 0xd));
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Vc.Va1
    _back_up_diesel_gen_measurements_vc_va1__out = (HIL_InFloat(0xc80000 + 0xe));
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.Unit Delay1
    _back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__out = _back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.dw_K
    _back_up_diesel_gen_sync_check_calculate_dw_synch_dw_k__out = 1.0 * _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.zero
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Close
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Edge Detection1.Unit Delay1
    _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__out = _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.SR Flip Flop1
    _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out = _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state;
    _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out_n = _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state != -1 ? !_back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state : -1;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Integrator1
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__out = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Unit Delay1
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.V_grid
    HIL_OutAO(0x4023, (float)_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Abs4
    _back_up_diesel_gen_sync_check_check_v_diff_abs4__out = fabs(_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Unit Delay1
    _back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out = _back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.one
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.one1
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.zero
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.Abs3
    _back_up_diesel_gen_sync_check_check_f_diff_abs3__out = fabs(_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.Constant1
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.f_diff
    HIL_OutAO(0x4027, (float)_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.toPU
    _back_up_diesel_gen_sync_check_check_f_diff_topu__out = 0.008333333333333333 * _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Abs2
    _back_up_diesel_gen_sync_check_check_phase_diff_abs2__out = fabs(_back_up_diesel_gen_sync_check_check_phase_diff_lpf__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.Accumulator1
    _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__out = _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.const_value_0
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.const_value_1
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.One
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.phase_filter
    HIL_OutAO(0x4029, (float)_back_up_diesel_gen_sync_check_check_phase_diff_lpf__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.to_pu
    _back_up_diesel_gen_sync_check_check_phase_diff_to_pu__out = 0.15915494309189535 * _back_up_diesel_gen_sync_check_check_phase_diff_lpf__out;
    // Generated from the component: Back-Up.Enable
    _back_up_enable__out = XIo_InFloat(0x55000124);
    // Generated from the component: Back-Up.Rate Transition1.Output
    // Generated from the component: Back-Up.interface.Rate Transition1.Output
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Const
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Kf
    _dg_800kw_diesel_gen_control_exciter_dc4b_kf__out = 0.01 * _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.One
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.One
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.V_inner_droop
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Vpss
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Zero
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.P_Droop
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.w_Droop
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.zero1
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Kp
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_kp__out = 0.5 * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Transport Delay1
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__out = _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[_dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi];
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.Inner_w_droop
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.zero
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Start_Exciter.steadyState_w
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Unit Delay1
    _dg_800kw_diesel_gen_control_unit_delay1__out = _dg_800kw_diesel_gen_control_unit_delay1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Unit Delay2
    _dg_800kw_diesel_gen_control_unit_delay2__out = _dg_800kw_diesel_gen_control_unit_delay2__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Unit Delay3
    _dg_800kw_diesel_gen_control_unit_delay3__out = _dg_800kw_diesel_gen_control_unit_delay3__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.check_steady_state_w.Constant3
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Constant1
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.zero1
    // Generated from the component: DG_800kW.Diesel_Gen.Gen.Machine Wrapper1
    HIL_OutFloat((0x800000 + 0x40000 * 0x1 + 0x18),  _dg_800kw_diesel_gen_gen_machine_wrapper1__model_load);
    _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out = (HIL_InFloat(0xc80000 + 0x801a));
    _dg_800kw_diesel_gen_gen_machine_wrapper1__torque_out = (HIL_InFloat(0xc80000 + 0x8018));
    _dg_800kw_diesel_gen_gen_machine_wrapper1__angle_out = (HIL_InFloat(0xc80000 + 0x801b));
    // Generated from the component: DG_800kW.Diesel_Gen.Ggrid_meas.Va.Va1
    _dg_800kw_diesel_gen_ggrid_meas_va_va1__out = (HIL_InFloat(0xc80000 + 0x21c));
    // Generated from the component: DG_800kW.Diesel_Gen.Ggrid_meas.Vb.Va1
    _dg_800kw_diesel_gen_ggrid_meas_vb_va1__out = (HIL_InFloat(0xc80000 + 0x21d));
    // Generated from the component: DG_800kW.Diesel_Gen.Ggrid_meas.Vc.Va1
    _dg_800kw_diesel_gen_ggrid_meas_vc_va1__out = (HIL_InFloat(0xc80000 + 0x21e));
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Normalize.V_terminal
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__out;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__out;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t = (powf(_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__d, 2.0) + powf(_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q, 2.0));
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t = sqrt(_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t);
    if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t < 0.1) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q / 0.1;
    }
    else {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q / _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator2
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Unit Delay1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.Term
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.Term1
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Constant1
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Ia.Ia1
    _dg_800kw_diesel_gen_measurements_ia_ia1__out = (HIL_InFloat(0xc80000 + 0x23c));
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Ib.Ia1
    _dg_800kw_diesel_gen_measurements_ib_ia1__out = (HIL_InFloat(0xc80000 + 0x23d));
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Ic.Ia1
    _dg_800kw_diesel_gen_measurements_ic_ia1__out = (HIL_InFloat(0xc80000 + 0x23e));
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Va.Va1
    _dg_800kw_diesel_gen_measurements_va_va1__out = (HIL_InFloat(0xc80000 + 0x21f));
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Vb.Va1
    _dg_800kw_diesel_gen_measurements_vb_va1__out = (HIL_InFloat(0xc80000 + 0x220));
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Vc.Va1
    _dg_800kw_diesel_gen_measurements_vc_va1__out = (HIL_InFloat(0xc80000 + 0x221));
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__out = _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.dw_K
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_dw_k__out = 1.0 * _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.zero
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Close
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Edge Detection1.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__out = _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.SR Flip Flop1
    _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out = _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state;
    _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out_n = _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state != -1 ? !_dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state : -1;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Integrator1
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.V_grid
    HIL_OutAO(0x4038, (float)_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Abs4
    _dg_800kw_diesel_gen_sync_check_check_v_diff_abs4__out = fabs(_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.one1
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.zero
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.Abs3
    _dg_800kw_diesel_gen_sync_check_check_f_diff_abs3__out = fabs(_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.Constant1
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.f_diff
    HIL_OutAO(0x403b, (float)_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.toPU
    _dg_800kw_diesel_gen_sync_check_check_f_diff_topu__out = 0.008333333333333333 * _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Abs2
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_abs2__out = fabs(_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.Accumulator1
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.const_value_0
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.const_value_1
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.One
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.phase_filter
    HIL_OutAO(0x403d, (float)_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.to_pu
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_to_pu__out = 0.15915494309189535 * _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__out;
    // Generated from the component: DG_800kW.Gen_Control_Mode
    _dg_800kw_gen_control_mode__out = XIo_InFloat(0x55000128);
    // Generated from the component: DG_800kW.Gen_OP_mode
    _dg_800kw_gen_op_mode__out = XIo_InFloat(0x5500012c);
    // Generated from the component: DG_800kW.Gen_On
    _dg_800kw_gen_on__out = XIo_InFloat(0x55000130);
    // Generated from the component: DG_800kW.Interface.Rate Transition1.Output
    // Generated from the component: DG_800kW.Load_share
    _dg_800kw_load_share__out = XIo_InFloat(0x55000134);
    // Generated from the component: DG_800kW.Load_share_on
    _dg_800kw_load_share_on__out = XIo_InFloat(0x55000138);
    // Generated from the component: DG_800kW.Pref
    _dg_800kw_pref__out = XIo_InFloat(0x5500013c);
    // Generated from the component: DG_800kW.Qref
    _dg_800kw_qref__out = XIo_InFloat(0x55000140);
    // Generated from the component: DG_800kW.Vref
    _dg_800kw_vref__out = XIo_InFloat(0x55000144);
    // Generated from the component: DG_800kW.wref
    _dg_800kw_wref__out = XIo_InFloat(0x55000148);
    // Generated from the component: ESS.Battery 1.SOC
    _ess_battery_1_soc__out = (HIL_InFloat(0xc80000 + 0x40a));
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Constant1
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Edge Detection1.Unit Delay1
    _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__out = _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Edge Detection2.Unit Delay1
    _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__out = _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Island detection (modified SFS).Constant6
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Island detection (modified SFS).Constant7
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.Unit Delay1
    _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__out = _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.Unit Delay2
    _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__out = _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__state;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Integrator1
    _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__out = _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Integrator2
    _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__out = _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__state;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.Unit Delay1
    _ess_battery_inverter_control_pll_pu_pll_unit_delay1__out = _ess_battery_inverter_control_pll_pu_pll_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.to_Hz
    _ess_battery_inverter_control_pll_pu_pll_to_hz__out = 0.15915494309189535 * _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__out;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Gain1
    _ess_battery_inverter_control_power_meas_gain1__out = 500000.0 * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__out;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Gain2
    _ess_battery_inverter_control_power_meas_gain2__out = 500000.0 * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__out;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.S_and_pf
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__P = _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__out;
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__Q = _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__out;
    _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__S = sqrt(_ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__P * _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__P + _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__Q * _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__Q);
    if (_ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__S > 0) {
        _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__pf = _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__P / _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__S;
    }
    else {
        _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__pf = 0;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.+-1,5 hz
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.+-10%
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.nominal frequency
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.nominal voltage
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.+-1,5 hz
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.+-10%
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Edge Detection1.Unit Delay1
    _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__out = _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.nominal frequency
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.nominal voltage
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Integrator1
    _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Integrator2
    _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.Unit Delay1
    _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__out = _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.to_Hz
    _ess_battery_inverter_control_synch_pll_util_pll_to_hz__out = 0.15915494309189535 * _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Constant2
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Constant3
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Counter1.Accumulator1
    _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__out = _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Counter1.const_value_0
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Counter1.const_value_1
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Unit Delay3
    _ess_battery_inverter_control_synch_vmatch_unit_delay3__out = _ess_battery_inverter_control_synch_vmatch_unit_delay3__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Unit Delay4
    _ess_battery_inverter_control_synch_vmatch_unit_delay4__out = _ess_battery_inverter_control_synch_vmatch_unit_delay4__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Unit Delay5
    _ess_battery_inverter_control_synch_vmatch_unit_delay5__out = _ess_battery_inverter_control_synch_vmatch_unit_delay5__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Constant1
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Constant3
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Counter1.Accumulator1
    _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__out = _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Counter1.const_value_0
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Counter1.const_value_1
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Delay1
    _ess_battery_inverter_control_synch_f_match_delay1__out = _ess_battery_inverter_control_synch_f_match_delay1__state[_ess_battery_inverter_control_synch_f_match_delay1__cbi];
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Unit Delay1
    _ess_battery_inverter_control_synch_f_match_unit_delay1__out = _ess_battery_inverter_control_synch_f_match_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay1
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__out = _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay2
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__out = _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay3
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__out = _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay4
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__out = _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Constant2
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Constant4
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Counter1.Accumulator1
    _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__out = _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Counter1.const_value_0
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Counter1.const_value_1
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Unit Delay3
    _ess_battery_inverter_control_synch_phase_match_unit_delay3__out = _ess_battery_inverter_control_synch_phase_match_unit_delay3__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Unit Delay4
    _ess_battery_inverter_control_synch_phase_match_unit_delay4__out = _ess_battery_inverter_control_synch_phase_match_unit_delay4__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Unit Delay5
    _ess_battery_inverter_control_synch_phase_match_unit_delay5__out = _ess_battery_inverter_control_synch_phase_match_unit_delay5__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay1
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__out = _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay2
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__out = _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay3
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__out = _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay4
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__out = _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__state;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Constant1
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Edge Detection1.Unit Delay1
    _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__out = _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Edge Detection2.Unit Delay1
    _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__out = _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__state;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.Constant1
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Constant1
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Constant2
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Constant3
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Constant4
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.o_ref
    // Generated from the component: ESS.Battery inverter.Converter meas.Va.Va1
    _ess_battery_inverter_converter_meas_va_va1__out = (HIL_InFloat(0xc80000 + 0x40d));
    // Generated from the component: ESS.Battery inverter.Converter meas.Vb.Va1
    _ess_battery_inverter_converter_meas_vb_va1__out = (HIL_InFloat(0xc80000 + 0x40e));
    // Generated from the component: ESS.Battery inverter.Converter meas.Vc.Va1
    _ess_battery_inverter_converter_meas_vc_va1__out = (HIL_InFloat(0xc80000 + 0x40f));
    // Generated from the component: ESS.Battery inverter.Grid meas.Va.Va1
    _ess_battery_inverter_grid_meas_va_va1__out = (HIL_InFloat(0xc80000 + 0x410));
    // Generated from the component: ESS.Battery inverter.Grid meas.Vb.Va1
    _ess_battery_inverter_grid_meas_vb_va1__out = (HIL_InFloat(0xc80000 + 0x411));
    // Generated from the component: ESS.Battery inverter.Grid meas.Vc.Va1
    _ess_battery_inverter_grid_meas_vc_va1__out = (HIL_InFloat(0xc80000 + 0x412));
    // Generated from the component: ESS.Battery inverter.Ia.Ia1
    _ess_battery_inverter_ia_ia1__out = (HIL_InFloat(0xc80000 + 0x415));
    // Generated from the component: ESS.Battery inverter.Ia_out.Ia1
    _ess_battery_inverter_ia_out_ia1__out = (HIL_InFloat(0xc80000 + 0x416));
    // Generated from the component: ESS.Battery inverter.Ib.Ia1
    _ess_battery_inverter_ib_ia1__out = (HIL_InFloat(0xc80000 + 0x417));
    // Generated from the component: ESS.Battery inverter.Ib_out.Ia1
    _ess_battery_inverter_ib_out_ia1__out = (HIL_InFloat(0xc80000 + 0x418));
    // Generated from the component: ESS.Battery inverter.Ic.Ia1
    _ess_battery_inverter_ic_ia1__out = (HIL_InFloat(0xc80000 + 0x419));
    // Generated from the component: ESS.Battery inverter.Ic_out.Ia1
    _ess_battery_inverter_ic_out_ia1__out = (HIL_InFloat(0xc80000 + 0x41a));
    // Generated from the component: ESS.Battery inverter.Idc_1.Ia1
    _ess_battery_inverter_idc_1_ia1__out = (HIL_InFloat(0xc80000 + 0x41b));
    // Generated from the component: ESS.Battery inverter.THD Ia.RT3.Output
    // Generated from the component: ESS.Battery inverter.THD Ia.RT4.Output
    // Generated from the component: ESS.Battery inverter.THD Ib.RT3.Output
    // Generated from the component: ESS.Battery inverter.THD Ib.RT4.Output
    // Generated from the component: ESS.Battery inverter.THD Ic.RT3.Output
    // Generated from the component: ESS.Battery inverter.THD Ic.RT4.Output
    // Generated from the component: ESS.Battery inverter.THD Va.RT3.Output
    // Generated from the component: ESS.Battery inverter.THD Va.RT4.Output
    // Generated from the component: ESS.Battery inverter.THD Vb.RT3.Output
    // Generated from the component: ESS.Battery inverter.THD Vb.RT4.Output
    // Generated from the component: ESS.Battery inverter.THD Vc.RT3.Output
    // Generated from the component: ESS.Battery inverter.THD Vc.RT4.Output
    // Generated from the component: ESS.Battery inverter.VDC.Va1
    _ess_battery_inverter_vdc_va1__out = (HIL_InFloat(0xc80000 + 0x413));
    // Generated from the component: ESS.Interface.Rate Transition1.Output
    // Generated from the component: ESS.On
    _ess_on__out = XIo_InFloat(0x5500014c);
    // Generated from the component: ESS.Pref
    _ess_pref__out = XIo_InFloat(0x55000150);
    // Generated from the component: ESS.Qref
    _ess_qref__out = XIo_InFloat(0x55000154);
    // Generated from the component: ESS.Vref
    _ess_vref__out = XIo_InFloat(0x55000158);
    // Generated from the component: ESS.f_ref
    _ess_f_ref__out = XIo_InFloat(0x5500015c);
    // Generated from the component: ESS.mode
    _ess_mode__out = XIo_InFloat(0x55000160);
    // Generated from the component: Microgrid_controller.Constant1
    // Generated from the component: Microgrid_controller.Constant2
    // Generated from the component: Microgrid_controller.Constant3
    // Generated from the component: Microgrid_controller.Constant4
    // Generated from the component: Microgrid_controller.Rate Transition1.Output
    // Generated from the component: Microgrid_controller.Rate Transition2.Output
    // Generated from the component: Microgrid_controller.Rate Transition3.Output
    // Generated from the component: Microgrid_controller.Rate Transition4.Output
    // Generated from the component: Microgrid_controller.Rate Transition5.Output
    // Generated from the component: PCC_monitor.Ia.Ia1
    _pcc_monitor_ia_ia1__out = (HIL_InFloat(0xc80000 + 0x24b));
    // Generated from the component: PCC_monitor.Ib.Ia1
    _pcc_monitor_ib_ia1__out = (HIL_InFloat(0xc80000 + 0x24c));
    // Generated from the component: PCC_monitor.Ic.Ia1
    _pcc_monitor_ic_ia1__out = (HIL_InFloat(0xc80000 + 0x24d));
    // Generated from the component: PCC_monitor.Rate Transition1.Output
    // Generated from the component: PCC_monitor.SR Flip Flop4
    _pcc_monitor_sr_flip_flop4__out = _pcc_monitor_sr_flip_flop4__state;
    _pcc_monitor_sr_flip_flop4__out_n = _pcc_monitor_sr_flip_flop4__state != -1 ? !_pcc_monitor_sr_flip_flop4__state : -1;
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.Unit Delay1
    _pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__out = _pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__state;
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.zero
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.SR Flip Flop1
    _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out = _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state;
    _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out_n = _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state != -1 ? !_pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state : -1;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Gain1
    _pcc_monitor_synch_check_plls_pll_gain1__out = 0.15915494309189535 * _pcc_monitor_synch_check_plls_pll_lpf_q1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Normalize.V_terminal
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__d = _pcc_monitor_synch_check_plls_pll_lpf_d__out;
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q = _pcc_monitor_synch_check_plls_pll_lpf_q__out;
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t = (powf(_pcc_monitor_synch_check_plls_pll_normalize_v_terminal__d, 2.0) + powf(_pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q, 2.0));
    _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t = sqrt(_pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t);
    if (_pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t < 0.1) {
        _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q_pu = _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q / 0.1;
    }
    else {
        _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q_pu = _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q / _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t;
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Integrator1
    _pcc_monitor_synch_check_plls_pll_pid_integrator1__out = _pcc_monitor_synch_check_plls_pll_pid_integrator1__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Integrator2
    _pcc_monitor_synch_check_plls_pll_pid_integrator2__out = _pcc_monitor_synch_check_plls_pll_pid_integrator2__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Unit Delay1
    _pcc_monitor_synch_check_plls_pll_unit_delay1__out = _pcc_monitor_synch_check_plls_pll_unit_delay1__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Gain1
    _pcc_monitor_synch_check_plls_pll1_gain1__out = 0.15915494309189535 * _pcc_monitor_synch_check_plls_pll1_lpf_q1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Normalize.V_terminal
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__d = _pcc_monitor_synch_check_plls_pll1_lpf_d__out;
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q = _pcc_monitor_synch_check_plls_pll1_lpf_q__out;
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t = (powf(_pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__d, 2.0) + powf(_pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q, 2.0));
    _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t = sqrt(_pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t);
    if (_pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t < 0.1) {
        _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q_pu = _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q / 0.1;
    }
    else {
        _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q_pu = _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q / _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t;
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Integrator1
    _pcc_monitor_synch_check_plls_pll1_pid_integrator1__out = _pcc_monitor_synch_check_plls_pll1_pid_integrator1__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Integrator2
    _pcc_monitor_synch_check_plls_pll1_pid_integrator2__out = _pcc_monitor_synch_check_plls_pll1_pid_integrator2__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Unit Delay1
    _pcc_monitor_synch_check_plls_pll1_unit_delay1__out = _pcc_monitor_synch_check_plls_pll1_unit_delay1__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.Termination1
    // Generated from the component: PCC_monitor.Synch_check.PLLs.Termination2
    // Generated from the component: PCC_monitor.Synch_check.PLLs.Termination3
    // Generated from the component: PCC_monitor.Synch_check.PLLs.Termination4
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Unit Delay1
    _pcc_monitor_synch_check_check_v_diff_unit_delay1__out = _pcc_monitor_synch_check_check_v_diff_unit_delay1__state;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.one
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.zero
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Abs3
    _pcc_monitor_synch_check_check_f_diff_abs3__out = fabs(_pcc_monitor_synch_check_check_f_diff_lpf_dwf__out);
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Constant1
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Integrator1
    _pcc_monitor_synch_check_check_f_diff_pi_integrator1__out = _pcc_monitor_synch_check_check_f_diff_pi_integrator1__state;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.f_diff
    HIL_OutAO(0x408f, (float)_pcc_monitor_synch_check_check_f_diff_lpf_dwf__out);
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.toPU
    _pcc_monitor_synch_check_check_f_diff_topu__out = 0.008333333333333333 * _pcc_monitor_synch_check_check_f_diff_lpf_dwf__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Abs2
    _pcc_monitor_synch_check_check_phase_diff_abs2__out = fabs(_pcc_monitor_synch_check_check_phase_diff_lpf__out);
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.Constant3
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.Counter1.Accumulator1
    _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__out = _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__state;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.Counter1.const_value_0
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.Counter1.const_value_1
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.One
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.phase_filter
    HIL_OutAO(0x4091, (float)_pcc_monitor_synch_check_check_phase_diff_lpf__out);
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.to_pu
    _pcc_monitor_synch_check_check_phase_diff_to_pu__out = 0.15915494309189535 * _pcc_monitor_synch_check_check_phase_diff_lpf__out;
    // Generated from the component: PCC_monitor.VA.Va1
    _pcc_monitor_va_va1__out = (HIL_InFloat(0xc80000 + 0x222));
    // Generated from the component: PCC_monitor.VB.Va1
    _pcc_monitor_vb_va1__out = (HIL_InFloat(0xc80000 + 0x223));
    // Generated from the component: PCC_monitor.VC.Va1
    _pcc_monitor_vc_va1__out = (HIL_InFloat(0xc80000 + 0x224));
    // Generated from the component: PCC_monitor.Va.Va1
    _pcc_monitor_va_va1_1__out = (HIL_InFloat(0xc80000 + 0x225));
    // Generated from the component: PCC_monitor.Vb.Va1
    _pcc_monitor_vb_va1_1__out = (HIL_InFloat(0xc80000 + 0x226));
    // Generated from the component: PCC_monitor.Vc.Va1
    _pcc_monitor_vc_va1_1__out = (HIL_InFloat(0xc80000 + 0x227));
    // Generated from the component: c_option
    _c_option__out = XIo_InFloat(0x5500017c);
    // Generated from the component: op_mode
    _op_mode__out = XIo_InFloat(0x55000180);
    // Generated from the component: Back-Up.DG_in.delay
    _back_up_dg_in_delay__in = _back_up_dg_in_gen_on__out;
    if (_back_up_dg_in_delay__out == 0) {
        if (_back_up_dg_in_delay__in > 0.5) {
            _back_up_dg_in_delay__counter += 0.0002;
            if (_back_up_dg_in_delay__counter > 0.125) {
                _back_up_dg_in_delay__out = 1;
            }
        }
        else {
            _back_up_dg_in_delay__counter -= _back_up_dg_in_delay__counter;
            _back_up_dg_in_delay__out = 0;
        }
    }
    else {
        _back_up_dg_in_delay__counter = 0;
        if (_back_up_dg_in_delay__in <= 0.5) {
            _back_up_dg_in_delay__out = 0;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF4
    _back_up_diesel_gen_control_exciter_dc4b_tf4__a_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf4__b_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf4__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf4__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf4__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf4__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf4__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf4__b_coeff[_back_up_diesel_gen_control_exciter_dc4b_tf4__i + 1] * _back_up_diesel_gen_control_exciter_dc4b_tf4__states[_back_up_diesel_gen_control_exciter_dc4b_tf4__i];
    }
    _back_up_diesel_gen_control_exciter_dc4b_tf4__a_sum += _back_up_diesel_gen_control_exciter_dc4b_tf4__states[0] * _back_up_diesel_gen_control_exciter_dc4b_tf4__a_coeff[1];
    _back_up_diesel_gen_control_exciter_dc4b_tf4__delay_line_in = _back_up_diesel_gen_control_exciter_dc4b_kf__out - _back_up_diesel_gen_control_exciter_dc4b_tf4__a_sum;
    _back_up_diesel_gen_control_exciter_dc4b_tf4__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf4__b_coeff[0] * _back_up_diesel_gen_control_exciter_dc4b_tf4__delay_line_in;
    _back_up_diesel_gen_control_exciter_dc4b_tf4__out = _back_up_diesel_gen_control_exciter_dc4b_tf4__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.switch
    _back_up_diesel_gen_control_exciter_dc4b_switch__out = (_back_up_diesel_gen_control_exciter_one__out > 0.0f) ? _back_up_diesel_gen_control_exciter_dc4b_one__out : _back_up_diesel_gen_control_exciter_dc4b_tf1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.one_ov_sqrt_3
    _back_up_diesel_gen_control_exciter_one_ov_sqrt_3__out = 0.5773502691896258 * _back_up_diesel_gen_control_exciter_v_inner_droop__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Sum1
    _back_up_diesel_gen_control_exciter_sum1__out = _back_up_diesel_gen_control_exciter_const__out + _back_up_diesel_gen_control_exciter_vpss__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.K
    _back_up_diesel_gen_control_governor_and_engine_degov_k__out = 10.0 * _back_up_diesel_gen_control_governor_and_engine_degov_kp__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.Tpu to T
    _back_up_diesel_gen_control_governor_and_engine_tpu_to_t__out = -371.36153388108914 * _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Start_Exciter.Exciter_start_speed
    _back_up_diesel_gen_control_start_exciter_exciter_start_speed__out = 0.75 * _back_up_diesel_gen_control_start_exciter_steadystate_w__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.check_steady_state_w.speed_diff
    _back_up_diesel_gen_control_check_steady_state_w_speed_diff__out = 0.001 * _back_up_diesel_gen_control_check_steady_state_w_constant3__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w to wpu
    _back_up_diesel_gen_control_freq_setpoint_control_w_to_wpu__out = 0.005305164769729845 * _back_up_diesel_gen_gen_machine_wrapper1__speed_out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.w to wpu
    _back_up_diesel_gen_control_governor_and_engine_w_to_wpu__out = 0.005305164769729845 * _back_up_diesel_gen_gen_machine_wrapper1__speed_out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Start_Exciter.w to wpu
    _back_up_diesel_gen_control_start_exciter_w_to_wpu__out = 0.005305164769729845 * _back_up_diesel_gen_gen_machine_wrapper1__speed_out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Termination1
    // Generated from the component: Back-Up.Diesel_Gen.Control.check_steady_state_w.Sum3
    _back_up_diesel_gen_control_check_steady_state_w_sum3__out = _back_up_diesel_gen_gen_machine_wrapper1__speed_out - _back_up_diesel_gen_control_check_steady_state_w_constant3__out;
    // Generated from the component: Back-Up.Diesel_Gen.Termination1
    // Generated from the component: Back-Up.Diesel_Gen.Ggrid_meas.Bus Join1
    _back_up_diesel_gen_ggrid_meas_bus_join1__out[0] = _back_up_diesel_gen_ggrid_meas_va_va1__out;
    _back_up_diesel_gen_ggrid_meas_bus_join1__out[1] = _back_up_diesel_gen_ggrid_meas_vb_va1__out;
    _back_up_diesel_gen_ggrid_meas_bus_join1__out[2] = _back_up_diesel_gen_ggrid_meas_vc_va1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Kd
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kd__out = 1.0 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Ki
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_ki__out = 3200.0 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Kp
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kp__out = 100.0 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.e_f
    HIL_OutAO(0x4020, (float)_back_up_diesel_gen_measurements_gain10__out);
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.ABC_dqz.abc to alpha beta
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha = (2.0 * _back_up_diesel_gen_measurements_va_va1__out - _back_up_diesel_gen_measurements_vb_va1__out - _back_up_diesel_gen_measurements_vc_va1__out) * 0.3333333333333333;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta = (_back_up_diesel_gen_measurements_vb_va1__out - _back_up_diesel_gen_measurements_vc_va1__out) * 0.5773502691896258;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__gamma = (_back_up_diesel_gen_measurements_va_va1__out + _back_up_diesel_gen_measurements_vb_va1__out + _back_up_diesel_gen_measurements_vc_va1__out) * 0.3333333333333333;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.PQ measure.PQ Power Meter1
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _back_up_diesel_gen_measurements_va_va1__out - 0.5f * _back_up_diesel_gen_measurements_vb_va1__out - 0.5f * _back_up_diesel_gen_measurements_vc_va1__out);
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _back_up_diesel_gen_measurements_vb_va1__out - SQRT3_OVER_2 * _back_up_diesel_gen_measurements_vc_va1__out);
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _back_up_diesel_gen_measurements_ia_ia1__out - 0.5f * _back_up_diesel_gen_measurements_ib_ia1__out - 0.5f * _back_up_diesel_gen_measurements_ic_ia1__out);
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _back_up_diesel_gen_measurements_ib_ia1__out - SQRT3_OVER_2 * _back_up_diesel_gen_measurements_ic_ia1__out);
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_back_up_diesel_gen_measurements_va_va1__out + _back_up_diesel_gen_measurements_vb_va1__out + _back_up_diesel_gen_measurements_vc_va1__out);
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_back_up_diesel_gen_measurements_ia_ia1__out + _back_up_diesel_gen_measurements_ib_ia1__out + _back_up_diesel_gen_measurements_ic_ia1__out);
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha + _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha - _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__v_zero * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__i_zero;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output = 0.018500823612264846 * (_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac + _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1) - (-0.9629983527754703) * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ = 0.018500823612264846 * (_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac + _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9629983527754703) * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0 = 0.018500823612264846 * (_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac + _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9629983527754703) * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1 = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1 = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac;;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0 = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0 = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__P0dc = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0;
    _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent = sqrt(pow(_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc, 2) + pow(_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc, 2));
    if (_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent > 0)
        _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc / _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
    else
        _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.Signal switch1
    _back_up_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out = (_back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__out < 0.5f) ? _back_up_diesel_gen_sync_check_calculate_dw_synch_zero__out : _back_up_diesel_gen_sync_check_calculate_dw_synch_dw_k__out;
    // Generated from the component: Back-Up.Diesel_Gen.MCB.CTC_Wrapper
    if (_back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out == 0x0) {
        HIL_OutInt32(0x8240480, 0x0);
    }
    else {
        HIL_OutInt32(0x8240480, 0x1);
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.GCB_cmd
    HIL_OutInt32(0xf0040a, _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Termination12
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.not
    _back_up_diesel_gen_sync_check_not__out = !_back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.pu1
    _back_up_diesel_gen_sync_check_check_v_diff_pu1__out = 0.005888196497074946 * _back_up_diesel_gen_sync_check_check_v_diff_abs4__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Integrator1
    if (((_back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out > 0.0) && (_back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state <= 0)) || ((_back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out <= 0.0) && (_back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state == 1))) {
        _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__state = 0.0;
    }
    _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__out = _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Volt_diff
    _back_up_diesel_gen_sync_check_check_v_diff_volt_diff__out = 0.01 * _back_up_diesel_gen_sync_check_check_v_diff_one__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Vgrid_lowLim
    _back_up_diesel_gen_sync_check_check_v_diff_vgrid_lowlim__out = 0.9 * _back_up_diesel_gen_sync_check_check_v_diff_one1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Vgrid_upLim
    _back_up_diesel_gen_sync_check_check_v_diff_vgrid_uplim__out = 1.1 * _back_up_diesel_gen_sync_check_check_v_diff_one1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.Freq_diff
    _back_up_diesel_gen_sync_check_check_f_diff_freq_diff__out = 0.005 * _back_up_diesel_gen_sync_check_check_f_diff_constant1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.dw_f
    HIL_OutAO(0x402b, (float)_back_up_diesel_gen_sync_check_check_f_diff_topu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.c_function
    _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__counter = _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__out;
    if (_back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__counter >= 0.1 / 0.0002) {
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__out = 1;
    }
    else {
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__out = 0;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Phase_diff
    _back_up_diesel_gen_sync_check_check_phase_diff_phase_diff__out = 0.07853981633974483 * _back_up_diesel_gen_sync_check_check_phase_diff_one__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Ki
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_ki__out = 0.00012 * _back_up_diesel_gen_sync_check_check_phase_diff_to_pu__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Kp
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_kp__out = 0.01 * _back_up_diesel_gen_sync_check_check_phase_diff_to_pu__out;
    // Generated from the component: Back-Up.interface.Bus Split1
    _back_up_interface_bus_split1__out = _back_up_rate_transition1_output__out[0];
    _back_up_interface_bus_split1__out1 = _back_up_rate_transition1_output__out[1];
    _back_up_interface_bus_split1__out2 = _back_up_rate_transition1_output__out[2];
    _back_up_interface_bus_split1__out3 = _back_up_rate_transition1_output__out[3];
    _back_up_interface_bus_split1__out4 = _back_up_rate_transition1_output__out[4];
    // Generated from the component: Back-Up.interface.SM
    _back_up_interface_sm__enable_in = _back_up_enable__out;
    _back_up_interface_sm__force_off = _back_up_interface_rate_transition1_output__out;
    if (_back_up_interface_sm__force_off) {
        _back_up_interface_sm__enable = 0;
    }
    else {
        _back_up_interface_sm__enable = _back_up_interface_sm__enable_in;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF4
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__a_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_coeff[_dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i + 1] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf4__i];
    }
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__a_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__states[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__a_coeff[1];
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__delay_line_in = _dg_800kw_diesel_gen_control_exciter_dc4b_kf__out - _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__a_sum;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_coeff[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__delay_line_in;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__out = _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.switch
    _dg_800kw_diesel_gen_control_exciter_dc4b_switch__out = (_dg_800kw_diesel_gen_control_exciter_one__out > 0.0f) ? _dg_800kw_diesel_gen_control_exciter_dc4b_one__out : _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.one_ov_sqrt_3
    _dg_800kw_diesel_gen_control_exciter_one_ov_sqrt_3__out = 0.5773502691896258 * _dg_800kw_diesel_gen_control_exciter_v_inner_droop__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Sum1
    _dg_800kw_diesel_gen_control_exciter_sum1__out = _dg_800kw_diesel_gen_control_exciter_const__out + _dg_800kw_diesel_gen_control_exciter_vpss__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.K
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_k__out = 10.0 * _dg_800kw_diesel_gen_control_governor_and_engine_degov_kp__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.Tpu to T
    _dg_800kw_diesel_gen_control_governor_and_engine_tpu_to_t__out = -5660.610809301745 * _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Start_Exciter.Exciter_start_speed
    _dg_800kw_diesel_gen_control_start_exciter_exciter_start_speed__out = 0.75 * _dg_800kw_diesel_gen_control_start_exciter_steadystate_w__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.check_steady_state_w.speed_diff
    _dg_800kw_diesel_gen_control_check_steady_state_w_speed_diff__out = 0.001 * _dg_800kw_diesel_gen_control_check_steady_state_w_constant3__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.w to wpu
    _dg_800kw_diesel_gen_control_freq_setpoint_control_w_to_wpu__out = 0.005305164769729845 * _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.w to wpu
    _dg_800kw_diesel_gen_control_governor_and_engine_w_to_wpu__out = 0.005305164769729845 * _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Start_Exciter.w to wpu
    _dg_800kw_diesel_gen_control_start_exciter_w_to_wpu__out = 0.005305164769729845 * _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Termination1
    // Generated from the component: DG_800kW.Diesel_Gen.Control.check_steady_state_w.Sum3
    _dg_800kw_diesel_gen_control_check_steady_state_w_sum3__out = _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out - _dg_800kw_diesel_gen_control_check_steady_state_w_constant3__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Termination1
    // Generated from the component: DG_800kW.Diesel_Gen.Ggrid_meas.Bus Join1
    _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[0] = _dg_800kw_diesel_gen_ggrid_meas_va_va1__out;
    _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[1] = _dg_800kw_diesel_gen_ggrid_meas_vb_va1__out;
    _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[2] = _dg_800kw_diesel_gen_ggrid_meas_vc_va1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Kd
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kd__out = 1.0 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Ki
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_ki__out = 3200.0 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Kp
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kp__out = 100.0 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__q_pu;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.ABC_dqz.abc to alpha beta
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha = (2.0 * _dg_800kw_diesel_gen_measurements_va_va1__out - _dg_800kw_diesel_gen_measurements_vb_va1__out - _dg_800kw_diesel_gen_measurements_vc_va1__out) * 0.3333333333333333;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta = (_dg_800kw_diesel_gen_measurements_vb_va1__out - _dg_800kw_diesel_gen_measurements_vc_va1__out) * 0.5773502691896258;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__gamma = (_dg_800kw_diesel_gen_measurements_va_va1__out + _dg_800kw_diesel_gen_measurements_vb_va1__out + _dg_800kw_diesel_gen_measurements_vc_va1__out) * 0.3333333333333333;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.PQ measure.PQ Power Meter1
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _dg_800kw_diesel_gen_measurements_va_va1__out - 0.5f * _dg_800kw_diesel_gen_measurements_vb_va1__out - 0.5f * _dg_800kw_diesel_gen_measurements_vc_va1__out);
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _dg_800kw_diesel_gen_measurements_vb_va1__out - SQRT3_OVER_2 * _dg_800kw_diesel_gen_measurements_vc_va1__out);
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _dg_800kw_diesel_gen_measurements_ia_ia1__out - 0.5f * _dg_800kw_diesel_gen_measurements_ib_ia1__out - 0.5f * _dg_800kw_diesel_gen_measurements_ic_ia1__out);
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _dg_800kw_diesel_gen_measurements_ib_ia1__out - SQRT3_OVER_2 * _dg_800kw_diesel_gen_measurements_ic_ia1__out);
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_dg_800kw_diesel_gen_measurements_va_va1__out + _dg_800kw_diesel_gen_measurements_vb_va1__out + _dg_800kw_diesel_gen_measurements_vc_va1__out);
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_dg_800kw_diesel_gen_measurements_ia_ia1__out + _dg_800kw_diesel_gen_measurements_ib_ia1__out + _dg_800kw_diesel_gen_measurements_ic_ia1__out);
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha + _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_beta * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_alpha - _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_alpha * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_beta;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__v_zero * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__i_zero;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output = 0.018500823612264846 * (_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac + _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1) - (-0.9629983527754703) * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ = 0.018500823612264846 * (_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac + _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9629983527754703) * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0 = 0.018500823612264846 * (_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac + _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9629983527754703) * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1 = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pac;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1 = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qac;;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0 = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__P0ac;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0 = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_output;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputQ;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__P0dc = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__filter_1_outputP0;
    _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent = sqrt(pow(_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc, 2) + pow(_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc, 2));
    if (_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent > 0)
        _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc / _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
    else
        _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.Signal switch1
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out = (_dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__out < 0.5f) ? _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_zero__out : _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_dw_k__out;
    // Generated from the component: DG_800kW.Diesel_Gen.MCB.CTC_Wrapper
    if (_dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out == 0x0) {
        HIL_OutInt32(0x8640480, 0x0);
    }
    else {
        HIL_OutInt32(0x8640480, 0x1);
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.GCB_cmd
    HIL_OutInt32(0xf0041a, _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Termination12
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.not
    _dg_800kw_diesel_gen_sync_check_not__out = !_dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.pu1
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pu1__out = 0.00029440982485374735 * _dg_800kw_diesel_gen_sync_check_check_v_diff_abs4__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Integrator1
    if (((_dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out > 0.0) && (_dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state <= 0)) || ((_dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out <= 0.0) && (_dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state == 1))) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__state = 0.0;
    }
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Vgrid_lowLim
    _dg_800kw_diesel_gen_sync_check_check_v_diff_vgrid_lowlim__out = 0.9 * _dg_800kw_diesel_gen_sync_check_check_v_diff_one1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Vgrid_upLim
    _dg_800kw_diesel_gen_sync_check_check_v_diff_vgrid_uplim__out = 1.1 * _dg_800kw_diesel_gen_sync_check_check_v_diff_one1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Volt_diff
    _dg_800kw_diesel_gen_sync_check_check_v_diff_volt_diff__out = 0.01 * _dg_800kw_diesel_gen_sync_check_check_v_diff_one1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.Freq_diff
    _dg_800kw_diesel_gen_sync_check_check_f_diff_freq_diff__out = 0.005 * _dg_800kw_diesel_gen_sync_check_check_f_diff_constant1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.c_function
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__counter = _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__out;
    if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__counter >= 0.1 / 0.0002) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__out = 1;
    }
    else {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__out = 0;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Phase_diff
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_phase_diff__out = 0.07853981633974483 * _dg_800kw_diesel_gen_sync_check_check_phase_diff_one__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Ki
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_ki__out = 0.00012 * _dg_800kw_diesel_gen_sync_check_check_phase_diff_to_pu__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Kp
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_kp__out = 0.01 * _dg_800kw_diesel_gen_sync_check_check_phase_diff_to_pu__out;
    // Generated from the component: DG_800kW.Termination1
    // Generated from the component: DG_800kW.Interface.Bus Split1
    _dg_800kw_interface_bus_split1__out = _dg_800kw_interface_rate_transition1_output__out[0];
    _dg_800kw_interface_bus_split1__out1 = _dg_800kw_interface_rate_transition1_output__out[1];
    _dg_800kw_interface_bus_split1__out2 = _dg_800kw_interface_rate_transition1_output__out[2];
    _dg_800kw_interface_bus_split1__out3 = _dg_800kw_interface_rate_transition1_output__out[3];
    _dg_800kw_interface_bus_split1__out4 = _dg_800kw_interface_rate_transition1_output__out[4];
    // Generated from the component: ESS.Battery 1.GainSOC
    _ess_battery_1_gainsoc__out = 100.0 * _ess_battery_1_soc__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.Gain6
    _ess_battery_inverter_control_pll_pu_gain6__out = 0.016666666666666666 * _ess_battery_inverter_control_pll_pu_pll_to_hz__out;
    // Generated from the component: ESS.Battery inverter.Control.P
    HIL_OutAO(0x403e, (float)_ess_battery_inverter_control_power_meas_gain1__out);
    // Generated from the component: ESS.Battery inverter.Control.Q
    HIL_OutAO(0x403f, (float)_ess_battery_inverter_control_power_meas_gain2__out);
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Gain3
    _ess_battery_inverter_control_power_meas_gain3__out = 500000.0 * _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__S;
    // Generated from the component: ESS.Battery inverter.Control.pf
    HIL_OutAO(0x4047, (float)_ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__pf);
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Sum3
    _ess_battery_inverter_control_synch_phase_match_sum3__out = _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__out - _ess_battery_inverter_control_pll_pu_pll_unit_delay1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.Gain5
    _ess_battery_inverter_control_synch_pll_util_gain5__out = 0.016666666666666666 * _ess_battery_inverter_control_synch_pll_util_pll_to_hz__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Phase_diff
    _ess_battery_inverter_control_synch_vmatch_phase_diff__out = 0.05 * _ess_battery_inverter_control_synch_vmatch_constant2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.c_function
    _ess_battery_inverter_control_synch_vmatch_c_function__counter = _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__out;
    if (_ess_battery_inverter_control_synch_vmatch_c_function__counter >= 0.1 / 0.0002) {
        _ess_battery_inverter_control_synch_vmatch_c_function__out = 1;
    }
    else {
        _ess_battery_inverter_control_synch_vmatch_c_function__out = 0;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Phase_diff1
    _ess_battery_inverter_control_synch_vmatch_phase_diff1__out = 0.0005 * _ess_battery_inverter_control_synch_vmatch_unit_delay3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Freq_diff
    _ess_battery_inverter_control_synch_f_match_freq_diff__out = 0.002 * _ess_battery_inverter_control_synch_f_match_constant1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.c_function
    _ess_battery_inverter_control_synch_f_match_c_function__counter = _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__out;
    if (_ess_battery_inverter_control_synch_f_match_c_function__counter >= 0.1 / 0.0002) {
        _ess_battery_inverter_control_synch_f_match_c_function__out = 1;
    }
    else {
        _ess_battery_inverter_control_synch_f_match_c_function__out = 0;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.freq_lock
    HIL_OutInt32(0xf0042c, _ess_battery_inverter_control_synch_f_match_delay1__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Integrator1
    if (((_ess_battery_inverter_control_synch_f_match_delay1__out > 0.0) && (_ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state <= 0)) || ((_ess_battery_inverter_control_synch_f_match_delay1__out <= 0.0) && (_ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state == 1))) {
        _ess_battery_inverter_control_synch_phase_match_pi_integrator1__state = 0.0;
    }
    _ess_battery_inverter_control_synch_phase_match_pi_integrator1__out = _ess_battery_inverter_control_synch_phase_match_pi_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Freq_diff1
    _ess_battery_inverter_control_synch_f_match_freq_diff1__out = 0.02 * _ess_battery_inverter_control_synch_f_match_unit_delay1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.b1
    _ess_battery_inverter_control_synch_f_match_low_pass_b1__out = 1.96518336e-05 * _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.b2
    _ess_battery_inverter_control_synch_f_match_low_pass_b2__out = 9.82591682e-06 * _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.a1
    _ess_battery_inverter_control_synch_f_match_low_pass_a1__out = -1.99111429 * _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.a2
    _ess_battery_inverter_control_synch_f_match_low_pass_a2__out = 0.9911536 * _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Phase_diff
    _ess_battery_inverter_control_synch_phase_match_phase_diff__out = 0.017453292519943295 * _ess_battery_inverter_control_synch_phase_match_constant2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.c_function
    _ess_battery_inverter_control_synch_phase_match_c_function__counter = _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__out;
    if (_ess_battery_inverter_control_synch_phase_match_c_function__counter >= 0.1 / 0.0002) {
        _ess_battery_inverter_control_synch_phase_match_c_function__out = 1;
    }
    else {
        _ess_battery_inverter_control_synch_phase_match_c_function__out = 0;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Phase_diff1
    _ess_battery_inverter_control_synch_phase_match_phase_diff1__out = 0.00017453292519943296 * _ess_battery_inverter_control_synch_phase_match_unit_delay3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_lock
    HIL_OutInt32(0xf0042e, _ess_battery_inverter_control_synch_phase_match_unit_delay4__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.dfsynch
    HIL_OutAO(0x4041, (float)_ess_battery_inverter_control_synch_phase_match_unit_delay5__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.b1
    _ess_battery_inverter_control_synch_phase_match_low_pass_b1__out = 1.96518336e-05 * _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.b2
    _ess_battery_inverter_control_synch_phase_match_low_pass_b2__out = 9.82591682e-06 * _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.a1
    _ess_battery_inverter_control_synch_phase_match_low_pass_a1__out = -1.99111429 * _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.a2
    _ess_battery_inverter_control_synch_phase_match_low_pass_a2__out = 0.9911536 * _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Limit1
    if (_ess_battery_inverter_control_duty_cycle_zsm_constant1__out > 1.0) {
        _ess_battery_inverter_control_duty_cycle_zsm_limit1__out = 1.0;
    } else if (_ess_battery_inverter_control_duty_cycle_zsm_constant1__out < 0.0) {
        _ess_battery_inverter_control_duty_cycle_zsm_limit1__out = 0.0;
    } else {
        _ess_battery_inverter_control_duty_cycle_zsm_limit1__out = _ess_battery_inverter_control_duty_cycle_zsm_constant1__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.abc to dq.abc to alpha beta
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__alpha = (2.0 * _ess_battery_inverter_converter_meas_va_va1__out - _ess_battery_inverter_converter_meas_vb_va1__out - _ess_battery_inverter_converter_meas_vc_va1__out) * 0.3333333333333333;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__beta = (_ess_battery_inverter_converter_meas_vb_va1__out - _ess_battery_inverter_converter_meas_vc_va1__out) * 0.5773502691896258;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__gamma = (_ess_battery_inverter_converter_meas_va_va1__out + _ess_battery_inverter_converter_meas_vb_va1__out + _ess_battery_inverter_converter_meas_vc_va1__out) * 0.3333333333333333;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.abc to dq.abc to alpha beta
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__alpha = (2.0 * _ess_battery_inverter_grid_meas_va_va1__out - _ess_battery_inverter_grid_meas_vb_va1__out - _ess_battery_inverter_grid_meas_vc_va1__out) * 0.3333333333333333;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__beta = (_ess_battery_inverter_grid_meas_vb_va1__out - _ess_battery_inverter_grid_meas_vc_va1__out) * 0.5773502691896258;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__gamma = (_ess_battery_inverter_grid_meas_va_va1__out + _ess_battery_inverter_grid_meas_vb_va1__out + _ess_battery_inverter_grid_meas_vc_va1__out) * 0.3333333333333333;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ.abc to dq1.abc to alpha beta
    _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__alpha = (2.0 * _ess_battery_inverter_ia_ia1__out - _ess_battery_inverter_ib_ia1__out - _ess_battery_inverter_ic_ia1__out) * 0.3333333333333333;
    _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__beta = (_ess_battery_inverter_ib_ia1__out - _ess_battery_inverter_ic_ia1__out) * 0.5773502691896258;
    _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__gamma = (_ess_battery_inverter_ia_ia1__out + _ess_battery_inverter_ib_ia1__out + _ess_battery_inverter_ic_ia1__out) * 0.3333333333333333;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ1.abc to dq1.abc to alpha beta
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__alpha = (2.0 * _ess_battery_inverter_ia_out_ia1__out - _ess_battery_inverter_ib_out_ia1__out - _ess_battery_inverter_ic_out_ia1__out) * 0.3333333333333333;
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__beta = (_ess_battery_inverter_ib_out_ia1__out - _ess_battery_inverter_ic_out_ia1__out) * 0.5773502691896258;
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__gamma = (_ess_battery_inverter_ia_out_ia1__out + _ess_battery_inverter_ib_out_ia1__out + _ess_battery_inverter_ic_out_ia1__out) * 0.3333333333333333;
    // Generated from the component: ESS.Battery inverter.I_Bat_Charge
    HIL_OutAO(0x4048, (float)_ess_battery_inverter_idc_1_ia1__out);
    _ess_battery_inverter_i_bat_charge__in = _ess_battery_inverter_idc_1_ia1__out;
    sp_scope_buff_addr_er1_dev0 = sp_scope_buff_start_addr_er1_dev0 + sp_scope_buff_index_er1_dev0;
    //#ifdef SP_SCOPE_FILE_DEBUG
    //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_er1_dev0, sp_scope_buff_index_er1_dev0, sp_scope_buff_addr_er1_dev0, _ess_battery_inverter_i_bat_charge__in);
    //#endif
    memcpy((X_UnInt8 *)sp_scope_buff_addr_er1_dev0, &_ess_battery_inverter_i_bat_charge__in, 4);
    //XIo_OutInt32(sp_scope_buff_addr_er1_dev0, _ess_battery_inverter_i_bat_charge__in);
    sp_scope_buff_index_er1_dev0 = (sp_scope_buff_index_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;
    // Generated from the component: ESS.Battery inverter.THD Ia.THD_Array1
    if (_ess_battery_inverter_thd_ia_thd_array1__ack_old_state != _ess_battery_inverter_thd_ia_rt3_output__out) {
        _ess_battery_inverter_thd_ia_thd_array1__var_zc = 0;
        _ess_battery_inverter_thd_ia_thd_array1__counter = 0;
    }
    if (_ess_battery_inverter_thd_ia_thd_array1__counter < 84) {
        _ess_battery_inverter_thd_ia_samples_holder[_ess_battery_inverter_thd_ia_thd_array1__counter] = _ess_battery_inverter_ia_ia1__out;
        _ess_battery_inverter_thd_ia_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_ess_battery_inverter_thd_ia_thd_array1__var_zc == 0) {
        _ess_battery_inverter_thd_ia_thd_array1__var_filt_old = _ess_battery_inverter_thd_ia_thd_array1__var_filt;
        _ess_battery_inverter_thd_ia_thd_array1__var_filt = _ess_battery_inverter_thd_ia_thd_array1__var_filt_old * 0.1 + _ess_battery_inverter_ia_ia1__out * 0.9;
        if(((_ess_battery_inverter_thd_ia_thd_array1__var_filt >= 0.0f) && (_ess_battery_inverter_thd_ia_thd_array1__var_filt_old < 0.0f)) || ((_ess_battery_inverter_thd_ia_thd_array1__var_filt <= 0.0f) && (_ess_battery_inverter_thd_ia_thd_array1__var_filt_old > 0.0f)))
            _ess_battery_inverter_thd_ia_thd_array1__var_zc = 1;
    }
    // Generated from the component: ESS.Battery inverter.THD Ib.THD_Array1
    if (_ess_battery_inverter_thd_ib_thd_array1__ack_old_state != _ess_battery_inverter_thd_ib_rt3_output__out) {
        _ess_battery_inverter_thd_ib_thd_array1__var_zc = 0;
        _ess_battery_inverter_thd_ib_thd_array1__counter = 0;
    }
    if (_ess_battery_inverter_thd_ib_thd_array1__counter < 84) {
        _ess_battery_inverter_thd_ib_samples_holder[_ess_battery_inverter_thd_ib_thd_array1__counter] = _ess_battery_inverter_ib_ia1__out;
        _ess_battery_inverter_thd_ib_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_ess_battery_inverter_thd_ib_thd_array1__var_zc == 0) {
        _ess_battery_inverter_thd_ib_thd_array1__var_filt_old = _ess_battery_inverter_thd_ib_thd_array1__var_filt;
        _ess_battery_inverter_thd_ib_thd_array1__var_filt = _ess_battery_inverter_thd_ib_thd_array1__var_filt_old * 0.1 + _ess_battery_inverter_ib_ia1__out * 0.9;
        if(((_ess_battery_inverter_thd_ib_thd_array1__var_filt >= 0.0f) && (_ess_battery_inverter_thd_ib_thd_array1__var_filt_old < 0.0f)) || ((_ess_battery_inverter_thd_ib_thd_array1__var_filt <= 0.0f) && (_ess_battery_inverter_thd_ib_thd_array1__var_filt_old > 0.0f)))
            _ess_battery_inverter_thd_ib_thd_array1__var_zc = 1;
    }
    // Generated from the component: ESS.Battery inverter.THD Ic.THD_Array1
    if (_ess_battery_inverter_thd_ic_thd_array1__ack_old_state != _ess_battery_inverter_thd_ic_rt3_output__out) {
        _ess_battery_inverter_thd_ic_thd_array1__var_zc = 0;
        _ess_battery_inverter_thd_ic_thd_array1__counter = 0;
    }
    if (_ess_battery_inverter_thd_ic_thd_array1__counter < 84) {
        _ess_battery_inverter_thd_ic_samples_holder[_ess_battery_inverter_thd_ic_thd_array1__counter] = _ess_battery_inverter_ic_ia1__out;
        _ess_battery_inverter_thd_ic_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_ess_battery_inverter_thd_ic_thd_array1__var_zc == 0) {
        _ess_battery_inverter_thd_ic_thd_array1__var_filt_old = _ess_battery_inverter_thd_ic_thd_array1__var_filt;
        _ess_battery_inverter_thd_ic_thd_array1__var_filt = _ess_battery_inverter_thd_ic_thd_array1__var_filt_old * 0.1 + _ess_battery_inverter_ic_ia1__out * 0.9;
        if(((_ess_battery_inverter_thd_ic_thd_array1__var_filt >= 0.0f) && (_ess_battery_inverter_thd_ic_thd_array1__var_filt_old < 0.0f)) || ((_ess_battery_inverter_thd_ic_thd_array1__var_filt <= 0.0f) && (_ess_battery_inverter_thd_ic_thd_array1__var_filt_old > 0.0f)))
            _ess_battery_inverter_thd_ic_thd_array1__var_zc = 1;
    }
    // Generated from the component: ESS.Battery inverter.THD Va.THD_Array1
    if (_ess_battery_inverter_thd_va_thd_array1__ack_old_state != _ess_battery_inverter_thd_va_rt3_output__out) {
        _ess_battery_inverter_thd_va_thd_array1__var_zc = 0;
        _ess_battery_inverter_thd_va_thd_array1__counter = 0;
    }
    if (_ess_battery_inverter_thd_va_thd_array1__counter < 84) {
        _ess_battery_inverter_thd_va_samples_holder[_ess_battery_inverter_thd_va_thd_array1__counter] = _ess_battery_inverter_converter_meas_va_va1__out;
        _ess_battery_inverter_thd_va_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_ess_battery_inverter_thd_va_thd_array1__var_zc == 0) {
        _ess_battery_inverter_thd_va_thd_array1__var_filt_old = _ess_battery_inverter_thd_va_thd_array1__var_filt;
        _ess_battery_inverter_thd_va_thd_array1__var_filt = _ess_battery_inverter_thd_va_thd_array1__var_filt_old * 0.1 + _ess_battery_inverter_converter_meas_va_va1__out * 0.9;
        if(((_ess_battery_inverter_thd_va_thd_array1__var_filt >= 0.0f) && (_ess_battery_inverter_thd_va_thd_array1__var_filt_old < 0.0f)) || ((_ess_battery_inverter_thd_va_thd_array1__var_filt <= 0.0f) && (_ess_battery_inverter_thd_va_thd_array1__var_filt_old > 0.0f)))
            _ess_battery_inverter_thd_va_thd_array1__var_zc = 1;
    }
    // Generated from the component: ESS.Battery inverter.THD Vb.THD_Array1
    if (_ess_battery_inverter_thd_vb_thd_array1__ack_old_state != _ess_battery_inverter_thd_vb_rt3_output__out) {
        _ess_battery_inverter_thd_vb_thd_array1__var_zc = 0;
        _ess_battery_inverter_thd_vb_thd_array1__counter = 0;
    }
    if (_ess_battery_inverter_thd_vb_thd_array1__counter < 84) {
        _ess_battery_inverter_thd_vb_samples_holder[_ess_battery_inverter_thd_vb_thd_array1__counter] = _ess_battery_inverter_converter_meas_vb_va1__out;
        _ess_battery_inverter_thd_vb_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_ess_battery_inverter_thd_vb_thd_array1__var_zc == 0) {
        _ess_battery_inverter_thd_vb_thd_array1__var_filt_old = _ess_battery_inverter_thd_vb_thd_array1__var_filt;
        _ess_battery_inverter_thd_vb_thd_array1__var_filt = _ess_battery_inverter_thd_vb_thd_array1__var_filt_old * 0.1 + _ess_battery_inverter_converter_meas_vb_va1__out * 0.9;
        if(((_ess_battery_inverter_thd_vb_thd_array1__var_filt >= 0.0f) && (_ess_battery_inverter_thd_vb_thd_array1__var_filt_old < 0.0f)) || ((_ess_battery_inverter_thd_vb_thd_array1__var_filt <= 0.0f) && (_ess_battery_inverter_thd_vb_thd_array1__var_filt_old > 0.0f)))
            _ess_battery_inverter_thd_vb_thd_array1__var_zc = 1;
    }
    // Generated from the component: ESS.Battery inverter.THD Vc.THD_Array1
    if (_ess_battery_inverter_thd_vc_thd_array1__ack_old_state != _ess_battery_inverter_thd_vc_rt3_output__out) {
        _ess_battery_inverter_thd_vc_thd_array1__var_zc = 0;
        _ess_battery_inverter_thd_vc_thd_array1__counter = 0;
    }
    if (_ess_battery_inverter_thd_vc_thd_array1__counter < 84) {
        _ess_battery_inverter_thd_vc_samples_holder[_ess_battery_inverter_thd_vc_thd_array1__counter] = _ess_battery_inverter_converter_meas_vc_va1__out;
        _ess_battery_inverter_thd_vc_thd_array1__counter++;
    }
    //ZC check only due to DC signal recognition
    if (_ess_battery_inverter_thd_vc_thd_array1__var_zc == 0) {
        _ess_battery_inverter_thd_vc_thd_array1__var_filt_old = _ess_battery_inverter_thd_vc_thd_array1__var_filt;
        _ess_battery_inverter_thd_vc_thd_array1__var_filt = _ess_battery_inverter_thd_vc_thd_array1__var_filt_old * 0.1 + _ess_battery_inverter_converter_meas_vc_va1__out * 0.9;
        if(((_ess_battery_inverter_thd_vc_thd_array1__var_filt >= 0.0f) && (_ess_battery_inverter_thd_vc_thd_array1__var_filt_old < 0.0f)) || ((_ess_battery_inverter_thd_vc_thd_array1__var_filt <= 0.0f) && (_ess_battery_inverter_thd_vc_thd_array1__var_filt_old > 0.0f)))
            _ess_battery_inverter_thd_vc_thd_array1__var_zc = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Gain1
    _ess_battery_inverter_control_gain1__out = 0.002857142857142857 * _ess_battery_inverter_vdc_va1__out;
    // Generated from the component: ESS.Battery inverter.V_Bat_Charge
    HIL_OutAO(0x4049, (float)_ess_battery_inverter_vdc_va1__out);
    _ess_battery_inverter_v_bat_charge__in = _ess_battery_inverter_vdc_va1__out;
    sp_scope_buff_addr_er1_dev0 = sp_scope_buff_start_addr_er1_dev0 + sp_scope_buff_index_er1_dev0;
    //#ifdef SP_SCOPE_FILE_DEBUG
    //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_er1_dev0, sp_scope_buff_index_er1_dev0, sp_scope_buff_addr_er1_dev0, _ess_battery_inverter_v_bat_charge__in);
    //#endif
    memcpy((X_UnInt8 *)sp_scope_buff_addr_er1_dev0, &_ess_battery_inverter_v_bat_charge__in, 4);
    //XIo_OutInt32(sp_scope_buff_addr_er1_dev0, _ess_battery_inverter_v_bat_charge__in);
    sp_scope_buff_index_er1_dev0 = (sp_scope_buff_index_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;
    // Generated from the component: ESS.Interface.Bus Split1
    _ess_interface_bus_split1__out = _ess_interface_rate_transition1_output__out[0];
    _ess_interface_bus_split1__out1 = _ess_interface_rate_transition1_output__out[1];
    _ess_interface_bus_split1__out2 = _ess_interface_rate_transition1_output__out[2];
    _ess_interface_bus_split1__out3 = _ess_interface_rate_transition1_output__out[3];
    _ess_interface_bus_split1__out4 = _ess_interface_rate_transition1_output__out[4];
    // Generated from the component: ESS.Termination1
    // Generated from the component: Microgrid_controller.Bus Split1
    _microgrid_controller_bus_split1__out = _microgrid_controller_rate_transition1_output__out[0];
    _microgrid_controller_bus_split1__out1 = _microgrid_controller_rate_transition1_output__out[1];
    // Generated from the component: Microgrid_controller.Logical operator1
    _microgrid_controller_logical_operator1__out = _microgrid_controller_rate_transition3_output__out || _microgrid_controller_rate_transition4_output__out || _microgrid_controller_rate_transition5_output__out ;
    // Generated from the component: PCC_monitor.Bus Split1
    _pcc_monitor_bus_split1__out = _pcc_monitor_rate_transition1_output__out[0];
    _pcc_monitor_bus_split1__out1 = _pcc_monitor_rate_transition1_output__out[1];
    // Generated from the component: PCC_monitor.Termination4
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.Signal switch1
    _pcc_monitor_synch_check_calculate_dw_synch_signal_switch1__out = (_pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__out < 0.5f) ? _pcc_monitor_synch_check_calculate_dw_synch_zero__out : _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__out;
    // Generated from the component: Microgrid_controller.Rate Transition2.Input
    _microgrid_controller_rate_transition2_output__out = _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out;
    // Generated from the component: PCC_monitor.S1.CTC_Wrapper
    if (_pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out == 0x0) {
        HIL_OutInt32(0x8640484, 0x0);
    }
    else {
        HIL_OutInt32(0x8640484, 0x1);
    }
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.CB_cmd
    HIL_OutInt32(0xf00437, _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.Termination12
    // Generated from the component: PCC_monitor.Synch_check.not
    _pcc_monitor_synch_check_not__out = !_pcc_monitor_synch_check_contactor_control_sr_flip_flop1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Abs4
    _pcc_monitor_synch_check_check_f_diff_abs4__out = fabs(_pcc_monitor_synch_check_plls_pll_gain1__out);
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Kd
    _pcc_monitor_synch_check_plls_pll_pid_kd__out = 0.0 * _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q_pu;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Ki
    _pcc_monitor_synch_check_plls_pll_pid_ki__out = 3200.0 * _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q_pu;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Kp
    _pcc_monitor_synch_check_plls_pll_pid_kp__out = 100.0 * _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__q_pu;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.VABC
    HIL_OutAO(0x4087, (float)_pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.pu1
    _pcc_monitor_synch_check_check_v_diff_pu1__out = 0.00029440982485374735 * _pcc_monitor_synch_check_plls_pll_normalize_v_terminal__t;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Sum1
    _pcc_monitor_synch_check_check_f_diff_sum1__out = _pcc_monitor_synch_check_plls_pll_gain1__out - _pcc_monitor_synch_check_plls_pll1_gain1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Kd
    _pcc_monitor_synch_check_plls_pll1_pid_kd__out = 0.0 * _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q_pu;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Ki
    _pcc_monitor_synch_check_plls_pll1_pid_ki__out = 3200.0 * _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q_pu;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Kp
    _pcc_monitor_synch_check_plls_pll1_pid_kp__out = 100.0 * _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__q_pu;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.Vabc
    HIL_OutAO(0x4088, (float)_pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.pu2
    _pcc_monitor_synch_check_check_v_diff_pu2__out = 0.00029440982485374735 * _pcc_monitor_synch_check_plls_pll1_normalize_v_terminal__t;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Integrator1
    if (((_pcc_monitor_synch_check_check_v_diff_unit_delay1__out > 0.0) && (_pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state <= 0)) || ((_pcc_monitor_synch_check_check_v_diff_unit_delay1__out <= 0.0) && (_pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state == 1))) {
        _pcc_monitor_synch_check_check_v_diff_pi_integrator1__state = 0.0;
    }
    _pcc_monitor_synch_check_check_v_diff_pi_integrator1__out = _pcc_monitor_synch_check_check_v_diff_pi_integrator1__state;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Volt_diff
    _pcc_monitor_synch_check_check_v_diff_volt_diff__out = 0.01 * _pcc_monitor_synch_check_check_v_diff_one__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Freq_diff
    _pcc_monitor_synch_check_check_f_diff_freq_diff__out = 0.005 * _pcc_monitor_synch_check_check_f_diff_constant1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Ki
    _pcc_monitor_synch_check_check_f_diff_pi_ki__out = 0.0 * _pcc_monitor_synch_check_check_f_diff_topu__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Kp
    _pcc_monitor_synch_check_check_f_diff_pi_kp__out = 1.0 * _pcc_monitor_synch_check_check_f_diff_topu__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.less_than
    _pcc_monitor_synch_check_check_phase_diff_counter_less_than__out = (_pcc_monitor_synch_check_check_phase_diff_counter_constant3__out < _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__out) ? 1 : 0;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Phase_diff
    _pcc_monitor_synch_check_check_phase_diff_phase_diff__out = 0.017453292519943295 * _pcc_monitor_synch_check_check_phase_diff_one__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Ki
    _pcc_monitor_synch_check_check_phase_diff_pi_ki__out = 0.00012 * _pcc_monitor_synch_check_check_phase_diff_to_pu__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Kp
    _pcc_monitor_synch_check_check_phase_diff_pi_kp__out = 0.01 * _pcc_monitor_synch_check_check_phase_diff_to_pu__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.ABC_dqz.abc to alpha beta
    _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__alpha = (2.0 * _pcc_monitor_va_va1__out - _pcc_monitor_vb_va1__out - _pcc_monitor_vc_va1__out) * 0.3333333333333333;
    _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__beta = (_pcc_monitor_vb_va1__out - _pcc_monitor_vc_va1__out) * 0.5773502691896258;
    _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__gamma = (_pcc_monitor_va_va1__out + _pcc_monitor_vb_va1__out + _pcc_monitor_vc_va1__out) * 0.3333333333333333;
    // Generated from the component: PCC_monitor.PQ measure.PQ Power Meter1
    _pcc_monitor_pq_measure_pq_power_meter1__v_alpha = SQRT_2OVER3 * ( _pcc_monitor_va_va1_1__out - 0.5f * _pcc_monitor_vb_va1_1__out - 0.5f * _pcc_monitor_vc_va1_1__out);
    _pcc_monitor_pq_measure_pq_power_meter1__v_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _pcc_monitor_vb_va1_1__out - SQRT3_OVER_2 * _pcc_monitor_vc_va1_1__out);
    _pcc_monitor_pq_measure_pq_power_meter1__i_alpha = SQRT_2OVER3 * ( _pcc_monitor_ia_ia1__out - 0.5f * _pcc_monitor_ib_ia1__out - 0.5f * _pcc_monitor_ic_ia1__out);
    _pcc_monitor_pq_measure_pq_power_meter1__i_beta = SQRT_2OVER3 * (SQRT3_OVER_2 * _pcc_monitor_ib_ia1__out - SQRT3_OVER_2 * _pcc_monitor_ic_ia1__out);
    _pcc_monitor_pq_measure_pq_power_meter1__v_zero = ONE_DIV_BY_SQRT_3 * (_pcc_monitor_va_va1_1__out + _pcc_monitor_vb_va1_1__out + _pcc_monitor_vc_va1_1__out);
    _pcc_monitor_pq_measure_pq_power_meter1__i_zero = ONE_DIV_BY_SQRT_3 * (_pcc_monitor_ia_ia1__out + _pcc_monitor_ib_ia1__out + _pcc_monitor_ic_ia1__out);
    _pcc_monitor_pq_measure_pq_power_meter1__Pac = _pcc_monitor_pq_measure_pq_power_meter1__v_alpha * _pcc_monitor_pq_measure_pq_power_meter1__i_alpha + _pcc_monitor_pq_measure_pq_power_meter1__v_beta * _pcc_monitor_pq_measure_pq_power_meter1__i_beta;
    _pcc_monitor_pq_measure_pq_power_meter1__Qac = _pcc_monitor_pq_measure_pq_power_meter1__v_beta * _pcc_monitor_pq_measure_pq_power_meter1__i_alpha - _pcc_monitor_pq_measure_pq_power_meter1__v_alpha * _pcc_monitor_pq_measure_pq_power_meter1__i_beta;
    _pcc_monitor_pq_measure_pq_power_meter1__P0ac = _pcc_monitor_pq_measure_pq_power_meter1__v_zero * _pcc_monitor_pq_measure_pq_power_meter1__i_zero;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output = 0.018500823612264846 * (_pcc_monitor_pq_measure_pq_power_meter1__Pac + _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1) - (-0.9629983527754703) * _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputQ = 0.018500823612264846 * (_pcc_monitor_pq_measure_pq_power_meter1__Qac + _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q) - (-0.9629983527754703) * _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputP0 = 0.018500823612264846 * (_pcc_monitor_pq_measure_pq_power_meter1__P0ac + _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0) - (-0.9629983527754703) * _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1 = _pcc_monitor_pq_measure_pq_power_meter1__Pac;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1 = _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1Q = _pcc_monitor_pq_measure_pq_power_meter1__Qac;;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1Q = _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputQ;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_input_k_minus_1P0 = _pcc_monitor_pq_measure_pq_power_meter1__P0ac;
    _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output_k_minus_1P0 = _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputP0;
    _pcc_monitor_pq_measure_pq_power_meter1__Pdc = _pcc_monitor_pq_measure_pq_power_meter1__filter_1_output;
    _pcc_monitor_pq_measure_pq_power_meter1__Qdc = _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputQ;
    _pcc_monitor_pq_measure_pq_power_meter1__P0dc = _pcc_monitor_pq_measure_pq_power_meter1__filter_1_outputP0;
    _pcc_monitor_pq_measure_pq_power_meter1__apparent = sqrt(pow(_pcc_monitor_pq_measure_pq_power_meter1__Pdc, 2) + pow(_pcc_monitor_pq_measure_pq_power_meter1__Qdc, 2));
    if (_pcc_monitor_pq_measure_pq_power_meter1__apparent > 0)
        _pcc_monitor_pq_measure_pq_power_meter1__k_factor = _pcc_monitor_pq_measure_pq_power_meter1__Pdc / _pcc_monitor_pq_measure_pq_power_meter1__apparent;
    else
        _pcc_monitor_pq_measure_pq_power_meter1__k_factor = 0;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.ABC_dqz.abc to alpha beta
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__alpha = (2.0 * _pcc_monitor_va_va1_1__out - _pcc_monitor_vb_va1_1__out - _pcc_monitor_vc_va1_1__out) * 0.3333333333333333;
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__beta = (_pcc_monitor_vb_va1_1__out - _pcc_monitor_vc_va1_1__out) * 0.5773502691896258;
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__gamma = (_pcc_monitor_va_va1_1__out + _pcc_monitor_vb_va1_1__out + _pcc_monitor_vc_va1_1__out) * 0.3333333333333333;
    // Generated from the component: Microgrid_controller.SM2
    _microgrid_controller_sm2__CB = _microgrid_controller_rate_transition2_output__out;
    _microgrid_controller_sm2__batt_on = _microgrid_controller_rate_transition3_output__out;
    _microgrid_controller_sm2__der_opt_in = _c_option__out;
    _microgrid_controller_sm2__dg_on = _microgrid_controller_rate_transition4_output__out;
    if (_microgrid_controller_sm2__dg_on && _microgrid_controller_sm2__batt_on) {
        _microgrid_controller_sm2__der_opt = _microgrid_controller_sm2__der_opt_in;
        _microgrid_controller_sm2__force_off = 0;
    }
    else if (_microgrid_controller_sm2__dg_on && !_microgrid_controller_sm2__batt_on) {
        _microgrid_controller_sm2__der_opt = 1;
        _microgrid_controller_sm2__force_off = 0;
    }
    else if (!_microgrid_controller_sm2__dg_on && _microgrid_controller_sm2__batt_on) {
        _microgrid_controller_sm2__der_opt = 0;
        _microgrid_controller_sm2__force_off = 0;
    }
    else if (!_microgrid_controller_sm2__CB) {
        _microgrid_controller_sm2__der_opt = _microgrid_controller_sm2__der_opt_in;
        _microgrid_controller_sm2__force_off = 1;
    }
    else {
        _microgrid_controller_sm2__der_opt = _microgrid_controller_sm2__der_opt_in;
        _microgrid_controller_sm2__force_off = 0;
    }
    // Generated from the component: Microgrid_controller.SM3
    _microgrid_controller_sm3__CB = _microgrid_controller_rate_transition2_output__out;
    _microgrid_controller_sm3__batt_on = _microgrid_controller_rate_transition3_output__out;
    _microgrid_controller_sm3__der_opt_in = _c_option__out;
    _microgrid_controller_sm3__dg800kW_on = _microgrid_controller_rate_transition5_output__out;
    if (_microgrid_controller_sm3__dg800kW_on && _microgrid_controller_sm3__batt_on) {
        _microgrid_controller_sm3__der_opt = _microgrid_controller_sm3__der_opt_in;
        _microgrid_controller_sm3__force_off = 0;
    }
    else if (_microgrid_controller_sm3__dg800kW_on && !_microgrid_controller_sm3__batt_on) {
        _microgrid_controller_sm3__der_opt = 1;
        _microgrid_controller_sm3__force_off = 0;
    }
    else if (!_microgrid_controller_sm3__dg800kW_on && _microgrid_controller_sm3__batt_on) {
        _microgrid_controller_sm3__der_opt = 0;
        _microgrid_controller_sm3__force_off = 0;
    }
    else if (!_microgrid_controller_sm3__CB) {
        _microgrid_controller_sm3__der_opt = _microgrid_controller_sm3__der_opt_in;
        _microgrid_controller_sm3__force_off = 1;
    }
    else {
        _microgrid_controller_sm3__der_opt = _microgrid_controller_sm3__der_opt_in;
        _microgrid_controller_sm3__force_off = 0;
    }
    // Generated from the component: Microgrid_controller.cMode
    HIL_OutInt32(0xf00432, _c_option__out != 0x0);
    // Generated from the component: Microgrid_controller.opMode
    HIL_OutInt32(0xf00433, _op_mode__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Variable Limit
    _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange = _back_up_diesel_gen_control_exciter_dc4b_switch__out;
    _back_up_diesel_gen_control_exciter_dc4b_variable_limit__in = _back_up_diesel_gen_control_exciter_dc4b_tf2__out;
    if (_back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange == 0.0) {
        _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange = 0.01;
    }
    if (_back_up_diesel_gen_control_exciter_dc4b_variable_limit__in >= 10.0 * _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange) {
        _back_up_diesel_gen_control_exciter_dc4b_variable_limit__out = 10.0 * _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange;
    }
    else {
        if (_back_up_diesel_gen_control_exciter_dc4b_variable_limit__in <= (-10.0)*_back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange) {
            _back_up_diesel_gen_control_exciter_dc4b_variable_limit__out = (-10.0) * _back_up_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange;
        }
        else {
            _back_up_diesel_gen_control_exciter_dc4b_variable_limit__out = _back_up_diesel_gen_control_exciter_dc4b_variable_limit__in;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF2
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_sum = 0.0f;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_sum = 0.0f;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i = 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i < 2; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i++) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_coeff[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i + 1] * _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i];
    }
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i = 1; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i > 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i--) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_coeff[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i + 1] * _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i];
    }
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[0] * _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_coeff[1];
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in = _back_up_diesel_gen_control_governor_and_engine_degov_k__out - _back_up_diesel_gen_control_governor_and_engine_degov_tf2__a_sum;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_coeff[0] * _back_up_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__out = _back_up_diesel_gen_control_governor_and_engine_degov_tf2__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Control.T
    HIL_OutAO(0x4018, (float)_back_up_diesel_gen_control_governor_and_engine_tpu_to_t__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.wmeas
    HIL_OutAO(0x4016, (float)_back_up_diesel_gen_control_governor_and_engine_w_to_wpu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Start_Exciter.Comparator1
    if (_back_up_diesel_gen_control_start_exciter_w_to_wpu__out < _back_up_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _back_up_diesel_gen_control_start_exciter_comparator1__out = 0;
    } else if (_back_up_diesel_gen_control_start_exciter_w_to_wpu__out > _back_up_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _back_up_diesel_gen_control_start_exciter_comparator1__out = 1;
    } else {
        _back_up_diesel_gen_control_start_exciter_comparator1__out = _back_up_diesel_gen_control_start_exciter_comparator1__state;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.check_steady_state_w.Abs1
    _back_up_diesel_gen_control_check_steady_state_w_abs1__out = fabs(_back_up_diesel_gen_control_check_steady_state_w_sum3__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.split
    _back_up_diesel_gen_sync_check_plls_split__out = _back_up_diesel_gen_ggrid_meas_bus_join1__out[0];
    _back_up_diesel_gen_sync_check_plls_split__out1 = _back_up_diesel_gen_ggrid_meas_bus_join1__out[1];
    _back_up_diesel_gen_sync_check_plls_split__out2 = _back_up_diesel_gen_ggrid_meas_bus_join1__out[2];
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum8
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum8__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kd__out - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.ABC_dqz.alpha beta to dq
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1 = cos(_back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out);
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2 = sin(_back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out);
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__d = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__q = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha + _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Term
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Bus Join1
    _back_up_diesel_gen_measurements_bus_join1__out[0] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
    _back_up_diesel_gen_measurements_bus_join1__out[1] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
    _back_up_diesel_gen_measurements_bus_join1__out[2] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    _back_up_diesel_gen_measurements_bus_join1__out[3] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Gain7
    _back_up_diesel_gen_measurements_gain7__out = 1.4285714285714285e-05 * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Gain8
    _back_up_diesel_gen_measurements_gain8__out = 1.4285714285714285e-05 * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Gain9
    _back_up_diesel_gen_measurements_gain9__out = 1.4285714285714285e-05 * _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.PQ measure.Termination1
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.PQ measure.Termination2
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.pf
    HIL_OutAO(0x4021, (float)_back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.dw_synch
    HIL_OutAO(0x402d, (float)_back_up_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.greater_equal
    _back_up_diesel_gen_sync_check_check_v_diff_greater_equal__out = (_back_up_diesel_gen_sync_check_check_v_diff_pu1__out >= _back_up_diesel_gen_sync_check_check_v_diff_vgrid_lowlim__out) ? 1 : 0;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.less_equal
    _back_up_diesel_gen_sync_check_check_v_diff_less_equal__out = (_back_up_diesel_gen_sync_check_check_v_diff_pu1__out <= _back_up_diesel_gen_sync_check_check_v_diff_vgrid_uplim__out) ? 1 : 0;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.Comparator1
    if (_back_up_diesel_gen_sync_check_check_f_diff_freq_diff__out < _back_up_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out = 0;
    } else if (_back_up_diesel_gen_sync_check_check_f_diff_freq_diff__out > _back_up_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out = 1;
    } else {
        _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out = _back_up_diesel_gen_sync_check_check_f_diff_comparator1__state;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Phase_match
    HIL_OutInt32(0xf0040c, _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Comparator2
    if (_back_up_diesel_gen_sync_check_check_phase_diff_phase_diff__out < _back_up_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__out = 0;
    } else if (_back_up_diesel_gen_sync_check_check_phase_diff_phase_diff__out > _back_up_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__out = 1;
    } else {
        _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__out = _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__state;
    }
    // Generated from the component: Back-Up.interface.Rate Transition1.Input
    _back_up_interface_rate_transition1_output__out = _back_up_interface_bus_split1__out4;
    // Generated from the component: Back-Up.interface.Termination1
    // Generated from the component: Back-Up.interface.Termination2
    // Generated from the component: Back-Up.interface.Termination3
    // Generated from the component: Back-Up.interface.Termination4
    // Generated from the component: Back-Up.DG_in.Logical operator1
    _back_up_dg_in_logical_operator1__out = _back_up_interface_sm__enable && _back_up_dg_in_delay__out ;
    // Generated from the component: Back-Up.DG_in.enable
    HIL_OutInt32(0xf00400, _back_up_interface_sm__enable != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Variable Limit
    _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange = _dg_800kw_diesel_gen_control_exciter_dc4b_switch__out;
    _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__in = _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__out;
    if (_dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange == 0.0) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange = 0.01;
    }
    if (_dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__in >= 10.0 * _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__out = 10.0 * _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange;
    }
    else {
        if (_dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__in <= (-10.0)*_dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange) {
            _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__out = (-10.0) * _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__LimitChange;
        }
        else {
            _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__out = _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__in;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF2
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_sum = 0.0f;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_sum = 0.0f;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i = 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i < 2; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i++) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_coeff[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i + 1] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i];
    }
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i = 1; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i > 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i--) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_coeff[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i + 1] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i];
    }
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[0] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_coeff[1];
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in = _dg_800kw_diesel_gen_control_governor_and_engine_degov_k__out - _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__a_sum;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_coeff[0] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__out = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.wmeas
    HIL_OutAO(0x4030, (float)_dg_800kw_diesel_gen_control_governor_and_engine_w_to_wpu__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Start_Exciter.Comparator1
    if (_dg_800kw_diesel_gen_control_start_exciter_w_to_wpu__out < _dg_800kw_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _dg_800kw_diesel_gen_control_start_exciter_comparator1__out = 0;
    } else if (_dg_800kw_diesel_gen_control_start_exciter_w_to_wpu__out > _dg_800kw_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _dg_800kw_diesel_gen_control_start_exciter_comparator1__out = 1;
    } else {
        _dg_800kw_diesel_gen_control_start_exciter_comparator1__out = _dg_800kw_diesel_gen_control_start_exciter_comparator1__state;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.check_steady_state_w.Abs1
    _dg_800kw_diesel_gen_control_check_steady_state_w_abs1__out = fabs(_dg_800kw_diesel_gen_control_check_steady_state_w_sum3__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.split
    _dg_800kw_diesel_gen_sync_check_plls_split__out = _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[0];
    _dg_800kw_diesel_gen_sync_check_plls_split__out1 = _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[1];
    _dg_800kw_diesel_gen_sync_check_plls_split__out2 = _dg_800kw_diesel_gen_ggrid_meas_bus_join1__out[2];
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum8
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum8__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kd__out - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.ABC_dqz.alpha beta to dq
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1 = cos(_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out);
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2 = sin(_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__out);
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__d = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__q = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k1 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__alpha + _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__k2 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_abc_to_alpha_beta__beta;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Term
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Bus Join1
    _dg_800kw_diesel_gen_measurements_bus_join1__out[0] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
    _dg_800kw_diesel_gen_measurements_bus_join1__out[1] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
    _dg_800kw_diesel_gen_measurements_bus_join1__out[2] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    _dg_800kw_diesel_gen_measurements_bus_join1__out[3] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Gain7
    _dg_800kw_diesel_gen_measurements_gain7__out = 9.372071227741331e-07 * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Gain8
    _dg_800kw_diesel_gen_measurements_gain8__out = 9.372071227741331e-07 * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Gain9
    _dg_800kw_diesel_gen_measurements_gain9__out = 9.372071227741331e-07 * _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.PQ measure.Termination1
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.PQ measure.Termination2
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.pf
    HIL_OutAO(0x4036, (float)_dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.greater_equal
    _dg_800kw_diesel_gen_sync_check_check_v_diff_greater_equal__out = (_dg_800kw_diesel_gen_sync_check_check_v_diff_pu1__out >= _dg_800kw_diesel_gen_sync_check_check_v_diff_vgrid_lowlim__out) ? 1 : 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.less_equal
    _dg_800kw_diesel_gen_sync_check_check_v_diff_less_equal__out = (_dg_800kw_diesel_gen_sync_check_check_v_diff_pu1__out <= _dg_800kw_diesel_gen_sync_check_check_v_diff_vgrid_uplim__out) ? 1 : 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.Comparator1
    if (_dg_800kw_diesel_gen_sync_check_check_f_diff_freq_diff__out < _dg_800kw_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out = 0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_f_diff_freq_diff__out > _dg_800kw_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out = 1;
    } else {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out = _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__state;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Phase_match
    HIL_OutInt32(0xf0041c, _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Comparator2
    if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_phase_diff__out < _dg_800kw_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__out = 0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_phase_diff__out > _dg_800kw_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__out = 1;
    } else {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__state;
    }
    // Generated from the component: DG_800kW.Interface.Gain1
    _dg_800kw_interface_gain1__out = 1.0526315789473683e-06 * _dg_800kw_interface_bus_split1__out2;
    // Generated from the component: DG_800kW.Interface.Gain3
    _dg_800kw_interface_gain3__out = 1.0526315789473683e-06 * _dg_800kw_interface_bus_split1__out3;
    // Generated from the component: DG_800kW.Interface.Termination1
    // Generated from the component: ESS.SOC
    HIL_OutAO(0x4058, (float)_ess_battery_1_gainsoc__out);
    _ess_soc__in = _ess_battery_1_gainsoc__out;
    sp_scope_buff_addr_er1_dev0 = sp_scope_buff_start_addr_er1_dev0 + sp_scope_buff_index_er1_dev0;
    //#ifdef SP_SCOPE_FILE_DEBUG
    //  fprintf(f_sp_scope_debug, "\nstart = %x, index = %x, addr = %x, value = %f.", sp_scope_buff_start_addr_er1_dev0, sp_scope_buff_index_er1_dev0, sp_scope_buff_addr_er1_dev0, _ess_soc__in);
    //#endif
    memcpy((X_UnInt8 *)sp_scope_buff_addr_er1_dev0, &_ess_soc__in, 4);
    //XIo_OutInt32(sp_scope_buff_addr_er1_dev0, _ess_soc__in);
    sp_scope_buff_index_er1_dev0 = (sp_scope_buff_index_er1_dev0 + 4) % SP_SCOPE_BUFF_SIZE_PER_ER;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Island detection (modified SFS).Sum11
    _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__sum11__out = _ess_battery_inverter_control_pll_pu_gain6__out - _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__constant6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Abs3
    _ess_battery_inverter_control_synch_check_nominal_conditions_abs3__out = fabs(_ess_battery_inverter_control_pll_pu_gain6__out);
    // Generated from the component: ESS.Battery inverter.Control.f
    HIL_OutAO(0x4046, (float)_ess_battery_inverter_control_pll_pu_gain6__out);
    // Generated from the component: ESS.Battery inverter.Control.S
    HIL_OutAO(0x4040, (float)_ess_battery_inverter_control_power_meas_gain3__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.confine_phase
    _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta = _ess_battery_inverter_control_synch_phase_match_sum3__out;
    if (_ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta > 3.14159265359) {
        _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined = _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta - 6.28318530718;
    }
    else {
        if (_ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta < -3.14159265359) {
            _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined = _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta + 6.28318530718;
        }
        else {
            _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined = _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta;
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Abs3
    _ess_battery_inverter_control_synch_check_grid_abs3__out = fabs(_ess_battery_inverter_control_synch_pll_util_gain5__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Sum1
    _ess_battery_inverter_control_synch_f_match_sum1__out = _ess_battery_inverter_control_synch_pll_util_gain5__out - _ess_battery_inverter_control_pll_pu_gain6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Sum2
    _ess_battery_inverter_control_synch_vmatch_sum2__out = _ess_battery_inverter_control_synch_vmatch_phase_diff__out + _ess_battery_inverter_control_synch_vmatch_phase_diff1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Sum2
    _ess_battery_inverter_control_synch_f_match_sum2__out = _ess_battery_inverter_control_synch_f_match_freq_diff__out + _ess_battery_inverter_control_synch_f_match_freq_diff1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Sum3
    _ess_battery_inverter_control_synch_f_match_low_pass_sum3__out = _ess_battery_inverter_control_synch_f_match_low_pass_b2__out - _ess_battery_inverter_control_synch_f_match_low_pass_a2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Sum2
    _ess_battery_inverter_control_synch_phase_match_sum2__out = _ess_battery_inverter_control_synch_phase_match_phase_diff__out + _ess_battery_inverter_control_synch_phase_match_phase_diff1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Sum3
    _ess_battery_inverter_control_synch_phase_match_low_pass_sum3__out = _ess_battery_inverter_control_synch_phase_match_low_pass_b2__out - _ess_battery_inverter_control_synch_phase_match_low_pass_a2__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum2
    _ess_battery_inverter_control_duty_cycle_zsm_sum2__out =  - _ess_battery_inverter_control_duty_cycle_zsm_limit1__out + _ess_battery_inverter_control_duty_cycle_zsm_constant3__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum8
    _ess_battery_inverter_control_duty_cycle_zsm_sum8__out =  - _ess_battery_inverter_control_duty_cycle_zsm_limit1__out + _ess_battery_inverter_control_duty_cycle_zsm_constant4__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.abc to dq.alpha beta to dq
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k1 = cos(_ess_battery_inverter_control_pll_pu_pll_unit_delay1__out);
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k2 = sin(_ess_battery_inverter_control_pll_pu_pll_unit_delay1__out);
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__d = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__alpha - _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__beta;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__q = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__alpha + _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_abc_to_alpha_beta__beta;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.term_zero
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.abc to dq.alpha beta to dq
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k1 = cos(_ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__out);
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k2 = sin(_ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__out);
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__d = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__alpha - _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__beta;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__q = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__alpha + _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_abc_to_alpha_beta__beta;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.term_zero
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ.Termination1
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ.abc to dq1.alpha beta to dq
    _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k1 = cos(_ess_battery_inverter_control_pll_pu_pll_unit_delay1__out);
    _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k2 = sin(_ess_battery_inverter_control_pll_pu_pll_unit_delay1__out);
    _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__d = _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__alpha - _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__beta;
    _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__q = _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__alpha + _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_abctodq_abc_to_dq1_abc_to_alpha_beta__beta;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ1.Termination1
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ1.abc to dq1.alpha beta to dq
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k1 = cos(_ess_battery_inverter_control_pll_pu_pll_unit_delay1__out);
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k2 = sin(_ess_battery_inverter_control_pll_pu_pll_unit_delay1__out);
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__d = _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__alpha - _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__beta;
    _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__q = _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k1 * _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__alpha + _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__k2 * _ess_battery_inverter_control_abctodq1_abc_to_dq1_abc_to_alpha_beta__beta;
    // Generated from the component: ESS.Battery inverter.THD Ia.RT1.Input
    _ess_battery_inverter_thd_ia_rt1_output__out = _ess_battery_inverter_thd_ia_thd_array1__syn;
    // Generated from the component: ESS.Battery inverter.THD Ia.RT2.Input
    _ess_battery_inverter_thd_ia_rt2_output__out = _ess_battery_inverter_thd_ia_thd_array1__zc_stat;
    // Generated from the component: ESS.Battery inverter.THD Ib.RT1.Input
    _ess_battery_inverter_thd_ib_rt1_output__out = _ess_battery_inverter_thd_ib_thd_array1__syn;
    // Generated from the component: ESS.Battery inverter.THD Ib.RT2.Input
    _ess_battery_inverter_thd_ib_rt2_output__out = _ess_battery_inverter_thd_ib_thd_array1__zc_stat;
    // Generated from the component: ESS.Battery inverter.THD Ic.RT1.Input
    _ess_battery_inverter_thd_ic_rt1_output__out = _ess_battery_inverter_thd_ic_thd_array1__syn;
    // Generated from the component: ESS.Battery inverter.THD Ic.RT2.Input
    _ess_battery_inverter_thd_ic_rt2_output__out = _ess_battery_inverter_thd_ic_thd_array1__zc_stat;
    // Generated from the component: ESS.Battery inverter.THD Va.RT1.Input
    _ess_battery_inverter_thd_va_rt1_output__out = _ess_battery_inverter_thd_va_thd_array1__syn;
    // Generated from the component: ESS.Battery inverter.THD Va.RT2.Input
    _ess_battery_inverter_thd_va_rt2_output__out = _ess_battery_inverter_thd_va_thd_array1__zc_stat;
    // Generated from the component: ESS.Battery inverter.THD Vb.RT1.Input
    _ess_battery_inverter_thd_vb_rt1_output__out = _ess_battery_inverter_thd_vb_thd_array1__syn;
    // Generated from the component: ESS.Battery inverter.THD Vb.RT2.Input
    _ess_battery_inverter_thd_vb_rt2_output__out = _ess_battery_inverter_thd_vb_thd_array1__zc_stat;
    // Generated from the component: ESS.Battery inverter.THD Vc.RT1.Input
    _ess_battery_inverter_thd_vc_rt1_output__out = _ess_battery_inverter_thd_vc_thd_array1__syn;
    // Generated from the component: ESS.Battery inverter.THD Vc.RT2.Input
    _ess_battery_inverter_thd_vc_rt2_output__out = _ess_battery_inverter_thd_vc_thd_array1__zc_stat;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Limit3
    if (_ess_battery_inverter_control_gain1__out < 0.01) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_limit3__out = 0.01;
    } else {
        _ess_battery_inverter_control_imode_control_dq_current_controller_limit3__out = _ess_battery_inverter_control_gain1__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.Limit3
    if (_ess_battery_inverter_control_gain1__out < 0.01) {
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_limit3__out = 0.01;
    } else {
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_limit3__out = _ess_battery_inverter_control_gain1__out;
    }
    // Generated from the component: ESS.Interface.Termination1
    // Generated from the component: Microgrid_controller.is_zero
    _microgrid_controller_is_zero__P = _microgrid_controller_bus_split1__out;
    _microgrid_controller_is_zero__Q = _microgrid_controller_bus_split1__out1;
    if ((fabs(_microgrid_controller_is_zero__P) <= 1000.0) && (fabs(_microgrid_controller_is_zero__Q) <= 1000.0)) {
        _microgrid_controller_is_zero__zeroed = 1;
    }
    else {
        _microgrid_controller_is_zero__zeroed = 0;
    }
    // Generated from the component: PCC_monitor.Synch_check.not1
    _pcc_monitor_synch_check_not1__out = !_pcc_monitor_bus_split1__out1;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.interval_check
    _pcc_monitor_synch_check_check_f_diff_interval_check__in = _pcc_monitor_synch_check_check_f_diff_abs4__out;
    if ((_pcc_monitor_synch_check_check_f_diff_interval_check__in >= 60.0 * (1 - 5.0 / 100.0)) && _pcc_monitor_synch_check_check_f_diff_interval_check__in <= 60.0 * (1 + 5.0 / 100.0)) {
        _pcc_monitor_synch_check_check_f_diff_interval_check__out = 1;
    }
    else {
        _pcc_monitor_synch_check_check_f_diff_interval_check__out = 0;
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Sum8
    _pcc_monitor_synch_check_plls_pll_pid_sum8__out = _pcc_monitor_synch_check_plls_pll_pid_kd__out - _pcc_monitor_synch_check_plls_pll_pid_integrator2__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Abs4
    _pcc_monitor_synch_check_check_v_diff_abs4__out = fabs(_pcc_monitor_synch_check_check_v_diff_pu1__out);
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.LPF_dwf
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__a_sum = 0.0f;
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_sum = 0.0f;
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_check_f_diff_lpf_dwf__i = 0; _pcc_monitor_synch_check_check_f_diff_lpf_dwf__i < 1; _pcc_monitor_synch_check_check_f_diff_lpf_dwf__i++) {
        _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_sum += _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_coeff[_pcc_monitor_synch_check_check_f_diff_lpf_dwf__i + 1] * _pcc_monitor_synch_check_check_f_diff_lpf_dwf__states[_pcc_monitor_synch_check_check_f_diff_lpf_dwf__i];
    }
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__a_sum += _pcc_monitor_synch_check_check_f_diff_lpf_dwf__states[0] * _pcc_monitor_synch_check_check_f_diff_lpf_dwf__a_coeff[1];
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__delay_line_in = _pcc_monitor_synch_check_check_f_diff_sum1__out - _pcc_monitor_synch_check_check_f_diff_lpf_dwf__a_sum;
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_sum += _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_coeff[0] * _pcc_monitor_synch_check_check_f_diff_lpf_dwf__delay_line_in;
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__out = _pcc_monitor_synch_check_check_f_diff_lpf_dwf__b_sum;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Sum8
    _pcc_monitor_synch_check_plls_pll1_pid_sum8__out = _pcc_monitor_synch_check_plls_pll1_pid_kd__out - _pcc_monitor_synch_check_plls_pll1_pid_integrator2__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Abs5
    _pcc_monitor_synch_check_check_v_diff_abs5__out = fabs(_pcc_monitor_synch_check_check_v_diff_pu2__out);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Sum1
    _pcc_monitor_synch_check_check_v_diff_sum1__out = _pcc_monitor_synch_check_check_v_diff_pu1__out - _pcc_monitor_synch_check_check_v_diff_pu2__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Comparator1
    if (_pcc_monitor_synch_check_check_f_diff_freq_diff__out < _pcc_monitor_synch_check_check_f_diff_abs3__out) {
        _pcc_monitor_synch_check_check_f_diff_comparator1__out = 0;
    } else if (_pcc_monitor_synch_check_check_f_diff_freq_diff__out > _pcc_monitor_synch_check_check_f_diff_abs3__out) {
        _pcc_monitor_synch_check_check_f_diff_comparator1__out = 1;
    } else {
        _pcc_monitor_synch_check_check_f_diff_comparator1__out = _pcc_monitor_synch_check_check_f_diff_comparator1__state;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Sum5
    _pcc_monitor_synch_check_check_f_diff_pi_sum5__out = _pcc_monitor_synch_check_check_f_diff_pi_kp__out + _pcc_monitor_synch_check_check_f_diff_pi_integrator1__out;
    // Generated from the component: PCC_monitor.Synch_check.Phase_match
    HIL_OutInt32(0xf0043a, _pcc_monitor_synch_check_check_phase_diff_counter_less_than__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Comparator2
    if (_pcc_monitor_synch_check_check_phase_diff_phase_diff__out < _pcc_monitor_synch_check_check_phase_diff_abs2__out) {
        _pcc_monitor_synch_check_check_phase_diff_comparator2__out = 0;
    } else if (_pcc_monitor_synch_check_check_phase_diff_phase_diff__out > _pcc_monitor_synch_check_check_phase_diff_abs2__out) {
        _pcc_monitor_synch_check_check_phase_diff_comparator2__out = 1;
    } else {
        _pcc_monitor_synch_check_check_phase_diff_comparator2__out = _pcc_monitor_synch_check_check_phase_diff_comparator2__state;
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.ABC_dqz.alpha beta to dq
    _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k1 = cos(_pcc_monitor_synch_check_plls_pll_unit_delay1__out);
    _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k2 = sin(_pcc_monitor_synch_check_plls_pll_unit_delay1__out);
    _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__d = _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k2 * _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__alpha - _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k1 * _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__beta;
    _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__q = _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k1 * _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__alpha + _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__k2 * _pcc_monitor_synch_check_plls_pll_abc_dqz_abc_to_alpha_beta__beta;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Termination1
    // Generated from the component: PCC_monitor.Bus Join1
    _pcc_monitor_bus_join1__out[0] = _pcc_monitor_pq_measure_pq_power_meter1__Pdc;
    _pcc_monitor_bus_join1__out[1] = _pcc_monitor_pq_measure_pq_power_meter1__Qdc;
    // Generated from the component: PCC_monitor.P  KW
    HIL_OutAO(0x4084, (float)_pcc_monitor_pq_measure_pq_power_meter1__Pdc);
    // Generated from the component: PCC_monitor.PQ measure.Termination1
    // Generated from the component: PCC_monitor.PQ measure.Termination2
    // Generated from the component: PCC_monitor.Q kVAr
    HIL_OutAO(0x4085, (float)_pcc_monitor_pq_measure_pq_power_meter1__Qdc);
    // Generated from the component: PCC_monitor.S
    HIL_OutAO(0x4086, (float)_pcc_monitor_pq_measure_pq_power_meter1__apparent);
    // Generated from the component: PCC_monitor.pf
    HIL_OutAO(0x4092, (float)_pcc_monitor_pq_measure_pq_power_meter1__k_factor);
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.ABC_dqz.alpha beta to dq
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k1 = cos(_pcc_monitor_synch_check_plls_pll1_unit_delay1__out);
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k2 = sin(_pcc_monitor_synch_check_plls_pll1_unit_delay1__out);
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__d = _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k2 * _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__alpha - _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k1 * _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__beta;
    _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__q = _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k1 * _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__alpha + _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__k2 * _pcc_monitor_synch_check_plls_pll1_abc_dqz_abc_to_alpha_beta__beta;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Termination1
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF3
    _back_up_diesel_gen_control_exciter_dc4b_tf3__a_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf3__b_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf3__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf3__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf3__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf3__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf3__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf3__b_coeff[_back_up_diesel_gen_control_exciter_dc4b_tf3__i + 1] * _back_up_diesel_gen_control_exciter_dc4b_tf3__states[_back_up_diesel_gen_control_exciter_dc4b_tf3__i];
    }
    _back_up_diesel_gen_control_exciter_dc4b_tf3__a_sum += _back_up_diesel_gen_control_exciter_dc4b_tf3__states[0] * _back_up_diesel_gen_control_exciter_dc4b_tf3__a_coeff[1];
    _back_up_diesel_gen_control_exciter_dc4b_tf3__delay_line_in = _back_up_diesel_gen_control_exciter_dc4b_variable_limit__out - _back_up_diesel_gen_control_exciter_dc4b_tf3__a_sum;
    _back_up_diesel_gen_control_exciter_dc4b_tf3__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf3__b_coeff[0] * _back_up_diesel_gen_control_exciter_dc4b_tf3__delay_line_in;
    _back_up_diesel_gen_control_exciter_dc4b_tf3__out = _back_up_diesel_gen_control_exciter_dc4b_tf3__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Control.check_steady_state_w.Comparator3
    if (_back_up_diesel_gen_control_check_steady_state_w_speed_diff__out < _back_up_diesel_gen_control_check_steady_state_w_abs1__out) {
        _back_up_diesel_gen_control_check_steady_state_w_comparator3__out = 0;
    } else if (_back_up_diesel_gen_control_check_steady_state_w_speed_diff__out > _back_up_diesel_gen_control_check_steady_state_w_abs1__out) {
        _back_up_diesel_gen_control_check_steady_state_w_comparator3__out = 1;
    } else {
        _back_up_diesel_gen_control_check_steady_state_w_comparator3__out = _back_up_diesel_gen_control_check_steady_state_w_comparator3__state;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.ABC_dqz.abc to alpha beta
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha = (2.0 * _back_up_diesel_gen_sync_check_plls_split__out - _back_up_diesel_gen_sync_check_plls_split__out1 - _back_up_diesel_gen_sync_check_plls_split__out2) * 0.3333333333333333;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta = (_back_up_diesel_gen_sync_check_plls_split__out1 - _back_up_diesel_gen_sync_check_plls_split__out2) * 0.5773502691896258;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__gamma = (_back_up_diesel_gen_sync_check_plls_split__out + _back_up_diesel_gen_sync_check_plls_split__out1 + _back_up_diesel_gen_sync_check_plls_split__out2) * 0.3333333333333333;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Gain1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out = 714.2857004093205 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum8__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_d
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum = 0.0f;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum = 0.0f;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i = 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i < 1; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i++) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_coeff[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i + 1] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i];
    }
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[0] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_coeff[1];
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__d - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_coeff[0] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum = 0.0f;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum = 0.0f;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i = 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i < 1; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i++) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_coeff[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i + 1] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i];
    }
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[0] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_coeff[1];
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__q - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_coeff[0] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Bus Split1
    _back_up_diesel_gen_control_bus_split1__out = _back_up_diesel_gen_measurements_bus_join1__out[0];
    _back_up_diesel_gen_control_bus_split1__out1 = _back_up_diesel_gen_measurements_bus_join1__out[1];
    _back_up_diesel_gen_control_bus_split1__out2 = _back_up_diesel_gen_measurements_bus_join1__out[2];
    _back_up_diesel_gen_control_bus_split1__out3 = _back_up_diesel_gen_measurements_bus_join1__out[3];
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.S
    HIL_OutAO(0x401f, (float)_back_up_diesel_gen_measurements_gain7__out);
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Q
    HIL_OutAO(0x401e, (float)_back_up_diesel_gen_measurements_gain8__out);
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.P
    HIL_OutAO(0x401d, (float)_back_up_diesel_gen_measurements_gain9__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.and
    _back_up_diesel_gen_sync_check_check_v_diff_and__out = _back_up_diesel_gen_sync_check_check_v_diff_less_equal__out && _back_up_diesel_gen_sync_check_check_v_diff_greater_equal__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.f_match
    HIL_OutInt32(0xf00410, _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.en_switch
    _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_en_switch__out = (_back_up_diesel_gen_sync_check_check_phase_diff_comparator2__out > 0.0f) ? _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_1__out : _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_0__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.not
    _back_up_diesel_gen_sync_check_check_phase_diff_counter_not__out = !_back_up_diesel_gen_sync_check_check_phase_diff_comparator2__out;
    // Generated from the component: Back-Up.DG_in.Bus Join2
    _back_up_dg_in_bus_join2__out[0] = _back_up_dg_in_logical_operator1__out;
    _back_up_dg_in_bus_join2__out[1] = _back_up_dg_in_vref__out;
    _back_up_dg_in_bus_join2__out[2] = _back_up_dg_in_wref__out;
    _back_up_dg_in_bus_join2__out[3] = _back_up_dg_in_pref__out;
    _back_up_dg_in_bus_join2__out[4] = _back_up_dg_in_pf_ref__out;
    _back_up_dg_in_bus_join2__out[5] = _back_up_dg_in_gen_op_mode__out;
    _back_up_dg_in_bus_join2__out[6] = _back_up_dg_in_gen_control_mode__out;
    _back_up_dg_in_bus_join2__out[7] = _back_up_dg_in_load_share_on__out;
    _back_up_dg_in_bus_join2__out[8] = _back_up_dg_in_load_share__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF3
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__a_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_coeff[_dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i + 1] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf3__i];
    }
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__a_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__states[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__a_coeff[1];
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__delay_line_in = _dg_800kw_diesel_gen_control_exciter_dc4b_variable_limit__out - _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__a_sum;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_coeff[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__delay_line_in;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__out = _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.check_steady_state_w.Comparator3
    if (_dg_800kw_diesel_gen_control_check_steady_state_w_speed_diff__out < _dg_800kw_diesel_gen_control_check_steady_state_w_abs1__out) {
        _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__out = 0;
    } else if (_dg_800kw_diesel_gen_control_check_steady_state_w_speed_diff__out > _dg_800kw_diesel_gen_control_check_steady_state_w_abs1__out) {
        _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__out = 1;
    } else {
        _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__out = _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__state;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.ABC_dqz.abc to alpha beta
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha = (2.0 * _dg_800kw_diesel_gen_sync_check_plls_split__out - _dg_800kw_diesel_gen_sync_check_plls_split__out1 - _dg_800kw_diesel_gen_sync_check_plls_split__out2) * 0.3333333333333333;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta = (_dg_800kw_diesel_gen_sync_check_plls_split__out1 - _dg_800kw_diesel_gen_sync_check_plls_split__out2) * 0.5773502691896258;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__gamma = (_dg_800kw_diesel_gen_sync_check_plls_split__out + _dg_800kw_diesel_gen_sync_check_plls_split__out1 + _dg_800kw_diesel_gen_sync_check_plls_split__out2) * 0.3333333333333333;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Gain1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out = 714.2857004093205 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum8__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_d
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum = 0.0f;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum = 0.0f;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i = 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i < 1; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i++) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_coeff[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i + 1] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__i];
    }
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[0] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_coeff[1];
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__d - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__a_sum;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_coeff[0] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum = 0.0f;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum = 0.0f;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i = 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i < 1; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i++) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_coeff[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i + 1] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__i];
    }
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[0] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_coeff[1];
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_abc_dqz_alpha_beta_to_dq__q - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__a_sum;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_coeff[0] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Bus Split1
    _dg_800kw_diesel_gen_control_bus_split1__out = _dg_800kw_diesel_gen_measurements_bus_join1__out[0];
    _dg_800kw_diesel_gen_control_bus_split1__out1 = _dg_800kw_diesel_gen_measurements_bus_join1__out[1];
    _dg_800kw_diesel_gen_control_bus_split1__out2 = _dg_800kw_diesel_gen_measurements_bus_join1__out[2];
    _dg_800kw_diesel_gen_control_bus_split1__out3 = _dg_800kw_diesel_gen_measurements_bus_join1__out[3];
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.S
    HIL_OutAO(0x4035, (float)_dg_800kw_diesel_gen_measurements_gain7__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Q
    HIL_OutAO(0x4034, (float)_dg_800kw_diesel_gen_measurements_gain8__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Gain10
    _dg_800kw_diesel_gen_measurements_gain10__out = 66.6875 * _dg_800kw_diesel_gen_measurements_gain9__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Gain12
    _dg_800kw_diesel_gen_measurements_gain12__out = 1067.0 * _dg_800kw_diesel_gen_measurements_gain9__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.P
    HIL_OutAO(0x4033, (float)_dg_800kw_diesel_gen_measurements_gain9__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.and
    _dg_800kw_diesel_gen_sync_check_check_v_diff_and__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_less_equal__out && _dg_800kw_diesel_gen_sync_check_check_v_diff_greater_equal__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.f_match
    HIL_OutInt32(0xf00420, _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.en_switch
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_en_switch__out = (_dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__out > 0.0f) ? _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_1__out : _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_const_value_0__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.not
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_not__out = !_dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Island detection (modified SFS).Product1
    _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__product1__out = (_ess_battery_inverter_control_imode_control_island_detection__modified_sfs__sum11__out * _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__constant7__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Sum4
    _ess_battery_inverter_control_synch_check_nominal_conditions_sum4__out = _ess_battery_inverter_control_synch_check_nominal_conditions_abs3__out - _ess_battery_inverter_control_synch_check_nominal_conditions_nominal_frequency__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.b0
    _ess_battery_inverter_control_synch_phase_match_low_pass_b0__out = 9.82591682e-06 * _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Sum4
    _ess_battery_inverter_control_synch_check_grid_sum4__out = _ess_battery_inverter_control_synch_check_grid_abs3__out - _ess_battery_inverter_control_synch_check_grid_nominal_frequency__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.b0
    _ess_battery_inverter_control_synch_f_match_low_pass_b0__out = 9.82591682e-06 * _ess_battery_inverter_control_synch_f_match_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Sum2
    _ess_battery_inverter_control_synch_f_match_low_pass_sum2__out = _ess_battery_inverter_control_synch_f_match_low_pass_b1__out + _ess_battery_inverter_control_synch_f_match_low_pass_sum3__out - _ess_battery_inverter_control_synch_f_match_low_pass_a1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Sum2
    _ess_battery_inverter_control_synch_phase_match_low_pass_sum2__out = _ess_battery_inverter_control_synch_phase_match_low_pass_b1__out + _ess_battery_inverter_control_synch_phase_match_low_pass_sum3__out - _ess_battery_inverter_control_synch_phase_match_low_pass_a1__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.abc to dq.LPF_d
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_sum = 0.0f;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_sum = 0.0f;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i = 0; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i < 1; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i++) {
        _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_sum += _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_coeff[_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i + 1] * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__states[_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__i];
    }
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_sum += _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__states[0] * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_coeff[1];
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__delay_line_in = (_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__d - _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_sum) / _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__a_coeff[0];
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_sum += _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_coeff[0] * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__delay_line_in;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__out = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.abc to dq.LPF_q
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_sum = 0.0f;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_sum = 0.0f;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i = 0; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i < 1; _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i++) {
        _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_sum += _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_coeff[_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i + 1] * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__states[_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__i];
    }
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_sum += _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__states[0] * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_coeff[1];
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__delay_line_in = (_ess_battery_inverter_control_pll_pu_pll_abc_to_dq_alpha_beta_to_dq__q - _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_sum) / _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__a_coeff[0];
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_sum += _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_coeff[0] * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__delay_line_in;
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__out = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.abc to dq.LPF_d
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_sum = 0.0f;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_sum = 0.0f;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i = 0; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i < 1; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i++) {
        _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_sum += _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_coeff[_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i + 1] * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__states[_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__i];
    }
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_sum += _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__states[0] * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_coeff[1];
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__delay_line_in = (_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__d - _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_sum) / _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__a_coeff[0];
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_sum += _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_coeff[0] * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__delay_line_in;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__out = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.abc to dq.LPF_q
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_sum = 0.0f;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_sum = 0.0f;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i = 0; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i < 1; _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i++) {
        _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_sum += _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_coeff[_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i + 1] * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__states[_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__i];
    }
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_sum += _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__states[0] * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_coeff[1];
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__delay_line_in = (_ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_alpha_beta_to_dq__q - _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_sum) / _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__a_coeff[0];
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_sum += _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_coeff[0] * _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__delay_line_in;
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__out = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ.Gain1
    _ess_battery_inverter_control_abctodq_gain1__out = 0.0005094938664989009 * _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__d;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ.Gain2
    _ess_battery_inverter_control_abctodq_gain2__out = 0.0005094938664989009 * _ess_battery_inverter_control_abctodq_abc_to_dq1_alpha_beta_to_dq__q;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ1.Gain1
    _ess_battery_inverter_control_abctodq1_gain1__out = 0.0005094938664989009 * _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__d;
    // Generated from the component: ESS.Battery inverter.Control.ABCtoDQ1.Gain2
    _ess_battery_inverter_control_abctodq1_gain2__out = 0.0005094938664989009 * _ess_battery_inverter_control_abctodq1_abc_to_dq1_alpha_beta_to_dq__q;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Gain5
    _ess_battery_inverter_control_imode_control_dq_current_controller_gain5__out = 0.5 * _ess_battery_inverter_control_imode_control_dq_current_controller_limit3__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.Gain5
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_gain5__out = 1.2 * _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_limit3__out;
    // Generated from the component: Microgrid_controller.SM
    _microgrid_controller_sm__CB = _microgrid_controller_rate_transition2_output__out;
    _microgrid_controller_sm__ON = _microgrid_controller_logical_operator1__out;
    _microgrid_controller_sm__operation = _op_mode__out;
    _microgrid_controller_sm__zeroed = _microgrid_controller_is_zero__zeroed;
    if (_microgrid_controller_sm__CB == 0) {
        _microgrid_controller_sm__gridform = 1;
        _microgrid_controller_sm__zeropower = 0;
        if (_microgrid_controller_sm__operation == 0) {
            _microgrid_controller_sm__close_cb = 1;
            _microgrid_controller_sm__open_cb = 0;
        }
    }
    else {
        _microgrid_controller_sm__gridform = 0;
        _microgrid_controller_sm__zeropower = 0;
        if (_microgrid_controller_sm__operation != 0) {
            _microgrid_controller_sm__gridform = 0;
            if (_microgrid_controller_sm__ON) {
                _microgrid_controller_sm__zeropower = 1;
            }
            else {
                _microgrid_controller_sm__zeropower = 0;
            }
            if (_microgrid_controller_sm__zeroed) {
                _microgrid_controller_sm__close_cb = 0;
                _microgrid_controller_sm__open_cb = 1;
                _microgrid_controller_sm__zeropower = 0;
            }
        }
    }
    // Generated from the component: Microgrid_controller.zeroed
    HIL_OutInt32(0xf00434, _microgrid_controller_is_zero__zeroed != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.f_ABC_nom
    HIL_OutAO(0x408e, (float)_pcc_monitor_synch_check_check_f_diff_interval_check__out);
    // Generated from the component: PCC_monitor.Synch_check.f_ABC_nom
    HIL_OutInt32(0xf0043e, _pcc_monitor_synch_check_check_f_diff_interval_check__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Gain1
    _pcc_monitor_synch_check_plls_pll_pid_gain1__out = 714.2857004093205 * _pcc_monitor_synch_check_plls_pll_pid_sum8__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.interval_check
    _pcc_monitor_synch_check_check_v_diff_interval_check__in = _pcc_monitor_synch_check_check_v_diff_abs4__out;
    if ((_pcc_monitor_synch_check_check_v_diff_interval_check__in >= (1 - 10.0 / 100.0)) && _pcc_monitor_synch_check_check_v_diff_interval_check__in <= (1 + 10.0 / 100.0)) {
        _pcc_monitor_synch_check_check_v_diff_interval_check__out = 1;
    }
    else {
        _pcc_monitor_synch_check_check_v_diff_interval_check__out = 0;
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Gain1
    _pcc_monitor_synch_check_plls_pll1_pid_gain1__out = 714.2857004093205 * _pcc_monitor_synch_check_plls_pll1_pid_sum8__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.less_eq
    _pcc_monitor_synch_check_check_v_diff_less_eq__in = _pcc_monitor_synch_check_check_v_diff_abs5__out;
    if (_pcc_monitor_synch_check_check_v_diff_less_eq__in <= 0.001) {
        _pcc_monitor_synch_check_check_v_diff_less_eq__out = 1;
    }
    else {
        _pcc_monitor_synch_check_check_v_diff_less_eq__out = 0;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Abs3
    _pcc_monitor_synch_check_check_v_diff_abs3__out = fabs(_pcc_monitor_synch_check_check_v_diff_sum1__out);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Ki
    _pcc_monitor_synch_check_check_v_diff_pi_ki__out = 0.0354 * _pcc_monitor_synch_check_check_v_diff_sum1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Kp
    _pcc_monitor_synch_check_check_v_diff_pi_kp__out = 0.0071 * _pcc_monitor_synch_check_check_v_diff_sum1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.V_diff
    HIL_OutAO(0x408c, (float)_pcc_monitor_synch_check_check_v_diff_sum1__out);
    // Generated from the component: PCC_monitor.Synch_check.f_match
    HIL_OutInt32(0xf0043f, _pcc_monitor_synch_check_check_f_diff_comparator1__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Limit1
    if (_pcc_monitor_synch_check_check_f_diff_pi_sum5__out > 1.0) {
        _pcc_monitor_synch_check_check_f_diff_pi_limit1__out = 1.0;
    } else if (_pcc_monitor_synch_check_check_f_diff_pi_sum5__out < -1.0) {
        _pcc_monitor_synch_check_check_f_diff_pi_limit1__out = -1.0;
    } else {
        _pcc_monitor_synch_check_check_f_diff_pi_limit1__out = _pcc_monitor_synch_check_check_f_diff_pi_sum5__out;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.Counter1.en_switch
    _pcc_monitor_synch_check_check_phase_diff_counter_counter1_en_switch__out = (_pcc_monitor_synch_check_check_phase_diff_comparator2__out > 0.0f) ? _pcc_monitor_synch_check_check_phase_diff_counter_counter1_const_value_1__out : _pcc_monitor_synch_check_check_phase_diff_counter_counter1_const_value_0__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.not
    _pcc_monitor_synch_check_check_phase_diff_counter_not__out = !_pcc_monitor_synch_check_check_phase_diff_comparator2__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.LPF_d
    _pcc_monitor_synch_check_plls_pll_lpf_d__a_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll_lpf_d__b_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll_lpf_d__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_plls_pll_lpf_d__i = 0; _pcc_monitor_synch_check_plls_pll_lpf_d__i < 1; _pcc_monitor_synch_check_plls_pll_lpf_d__i++) {
        _pcc_monitor_synch_check_plls_pll_lpf_d__b_sum += _pcc_monitor_synch_check_plls_pll_lpf_d__b_coeff[_pcc_monitor_synch_check_plls_pll_lpf_d__i + 1] * _pcc_monitor_synch_check_plls_pll_lpf_d__states[_pcc_monitor_synch_check_plls_pll_lpf_d__i];
    }
    _pcc_monitor_synch_check_plls_pll_lpf_d__a_sum += _pcc_monitor_synch_check_plls_pll_lpf_d__states[0] * _pcc_monitor_synch_check_plls_pll_lpf_d__a_coeff[1];
    _pcc_monitor_synch_check_plls_pll_lpf_d__delay_line_in = _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__d - _pcc_monitor_synch_check_plls_pll_lpf_d__a_sum;
    _pcc_monitor_synch_check_plls_pll_lpf_d__b_sum += _pcc_monitor_synch_check_plls_pll_lpf_d__b_coeff[0] * _pcc_monitor_synch_check_plls_pll_lpf_d__delay_line_in;
    _pcc_monitor_synch_check_plls_pll_lpf_d__out = _pcc_monitor_synch_check_plls_pll_lpf_d__b_sum;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.LPF_q
    _pcc_monitor_synch_check_plls_pll_lpf_q__a_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll_lpf_q__b_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll_lpf_q__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_plls_pll_lpf_q__i = 0; _pcc_monitor_synch_check_plls_pll_lpf_q__i < 1; _pcc_monitor_synch_check_plls_pll_lpf_q__i++) {
        _pcc_monitor_synch_check_plls_pll_lpf_q__b_sum += _pcc_monitor_synch_check_plls_pll_lpf_q__b_coeff[_pcc_monitor_synch_check_plls_pll_lpf_q__i + 1] * _pcc_monitor_synch_check_plls_pll_lpf_q__states[_pcc_monitor_synch_check_plls_pll_lpf_q__i];
    }
    _pcc_monitor_synch_check_plls_pll_lpf_q__a_sum += _pcc_monitor_synch_check_plls_pll_lpf_q__states[0] * _pcc_monitor_synch_check_plls_pll_lpf_q__a_coeff[1];
    _pcc_monitor_synch_check_plls_pll_lpf_q__delay_line_in = _pcc_monitor_synch_check_plls_pll_abc_dqz_alpha_beta_to_dq__q - _pcc_monitor_synch_check_plls_pll_lpf_q__a_sum;
    _pcc_monitor_synch_check_plls_pll_lpf_q__b_sum += _pcc_monitor_synch_check_plls_pll_lpf_q__b_coeff[0] * _pcc_monitor_synch_check_plls_pll_lpf_q__delay_line_in;
    _pcc_monitor_synch_check_plls_pll_lpf_q__out = _pcc_monitor_synch_check_plls_pll_lpf_q__b_sum;
    // Generated from the component: Microgrid_controller.Rate Transition1.Input
    _microgrid_controller_rate_transition1_output__out[0] = _pcc_monitor_bus_join1__out[0];
    _microgrid_controller_rate_transition1_output__out[1] = _pcc_monitor_bus_join1__out[1];
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.LPF_d
    _pcc_monitor_synch_check_plls_pll1_lpf_d__a_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll1_lpf_d__b_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll1_lpf_d__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_plls_pll1_lpf_d__i = 0; _pcc_monitor_synch_check_plls_pll1_lpf_d__i < 1; _pcc_monitor_synch_check_plls_pll1_lpf_d__i++) {
        _pcc_monitor_synch_check_plls_pll1_lpf_d__b_sum += _pcc_monitor_synch_check_plls_pll1_lpf_d__b_coeff[_pcc_monitor_synch_check_plls_pll1_lpf_d__i + 1] * _pcc_monitor_synch_check_plls_pll1_lpf_d__states[_pcc_monitor_synch_check_plls_pll1_lpf_d__i];
    }
    _pcc_monitor_synch_check_plls_pll1_lpf_d__a_sum += _pcc_monitor_synch_check_plls_pll1_lpf_d__states[0] * _pcc_monitor_synch_check_plls_pll1_lpf_d__a_coeff[1];
    _pcc_monitor_synch_check_plls_pll1_lpf_d__delay_line_in = _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__d - _pcc_monitor_synch_check_plls_pll1_lpf_d__a_sum;
    _pcc_monitor_synch_check_plls_pll1_lpf_d__b_sum += _pcc_monitor_synch_check_plls_pll1_lpf_d__b_coeff[0] * _pcc_monitor_synch_check_plls_pll1_lpf_d__delay_line_in;
    _pcc_monitor_synch_check_plls_pll1_lpf_d__out = _pcc_monitor_synch_check_plls_pll1_lpf_d__b_sum;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.LPF_q
    _pcc_monitor_synch_check_plls_pll1_lpf_q__a_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll1_lpf_q__b_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll1_lpf_q__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_plls_pll1_lpf_q__i = 0; _pcc_monitor_synch_check_plls_pll1_lpf_q__i < 1; _pcc_monitor_synch_check_plls_pll1_lpf_q__i++) {
        _pcc_monitor_synch_check_plls_pll1_lpf_q__b_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q__b_coeff[_pcc_monitor_synch_check_plls_pll1_lpf_q__i + 1] * _pcc_monitor_synch_check_plls_pll1_lpf_q__states[_pcc_monitor_synch_check_plls_pll1_lpf_q__i];
    }
    _pcc_monitor_synch_check_plls_pll1_lpf_q__a_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q__states[0] * _pcc_monitor_synch_check_plls_pll1_lpf_q__a_coeff[1];
    _pcc_monitor_synch_check_plls_pll1_lpf_q__delay_line_in = _pcc_monitor_synch_check_plls_pll1_abc_dqz_alpha_beta_to_dq__q - _pcc_monitor_synch_check_plls_pll1_lpf_q__a_sum;
    _pcc_monitor_synch_check_plls_pll1_lpf_q__b_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q__b_coeff[0] * _pcc_monitor_synch_check_plls_pll1_lpf_q__delay_line_in;
    _pcc_monitor_synch_check_plls_pll1_lpf_q__out = _pcc_monitor_synch_check_plls_pll1_lpf_q__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.ABC_dqz.alpha beta to dq
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1 = cos(_back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out);
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2 = sin(_back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out);
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__d = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha - _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__q = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha + _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Term
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum5
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kp__out + _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out + _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Vt_to_Vtpu
    _back_up_diesel_gen_control_exciter_vt_to_vtpu__out = 0.005888196497074948 * _back_up_diesel_gen_control_bus_split1__out2;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.to_pu
    _back_up_diesel_gen_control_exciter_to_pu__out = 1.4285714285714285e-05 * _back_up_diesel_gen_control_bus_split1__out1;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.P_3ph_to_pu
    _back_up_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out = 1.4285714285714285e-05 * _back_up_diesel_gen_control_bus_split1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.to_pu
    _back_up_diesel_gen_control_governor_and_engine_to_pu__out = 1.4285714285714285e-05 * _back_up_diesel_gen_control_bus_split1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.norm_pf_meas
    _back_up_diesel_gen_control_pf_control_norm_pf_meas__Q = _back_up_diesel_gen_control_bus_split1__out1;
    _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf = _back_up_diesel_gen_control_bus_split1__out3;
    if (_back_up_diesel_gen_control_pf_control_norm_pf_meas__pf >= 0) {
        if (_back_up_diesel_gen_control_pf_control_norm_pf_meas__Q >= 0) {
            _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = 2 - _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
        else {
            _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
    }
    else {
        if (_back_up_diesel_gen_control_pf_control_norm_pf_meas__Q >= 0) {
            _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = 2 + _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
        else {
            _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = -_back_up_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Bus Split3
    _back_up_diesel_gen_control_bus_split3__out = _back_up_dg_in_bus_join2__out[0];
    _back_up_diesel_gen_control_bus_split3__out1 = _back_up_dg_in_bus_join2__out[1];
    _back_up_diesel_gen_control_bus_split3__out2 = _back_up_dg_in_bus_join2__out[2];
    _back_up_diesel_gen_control_bus_split3__out3 = _back_up_dg_in_bus_join2__out[3];
    _back_up_diesel_gen_control_bus_split3__out4 = _back_up_dg_in_bus_join2__out[4];
    _back_up_diesel_gen_control_bus_split3__out5 = _back_up_dg_in_bus_join2__out[5];
    _back_up_diesel_gen_control_bus_split3__out6 = _back_up_dg_in_bus_join2__out[6];
    _back_up_diesel_gen_control_bus_split3__out7 = _back_up_dg_in_bus_join2__out[7];
    _back_up_diesel_gen_control_bus_split3__out8 = _back_up_dg_in_bus_join2__out[8];
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.ABC_dqz.alpha beta to dq
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1 = cos(_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out);
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2 = sin(_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__out);
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__d = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha - _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__q = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k1 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__alpha + _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__k2 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_abc_to_alpha_beta__beta;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Term
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum5
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kp__out + _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out + _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Vt_to_Vtpu
    _dg_800kw_diesel_gen_control_exciter_vt_to_vtpu__out = 0.00029440982485374735 * _dg_800kw_diesel_gen_control_bus_split1__out2;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.to_pu
    _dg_800kw_diesel_gen_control_exciter_to_pu__out = 9.372071227741331e-07 * _dg_800kw_diesel_gen_control_bus_split1__out1;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.P_3ph_to_pu
    _dg_800kw_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out = 9.372071227741331e-07 * _dg_800kw_diesel_gen_control_bus_split1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.to_pu
    _dg_800kw_diesel_gen_control_governor_and_engine_to_pu__out = 9.372071227741331e-07 * _dg_800kw_diesel_gen_control_bus_split1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.norm_pf_meas
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__Q = _dg_800kw_diesel_gen_control_bus_split1__out1;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf = _dg_800kw_diesel_gen_control_bus_split1__out3;
    if (_dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf >= 0) {
        if (_dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__Q >= 0) {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = 2 - _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
        else {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
    }
    else {
        if (_dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__Q >= 0) {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = 2 + _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
        else {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm = -_dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Sum1
    _dg_800kw_diesel_gen_measurements_sum1__out = _dg_800kw_diesel_gen_measurements_constant1__out + _dg_800kw_diesel_gen_measurements_gain10__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Island detection (modified SFS).Gain6
    _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__gain6__out = 94.24777960769379 * _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__product1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Abs1
    _ess_battery_inverter_control_synch_check_nominal_conditions_abs1__out = fabs(_ess_battery_inverter_control_synch_check_nominal_conditions_sum4__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Abs1
    _ess_battery_inverter_control_synch_check_grid_abs1__out = fabs(_ess_battery_inverter_control_synch_check_grid_sum4__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Sum1
    _ess_battery_inverter_control_synch_f_match_low_pass_sum1__out = _ess_battery_inverter_control_synch_f_match_low_pass_b0__out + _ess_battery_inverter_control_synch_f_match_low_pass_sum2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Sum1
    _ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out = _ess_battery_inverter_control_synch_phase_match_low_pass_b0__out + _ess_battery_inverter_control_synch_phase_match_low_pass_sum2__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.Gain4
    _ess_battery_inverter_control_pll_pu_gain4__out = 0.005888196497074948 * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.Gain5
    _ess_battery_inverter_control_pll_pu_gain5__out = 0.005888196497074948 * _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.normalize
    _ess_battery_inverter_control_pll_pu_pll_normalize__in1 = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__out;
    _ess_battery_inverter_control_pll_pu_pll_normalize__in2 = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__out;
    _ess_battery_inverter_control_pll_pu_pll_normalize__pk = (powf(_ess_battery_inverter_control_pll_pu_pll_normalize__in1, 2.0) + powf(_ess_battery_inverter_control_pll_pu_pll_normalize__in2, 2.0));
    _ess_battery_inverter_control_pll_pu_pll_normalize__pk = sqrt(_ess_battery_inverter_control_pll_pu_pll_normalize__pk);
    if (_ess_battery_inverter_control_pll_pu_pll_normalize__pk < 0.1) {
        _ess_battery_inverter_control_pll_pu_pll_normalize__in2_pu = _ess_battery_inverter_control_pll_pu_pll_normalize__in2 / 0.1;
    }
    else {
        _ess_battery_inverter_control_pll_pu_pll_normalize__in2_pu = _ess_battery_inverter_control_pll_pu_pll_normalize__in2 / _ess_battery_inverter_control_pll_pu_pll_normalize__pk;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.Termination3
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.normalize
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__in1 = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__out;
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2 = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__out;
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__pk = (powf(_ess_battery_inverter_control_synch_pll_util_pll_normalize__in1, 2.0) + powf(_ess_battery_inverter_control_synch_pll_util_pll_normalize__in2, 2.0));
    _ess_battery_inverter_control_synch_pll_util_pll_normalize__pk = sqrt(_ess_battery_inverter_control_synch_pll_util_pll_normalize__pk);
    if (_ess_battery_inverter_control_synch_pll_util_pll_normalize__pk < 0.1) {
        _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2_pu = _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2 / 0.1;
    }
    else {
        _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2_pu = _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2 / _ess_battery_inverter_control_synch_pll_util_pll_normalize__pk;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.Termination2
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Gain7
    _ess_battery_inverter_control_imode_control_dq_current_controller_gain7__out = 0.4356868509971052 * _ess_battery_inverter_control_abctodq1_gain1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.damper.Id_damp
    _ess_battery_inverter_control_imode_control_dq_current_controller_damper_id_damp__out = -0.272 * _ess_battery_inverter_control_abctodq1_gain1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Gain4
    _ess_battery_inverter_control_imode_control_dq_current_controller_gain4__out = 0.4356868509971052 * _ess_battery_inverter_control_abctodq1_gain2__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.damper.Iq_damp
    _ess_battery_inverter_control_imode_control_dq_current_controller_damper_iq_damp__out = -0.272 * _ess_battery_inverter_control_abctodq1_gain2__out;
    // Generated from the component: Microgrid_controller.Bus Join1
    _microgrid_controller_bus_join1__out[0] = _microgrid_controller_sm__close_cb;
    _microgrid_controller_bus_join1__out[1] = _microgrid_controller_sm__open_cb;
    // Generated from the component: Microgrid_controller.PI_P.Integrator1
    if (((_microgrid_controller_sm__zeropower > 0.0) && (_microgrid_controller_pi_p_integrator1__reset_state <= 0)) || ((_microgrid_controller_sm__zeropower <= 0.0) && (_microgrid_controller_pi_p_integrator1__reset_state == 1))) {
        _microgrid_controller_pi_p_integrator1__state = 0.0;
    }
    _microgrid_controller_pi_p_integrator1__out = _microgrid_controller_pi_p_integrator1__state;
    // Generated from the component: Microgrid_controller.PI_Q.Integrator1
    if (((_microgrid_controller_sm__zeropower > 0.0) && (_microgrid_controller_pi_q_integrator1__reset_state <= 0)) || ((_microgrid_controller_sm__zeropower <= 0.0) && (_microgrid_controller_pi_q_integrator1__reset_state == 1))) {
        _microgrid_controller_pi_q_integrator1__state = 0.0;
    }
    _microgrid_controller_pi_q_integrator1__out = _microgrid_controller_pi_q_integrator1__state;
    // Generated from the component: Microgrid_controller.Signal switch1
    _microgrid_controller_signal_switch1__out = (_microgrid_controller_sm__zeropower > 0.0f) ? _microgrid_controller_bus_split1__out : _microgrid_controller_constant1__out;
    // Generated from the component: Microgrid_controller.Signal switch3
    _microgrid_controller_signal_switch3__out = (_microgrid_controller_sm__zeropower > 0.0f) ? _microgrid_controller_bus_split1__out1 : _microgrid_controller_constant4__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Sum5
    _pcc_monitor_synch_check_plls_pll_pid_sum5__out = _pcc_monitor_synch_check_plls_pll_pid_kp__out + _pcc_monitor_synch_check_plls_pll_pid_gain1__out + _pcc_monitor_synch_check_plls_pll_pid_integrator1__out;
    // Generated from the component: PCC_monitor.Synch_check.Logical operator2
    _pcc_monitor_synch_check_logical_operator2__out = _pcc_monitor_synch_check_check_v_diff_interval_check__out && _pcc_monitor_synch_check_check_f_diff_interval_check__out ;
    // Generated from the component: PCC_monitor.Synch_check.VABC_nom
    HIL_OutInt32(0xf0043b, _pcc_monitor_synch_check_check_v_diff_interval_check__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.VABC_nom
    HIL_OutAO(0x408b, (float)_pcc_monitor_synch_check_check_v_diff_interval_check__out);
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Sum5
    _pcc_monitor_synch_check_plls_pll1_pid_sum5__out = _pcc_monitor_synch_check_plls_pll1_pid_kp__out + _pcc_monitor_synch_check_plls_pll1_pid_gain1__out + _pcc_monitor_synch_check_plls_pll1_pid_integrator1__out;
    // Generated from the component: PCC_monitor.Synch_check.abc_dead
    HIL_OutInt32(0xf0043d, _pcc_monitor_synch_check_check_v_diff_less_eq__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Vabc_dead
    HIL_OutAO(0x408d, (float)_pcc_monitor_synch_check_check_v_diff_less_eq__out);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Comparator1
    if (_pcc_monitor_synch_check_check_v_diff_volt_diff__out < _pcc_monitor_synch_check_check_v_diff_abs3__out) {
        _pcc_monitor_synch_check_check_v_diff_comparator1__out = 0;
    } else if (_pcc_monitor_synch_check_check_v_diff_volt_diff__out > _pcc_monitor_synch_check_check_v_diff_abs3__out) {
        _pcc_monitor_synch_check_check_v_diff_comparator1__out = 1;
    } else {
        _pcc_monitor_synch_check_check_v_diff_comparator1__out = _pcc_monitor_synch_check_check_v_diff_comparator1__state;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Sum5
    _pcc_monitor_synch_check_check_v_diff_pi_sum5__out = _pcc_monitor_synch_check_check_v_diff_pi_kp__out + _pcc_monitor_synch_check_check_v_diff_pi_integrator1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Sum6
    _pcc_monitor_synch_check_check_f_diff_pi_sum6__out =  - _pcc_monitor_synch_check_check_f_diff_pi_sum5__out + _pcc_monitor_synch_check_check_f_diff_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Normalize.V_terminal
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__d;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__q;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t = (powf(_back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d, 2.0) + powf(_back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q, 2.0));
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t = sqrt(_back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t);
    if (_back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t < 0.1) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q / 0.1;
    }
    else {
        _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q / _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.Term
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.Term1
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Limit1
    if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out > 527.7875658030853) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out = 527.7875658030853;
    } else if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out < 263.89378290154264) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out = 263.89378290154264;
    } else {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF1
    _back_up_diesel_gen_control_exciter_dc4b_tf1__a_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf1__b_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf1__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf1__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf1__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf1__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf1__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf1__b_coeff[_back_up_diesel_gen_control_exciter_dc4b_tf1__i + 1] * _back_up_diesel_gen_control_exciter_dc4b_tf1__states[_back_up_diesel_gen_control_exciter_dc4b_tf1__i];
    }
    _back_up_diesel_gen_control_exciter_dc4b_tf1__a_sum += _back_up_diesel_gen_control_exciter_dc4b_tf1__states[0] * _back_up_diesel_gen_control_exciter_dc4b_tf1__a_coeff[1];
    _back_up_diesel_gen_control_exciter_dc4b_tf1__delay_line_in = _back_up_diesel_gen_control_exciter_vt_to_vtpu__out - _back_up_diesel_gen_control_exciter_dc4b_tf1__a_sum;
    _back_up_diesel_gen_control_exciter_dc4b_tf1__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf1__b_coeff[0] * _back_up_diesel_gen_control_exciter_dc4b_tf1__delay_line_in;
    _back_up_diesel_gen_control_exciter_dc4b_tf1__out = _back_up_diesel_gen_control_exciter_dc4b_tf1__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Vt
    HIL_OutAO(0x4010, (float)_back_up_diesel_gen_control_exciter_vt_to_vtpu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Product2
    _back_up_diesel_gen_control_exciter_product2__out = (_back_up_diesel_gen_control_unit_delay3__out * _back_up_diesel_gen_control_exciter_to_pu__out * _back_up_diesel_gen_control_exciter_one_ov_sqrt_3__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Product1
    _back_up_diesel_gen_control_freq_setpoint_control_product1__out = (_back_up_diesel_gen_control_freq_setpoint_control_w_droop__out * _back_up_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Product3
    _back_up_diesel_gen_control_freq_setpoint_control_product3__out = (_back_up_diesel_gen_control_freq_setpoint_control_w_to_wpu__out * _back_up_diesel_gen_control_freq_setpoint_control_p_droop__out * _back_up_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.Product1
    _back_up_diesel_gen_control_governor_and_engine_product1__out = (_back_up_diesel_gen_control_governor_and_engine_to_pu__out * _back_up_diesel_gen_control_governor_and_engine_inner_w_droop__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.pf_m
    HIL_OutAO(0x401b, (float)_back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Define_control_mode.Control_mode
    _back_up_diesel_gen_control_define_control_mode_control_mode__Control_mode = _back_up_diesel_gen_control_bus_split3__out6;
    if (_back_up_diesel_gen_control_define_control_mode_control_mode__Control_mode == 1) {
        _back_up_diesel_gen_control_define_control_mode_control_mode__P_control = 1;
        _back_up_diesel_gen_control_define_control_mode_control_mode__Q_control = 0;
    }
    else {
        if (_back_up_diesel_gen_control_define_control_mode_control_mode__Control_mode == 2) {
            _back_up_diesel_gen_control_define_control_mode_control_mode__P_control = 1;
            _back_up_diesel_gen_control_define_control_mode_control_mode__Q_control = 1;
        }
        else {
            _back_up_diesel_gen_control_define_control_mode_control_mode__P_control = 0;
            _back_up_diesel_gen_control_define_control_mode_control_mode__Q_control = 0;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.P_limit
    if (_back_up_diesel_gen_control_bus_split3__out3 > 0.8) {
        _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out = 0.8;
    } else if (_back_up_diesel_gen_control_bus_split3__out3 < 0.0) {
        _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out = 0.0;
    } else {
        _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out = _back_up_diesel_gen_control_bus_split3__out3;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.load_share_switch
    _back_up_diesel_gen_control_freq_setpoint_control_load_share_switch__out = (_back_up_diesel_gen_control_bus_split3__out7 > 0.5f) ? _back_up_diesel_gen_control_bus_split3__out8 : _back_up_diesel_gen_control_freq_setpoint_control_zero1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Gen_On
    HIL_OutInt32(0xf00402, _back_up_diesel_gen_control_bus_split3__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Integrator1
    if (((_back_up_diesel_gen_control_bus_split3__out > 0.0) && (_back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state <= 0)) || ((_back_up_diesel_gen_control_bus_split3__out <= 0.0) && (_back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state == 1))) {
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state = 0.0;
    }
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out = _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.w_switch
    _back_up_diesel_gen_control_governor_and_engine_w_switch__out = (_back_up_diesel_gen_control_bus_split3__out < 0.5f) ? _back_up_diesel_gen_control_governor_and_engine_zero__out : _back_up_diesel_gen_control_bus_split3__out2;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Round1
    _back_up_diesel_gen_control_round1__out =  round(_back_up_diesel_gen_control_bus_split3__out5);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Start_Exciter.and
    _back_up_diesel_gen_control_start_exciter_and__out = _back_up_diesel_gen_control_bus_split3__out && _back_up_diesel_gen_control_start_exciter_comparator1__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.greater_equal
    _back_up_diesel_gen_control_pf_control_greater_equal__out = (_back_up_diesel_gen_control_bus_split3__out3 >= _back_up_diesel_gen_control_pf_control_constant1__out) ? 1 : 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.norm_pf_ref
    _back_up_diesel_gen_control_pf_control_norm_pf_ref__P = _back_up_diesel_gen_control_bus_split1__out;
    _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf = _back_up_diesel_gen_control_bus_split3__out4;
    if (_back_up_diesel_gen_control_pf_control_norm_pf_ref__P >= 0) {
        if (_back_up_diesel_gen_control_pf_control_norm_pf_ref__pf >= 0) {
            _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = 2 - _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
        else {
            _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = -_back_up_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
    }
    else {
        if (_back_up_diesel_gen_control_pf_control_norm_pf_ref__pf >= 0) {
            _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = 2 - _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
        else {
            _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = -_back_up_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Output.Bus Join1
    _back_up_diesel_gen_output_bus_join1__out[0] = _back_up_diesel_gen_control_bus_split3__out;
    _back_up_diesel_gen_output_bus_join1__out[1] = _back_up_diesel_gen_gen_machine_wrapper1__speed_out;
    _back_up_diesel_gen_output_bus_join1__out[2] = _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
    _back_up_diesel_gen_output_bus_join1__out[3] = _back_up_diesel_gen_measurements_va_va1__out;
    _back_up_diesel_gen_output_bus_join1__out[4] = _back_up_diesel_gen_measurements_vb_va1__out;
    _back_up_diesel_gen_output_bus_join1__out[5] = _back_up_diesel_gen_measurements_vc_va1__out;
    _back_up_diesel_gen_output_bus_join1__out[6] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    _back_up_diesel_gen_output_bus_join1__out[7] = _back_up_diesel_gen_measurements_ia_ia1__out;
    _back_up_diesel_gen_output_bus_join1__out[8] = _back_up_diesel_gen_measurements_ib_ia1__out;
    _back_up_diesel_gen_output_bus_join1__out[9] = _back_up_diesel_gen_measurements_ic_ia1__out;
    _back_up_diesel_gen_output_bus_join1__out[10] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
    _back_up_diesel_gen_output_bus_join1__out[11] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
    _back_up_diesel_gen_output_bus_join1__out[12] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
    _back_up_diesel_gen_output_bus_join1__out[13] = _back_up_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Normalize.V_terminal
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__d;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_abc_dqz_alpha_beta_to_dq__q;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t = (powf(_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__d, 2.0) + powf(_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q, 2.0));
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t = sqrt(_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t);
    if (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t < 0.1) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q / 0.1;
    }
    else {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q / _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.Term
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.Term1
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Limit1
    if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out > 527.7875658030853) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out = 527.7875658030853;
    } else if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out < 263.89378290154264) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out = 263.89378290154264;
    } else {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF1
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__a_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_coeff[_dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i + 1] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf1__i];
    }
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__a_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__states[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__a_coeff[1];
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__delay_line_in = _dg_800kw_diesel_gen_control_exciter_vt_to_vtpu__out - _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__a_sum;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_coeff[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__delay_line_in;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__out = _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Vt
    HIL_OutAO(0x402f, (float)_dg_800kw_diesel_gen_control_exciter_vt_to_vtpu__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Product2
    _dg_800kw_diesel_gen_control_exciter_product2__out = (_dg_800kw_diesel_gen_control_unit_delay3__out * _dg_800kw_diesel_gen_control_exciter_to_pu__out * _dg_800kw_diesel_gen_control_exciter_one_ov_sqrt_3__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Product1
    _dg_800kw_diesel_gen_control_freq_setpoint_control_product1__out = (_dg_800kw_diesel_gen_control_freq_setpoint_control_w_droop__out * _dg_800kw_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Product3
    _dg_800kw_diesel_gen_control_freq_setpoint_control_product3__out = (_dg_800kw_diesel_gen_control_freq_setpoint_control_w_to_wpu__out * _dg_800kw_diesel_gen_control_freq_setpoint_control_p_droop__out * _dg_800kw_diesel_gen_control_freq_setpoint_control_p_3ph_to_pu__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.Product1
    _dg_800kw_diesel_gen_control_governor_and_engine_product1__out = (_dg_800kw_diesel_gen_control_governor_and_engine_to_pu__out * _dg_800kw_diesel_gen_control_governor_and_engine_inner_w_droop__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Fuel consumption
    HIL_OutAO(0x4032, (float)_dg_800kw_diesel_gen_measurements_sum1__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Gain11
    _dg_800kw_diesel_gen_measurements_gain11__out = 40.727 * _dg_800kw_diesel_gen_measurements_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Sum12
    _ess_battery_inverter_control_imode_control_sum12__out = _ess_battery_inverter_control_pll_pu_pll_unit_delay1__out + _ess_battery_inverter_control_imode_control_island_detection__modified_sfs__gain6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Comparator1
    if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs1__out < _ess_battery_inverter_control_synch_check_nominal_conditions___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__out = 0;
    } else if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs1__out > _ess_battery_inverter_control_synch_check_nominal_conditions___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__out = 1;
    } else {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__out = _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Comparator1
    if (_ess_battery_inverter_control_synch_check_grid_abs1__out < _ess_battery_inverter_control_synch_check_grid___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_grid_comparator1__out = 0;
    } else if (_ess_battery_inverter_control_synch_check_grid_abs1__out > _ess_battery_inverter_control_synch_check_grid___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_grid_comparator1__out = 1;
    } else {
        _ess_battery_inverter_control_synch_check_grid_comparator1__out = _ess_battery_inverter_control_synch_check_grid_comparator1__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Abs3
    _ess_battery_inverter_control_synch_f_match_abs3__out = fabs(_ess_battery_inverter_control_synch_f_match_low_pass_sum1__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.f_diff
    HIL_OutAO(0x4042, (float)_ess_battery_inverter_control_synch_f_match_low_pass_sum1__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Abs2
    _ess_battery_inverter_control_synch_phase_match_abs2__out = fabs(_ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Ki
    _ess_battery_inverter_control_synch_phase_match_pi_ki__out = 0.5 * _ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Kp
    _ess_battery_inverter_control_synch_phase_match_pi_kp__out = 0.005 * _ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.phase_diff
    HIL_OutAO(0x4043, (float)_ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Product4
    _ess_battery_inverter_control_imode_control_current_ref_product4__out = (_ess_battery_inverter_control_pll_pu_gain4__out * _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Product5
    _ess_battery_inverter_control_imode_control_current_ref_product5__out = (_ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__out * _ess_battery_inverter_control_pll_pu_gain4__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.squared_Vt.Product1
    _ess_battery_inverter_control_imode_control_current_ref_squared_vt_product1__out = (_ess_battery_inverter_control_pll_pu_gain4__out * _ess_battery_inverter_control_pll_pu_gain4__out);
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.Product1
    _ess_battery_inverter_control_power_meas_power_meas_dq_product1__out = (_ess_battery_inverter_control_pll_pu_gain4__out * _ess_battery_inverter_control_abctodq1_gain1__out);
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.Product3
    _ess_battery_inverter_control_power_meas_power_meas_dq_product3__out = (_ess_battery_inverter_control_pll_pu_gain4__out * _ess_battery_inverter_control_abctodq1_gain2__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Product3
    _ess_battery_inverter_control_imode_control_current_ref_product3__out = (_ess_battery_inverter_control_pll_pu_gain5__out * _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Product6
    _ess_battery_inverter_control_imode_control_current_ref_product6__out = (_ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__out * _ess_battery_inverter_control_pll_pu_gain5__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.squared_Vt.Product2
    _ess_battery_inverter_control_imode_control_current_ref_squared_vt_product2__out = (_ess_battery_inverter_control_pll_pu_gain5__out * _ess_battery_inverter_control_pll_pu_gain5__out);
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.Product2
    _ess_battery_inverter_control_power_meas_power_meas_dq_product2__out = (_ess_battery_inverter_control_pll_pu_gain5__out * _ess_battery_inverter_control_abctodq1_gain2__out);
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.Product4
    _ess_battery_inverter_control_power_meas_power_meas_dq_product4__out = (_ess_battery_inverter_control_pll_pu_gain5__out * _ess_battery_inverter_control_abctodq1_gain1__out);
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.Gain7
    _ess_battery_inverter_control_pll_pu_gain7__out = 0.005888196497074948 * _ess_battery_inverter_control_pll_pu_pll_normalize__pk;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Kd
    _ess_battery_inverter_control_pll_pu_pll_pid_kd__out = 1.0 * _ess_battery_inverter_control_pll_pu_pll_normalize__in2_pu;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Ki
    _ess_battery_inverter_control_pll_pu_pll_pid_ki__out = 3200.0 * _ess_battery_inverter_control_pll_pu_pll_normalize__in2_pu;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Kp
    _ess_battery_inverter_control_pll_pu_pll_pid_kp__out = 100.0 * _ess_battery_inverter_control_pll_pu_pll_normalize__in2_pu;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.Gain4
    _ess_battery_inverter_control_synch_pll_util_gain4__out = 0.005888196497074948 * _ess_battery_inverter_control_synch_pll_util_pll_normalize__pk;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Kd
    _ess_battery_inverter_control_synch_pll_util_pll_pid_kd__out = 1.0 * _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2_pu;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Ki
    _ess_battery_inverter_control_synch_pll_util_pll_pid_ki__out = 3200.0 * _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2_pu;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Kp
    _ess_battery_inverter_control_synch_pll_util_pll_pid_kp__out = 100.0 * _ess_battery_inverter_control_synch_pll_util_pll_normalize__in2_pu;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Product6
    _ess_battery_inverter_control_imode_control_dq_current_controller_product6__out = (_ess_battery_inverter_control_imode_control_dq_current_controller_gain7__out * _ess_battery_inverter_control_pll_pu_gain6__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Product1
    _ess_battery_inverter_control_imode_control_dq_current_controller_product1__out = (_ess_battery_inverter_control_pll_pu_gain6__out * _ess_battery_inverter_control_imode_control_dq_current_controller_gain4__out);
    // Generated from the component: PCC_monitor.Rate Transition1.Input
    _pcc_monitor_rate_transition1_output__out[0] = _microgrid_controller_bus_join1__out[0];
    _pcc_monitor_rate_transition1_output__out[1] = _microgrid_controller_bus_join1__out[1];
    // Generated from the component: Microgrid_controller.Gain1
    _microgrid_controller_gain1__out = 1.1627906976744186e-06 * _microgrid_controller_signal_switch1__out;
    // Generated from the component: Microgrid_controller.Gain3
    _microgrid_controller_gain3__out = 1.1627906976744186e-06 * _microgrid_controller_signal_switch3__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Limit1
    if (_pcc_monitor_synch_check_plls_pll_pid_sum5__out > 527.7875658030853) {
        _pcc_monitor_synch_check_plls_pll_pid_limit1__out = 527.7875658030853;
    } else if (_pcc_monitor_synch_check_plls_pll_pid_sum5__out < 0.0) {
        _pcc_monitor_synch_check_plls_pll_pid_limit1__out = 0.0;
    } else {
        _pcc_monitor_synch_check_plls_pll_pid_limit1__out = _pcc_monitor_synch_check_plls_pll_pid_sum5__out;
    }
    // Generated from the component: PCC_monitor.Synch_check.ABC_nom
    HIL_OutInt32(0xf00435, _pcc_monitor_synch_check_logical_operator2__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.and2
    _pcc_monitor_synch_check_and2__out = _pcc_monitor_synch_check_not__out && _pcc_monitor_sr_flip_flop4__out && _pcc_monitor_synch_check_not1__out && _pcc_monitor_synch_check_logical_operator2__out ;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Limit1
    if (_pcc_monitor_synch_check_plls_pll1_pid_sum5__out > 527.7875658030853) {
        _pcc_monitor_synch_check_plls_pll1_pid_limit1__out = 527.7875658030853;
    } else if (_pcc_monitor_synch_check_plls_pll1_pid_sum5__out < 0.0) {
        _pcc_monitor_synch_check_plls_pll1_pid_limit1__out = 0.0;
    } else {
        _pcc_monitor_synch_check_plls_pll1_pid_limit1__out = _pcc_monitor_synch_check_plls_pll1_pid_sum5__out;
    }
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.Logical operator1
    _pcc_monitor_synch_check_contactor_control_logical_operator1__out = _pcc_monitor_synch_check_check_f_diff_comparator1__out && _pcc_monitor_synch_check_check_phase_diff_counter_less_than__out && _pcc_monitor_synch_check_check_v_diff_comparator1__out ;
    // Generated from the component: PCC_monitor.Synch_check.V_match
    HIL_OutInt32(0xf0043c, _pcc_monitor_synch_check_check_v_diff_comparator1__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Limit1
    if (_pcc_monitor_synch_check_check_v_diff_pi_sum5__out > 1.0) {
        _pcc_monitor_synch_check_check_v_diff_pi_limit1__out = 1.0;
    } else if (_pcc_monitor_synch_check_check_v_diff_pi_sum5__out < -1.0) {
        _pcc_monitor_synch_check_check_v_diff_pi_limit1__out = -1.0;
    } else {
        _pcc_monitor_synch_check_check_v_diff_pi_limit1__out = _pcc_monitor_synch_check_check_v_diff_pi_sum5__out;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Kb
    _pcc_monitor_synch_check_check_f_diff_pi_kb__out = 1.0 * _pcc_monitor_synch_check_check_f_diff_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_Vt
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum = 0.0f;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum = 0.0f;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i = 0; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i < 1; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i++) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum += _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_coeff[_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i + 1] * _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i];
    }
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum += _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[0] * _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_coeff[1];
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t - _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum += _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_coeff[0] * _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out = _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Ki
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_ki__out = 3200.0 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Kp
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_kp__out = 100.0 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum6
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum6__out =  - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out + _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Rate Limiter1
    if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
    } else {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out;
        if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate > 0.015079644737231007) {
            _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out + (0.015079644737231007);
        }
        if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate < -0.015079644737231007) {
            _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out + (-0.015079644737231007);
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.integrator
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out += 0.0002 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in;
    if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in >= 0.0) {
        if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out >= 6.283185307179586) {
            _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out <= -6.283185307179586) {
            _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_Pm
    HIL_OutAO(0x4012, (float)_back_up_diesel_gen_control_freq_setpoint_control_product3__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.w_switch1
    _back_up_diesel_gen_control_governor_and_engine_w_switch1__out = (_back_up_diesel_gen_control_unit_delay2__out < 0.5f) ? _back_up_diesel_gen_control_governor_and_engine_zero__out : _back_up_diesel_gen_control_governor_and_engine_product1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.P_ramp
    if (_back_up_diesel_gen_control_freq_setpoint_control_p_ramp__first_step) {
        _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out;
    } else {
        _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out;
        _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate = _back_up_diesel_gen_control_freq_setpoint_control_p_limit__out - _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out;
        if (_back_up_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate > 0.002) {
            _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out + (0.002);
        }
        if (_back_up_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate < -0.002) {
            _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out + (-0.002);
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Limit1
    if (_back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out > 10.0) {
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out = 10.0;
    } else if (_back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out < -10.0) {
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out = -10.0;
    } else {
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out = _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.w_ramp
    if (_back_up_diesel_gen_control_governor_and_engine_w_ramp__first_step) {
        _back_up_diesel_gen_control_governor_and_engine_w_ramp__out = _back_up_diesel_gen_control_governor_and_engine_w_switch__out;
    } else {
        _back_up_diesel_gen_control_governor_and_engine_w_ramp__out = _back_up_diesel_gen_control_governor_and_engine_w_switch__out;
        _back_up_diesel_gen_control_governor_and_engine_w_ramp__in_rate = _back_up_diesel_gen_control_governor_and_engine_w_switch__out - _back_up_diesel_gen_control_governor_and_engine_w_ramp__prev_out;
        if (_back_up_diesel_gen_control_governor_and_engine_w_ramp__in_rate > 0.002) {
            _back_up_diesel_gen_control_governor_and_engine_w_ramp__out = _back_up_diesel_gen_control_governor_and_engine_w_ramp__prev_out + (0.002);
        }
        if (_back_up_diesel_gen_control_governor_and_engine_w_ramp__in_rate < 0.0) {
            _back_up_diesel_gen_control_governor_and_engine_w_ramp__out = _back_up_diesel_gen_control_governor_and_engine_w_ramp__prev_out + (0.0);
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.read_OP_mode
    _back_up_diesel_gen_control_read_op_mode__GCB_status = _back_up_diesel_gen_control_unit_delay1__out;
    _back_up_diesel_gen_control_read_op_mode__OP_mode = _back_up_diesel_gen_control_round1__out;
    if (_back_up_diesel_gen_control_read_op_mode__OP_mode == 0) {
        _back_up_diesel_gen_control_read_op_mode__StandBy = 1;
        _back_up_diesel_gen_control_read_op_mode__GridFollowing = 0;
        _back_up_diesel_gen_control_read_op_mode__GridForming = 0;
        _back_up_diesel_gen_control_read_op_mode__enable = 0;
    }
    else {
        if (_back_up_diesel_gen_control_read_op_mode__OP_mode == 1) {
            _back_up_diesel_gen_control_read_op_mode__StandBy = 0;
            _back_up_diesel_gen_control_read_op_mode__GridFollowing = 1;
            _back_up_diesel_gen_control_read_op_mode__GridForming = 0;
            if (_back_up_diesel_gen_control_read_op_mode__GCB_status == 0) {
                _back_up_diesel_gen_control_read_op_mode__enable = 0;
            }
            else {
                _back_up_diesel_gen_control_read_op_mode__enable = 1;
            }
        }
        else {
            _back_up_diesel_gen_control_read_op_mode__StandBy = 0;
            _back_up_diesel_gen_control_read_op_mode__GridFollowing = 0;
            _back_up_diesel_gen_control_read_op_mode__GridForming = 1;
            _back_up_diesel_gen_control_read_op_mode__enable = 0;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Integrator1
    if (((_back_up_diesel_gen_control_start_exciter_and__out > 0.0) && (_back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state <= 0)) || ((_back_up_diesel_gen_control_start_exciter_and__out <= 0.0) && (_back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state == 1))) {
        _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__state = 0.0;
    }
    _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__out = _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Product1
    _back_up_diesel_gen_control_exciter_product1__out = (_back_up_diesel_gen_control_start_exciter_and__out * _back_up_diesel_gen_control_exciter_dc4b_tf3__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.switch
    _back_up_diesel_gen_control_exciter_switch__out = (_back_up_diesel_gen_control_start_exciter_and__out < 0.5f) ? _back_up_diesel_gen_control_exciter_zero__out : _back_up_diesel_gen_control_bus_split3__out1;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter_on
    HIL_OutInt32(0xf00401, _back_up_diesel_gen_control_start_exciter_and__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.pf_r
    HIL_OutAO(0x401c, (float)_back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm);
    // Generated from the component: Back-Up.DG_out.Out
    HIL_OutAO(0x4000, (float)_back_up_diesel_gen_output_bus_join1__out[0]);
    HIL_OutAO(0x4001, (float)_back_up_diesel_gen_output_bus_join1__out[1]);
    HIL_OutAO(0x4002, (float)_back_up_diesel_gen_output_bus_join1__out[2]);
    HIL_OutAO(0x4003, (float)_back_up_diesel_gen_output_bus_join1__out[3]);
    HIL_OutAO(0x4004, (float)_back_up_diesel_gen_output_bus_join1__out[4]);
    HIL_OutAO(0x4005, (float)_back_up_diesel_gen_output_bus_join1__out[5]);
    HIL_OutAO(0x4006, (float)_back_up_diesel_gen_output_bus_join1__out[6]);
    HIL_OutAO(0x4007, (float)_back_up_diesel_gen_output_bus_join1__out[7]);
    HIL_OutAO(0x4008, (float)_back_up_diesel_gen_output_bus_join1__out[8]);
    HIL_OutAO(0x4009, (float)_back_up_diesel_gen_output_bus_join1__out[9]);
    HIL_OutAO(0x400a, (float)_back_up_diesel_gen_output_bus_join1__out[10]);
    HIL_OutAO(0x400b, (float)_back_up_diesel_gen_output_bus_join1__out[11]);
    HIL_OutAO(0x400c, (float)_back_up_diesel_gen_output_bus_join1__out[12]);
    HIL_OutAO(0x400d, (float)_back_up_diesel_gen_output_bus_join1__out[13]);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_Vt
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i = 0; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i < 1; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i++) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_coeff[_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i + 1] * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__i];
    }
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[0] * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_coeff[1];
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__t - _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__a_sum;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_coeff[0] * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Ki
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_ki__out = 3200.0 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Kp
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_kp__out = 100.0 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_normalize_v_terminal__q_pu;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum6
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum6__out =  - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum5__out + _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Rate Limiter1
    if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
    } else {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out;
        if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate > 0.015079644737231007) {
            _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out + (0.015079644737231007);
        }
        if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__in_rate < -0.015079644737231007) {
            _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out + (-0.015079644737231007);
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.integrator
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_limit1__out;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out += 0.0002 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in;
    if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__in >= 0.0) {
        if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out >= 6.283185307179586) {
            _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out <= -6.283185307179586) {
            _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.w_switch1
    _dg_800kw_diesel_gen_control_governor_and_engine_w_switch1__out = (_dg_800kw_diesel_gen_control_unit_delay2__out < 0.5f) ? _dg_800kw_diesel_gen_control_governor_and_engine_zero__out : _dg_800kw_diesel_gen_control_governor_and_engine_product1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Product1
    _dg_800kw_diesel_gen_measurements_product1__out = (_dg_800kw_diesel_gen_measurements_gain12__out) * 1.0 / (_dg_800kw_diesel_gen_measurements_gain11__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.f_out_nom
    HIL_OutInt32(0xf0042b, _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.out of limit freq
    HIL_OutInt32(0xf00428, _ess_battery_inverter_control_synch_check_grid_comparator1__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Comparator1
    if (_ess_battery_inverter_control_synch_f_match_sum2__out < _ess_battery_inverter_control_synch_f_match_abs3__out) {
        _ess_battery_inverter_control_synch_f_match_comparator1__out = 0;
    } else if (_ess_battery_inverter_control_synch_f_match_sum2__out > _ess_battery_inverter_control_synch_f_match_abs3__out) {
        _ess_battery_inverter_control_synch_f_match_comparator1__out = 1;
    } else {
        _ess_battery_inverter_control_synch_f_match_comparator1__out = _ess_battery_inverter_control_synch_f_match_comparator1__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Comparator2
    if (_ess_battery_inverter_control_synch_phase_match_sum2__out < _ess_battery_inverter_control_synch_phase_match_abs2__out) {
        _ess_battery_inverter_control_synch_phase_match_comparator2__out = 0;
    } else if (_ess_battery_inverter_control_synch_phase_match_sum2__out > _ess_battery_inverter_control_synch_phase_match_abs2__out) {
        _ess_battery_inverter_control_synch_phase_match_comparator2__out = 1;
    } else {
        _ess_battery_inverter_control_synch_phase_match_comparator2__out = _ess_battery_inverter_control_synch_phase_match_comparator2__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Sum5
    _ess_battery_inverter_control_synch_phase_match_pi_sum5__out = _ess_battery_inverter_control_synch_phase_match_pi_kp__out + _ess_battery_inverter_control_synch_phase_match_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Sum3
    _ess_battery_inverter_control_imode_control_current_ref_sum3__out = _ess_battery_inverter_control_imode_control_current_ref_product3__out - _ess_battery_inverter_control_imode_control_current_ref_product4__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Sum4
    _ess_battery_inverter_control_imode_control_current_ref_sum4__out = _ess_battery_inverter_control_imode_control_current_ref_product5__out + _ess_battery_inverter_control_imode_control_current_ref_product6__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.squared_Vt.Sum3
    _ess_battery_inverter_control_imode_control_current_ref_squared_vt_sum3__out = _ess_battery_inverter_control_imode_control_current_ref_squared_vt_product1__out + _ess_battery_inverter_control_imode_control_current_ref_squared_vt_product2__out;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.Sum1
    _ess_battery_inverter_control_power_meas_power_meas_dq_sum1__out = _ess_battery_inverter_control_power_meas_power_meas_dq_product1__out + _ess_battery_inverter_control_power_meas_power_meas_dq_product2__out;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.Sum2
    _ess_battery_inverter_control_power_meas_power_meas_dq_sum2__out = _ess_battery_inverter_control_power_meas_power_meas_dq_product4__out - _ess_battery_inverter_control_power_meas_power_meas_dq_product3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Sum5
    _ess_battery_inverter_control_synch_check_nominal_conditions_sum5__out = _ess_battery_inverter_control_pll_pu_gain7__out - _ess_battery_inverter_control_synch_check_nominal_conditions_nominal_voltage__out;
    // Generated from the component: ESS.Battery inverter.Control.Vt
    HIL_OutAO(0x4044, (float)_ess_battery_inverter_control_pll_pu_gain7__out);
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Sum8
    _ess_battery_inverter_control_pll_pu_pll_pid_sum8__out = _ess_battery_inverter_control_pll_pu_pll_pid_kd__out - _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Sum5
    _ess_battery_inverter_control_synch_check_grid_sum5__out = _ess_battery_inverter_control_synch_pll_util_gain4__out - _ess_battery_inverter_control_synch_check_grid_nominal_voltage__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Sum10
    _ess_battery_inverter_control_synch_vmatch_sum10__out = _ess_battery_inverter_control_synch_pll_util_gain4__out - _ess_battery_inverter_control_pll_pu_gain7__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Sum8
    _ess_battery_inverter_control_synch_pll_util_pll_pid_sum8__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_kd__out - _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Sum13
    _ess_battery_inverter_control_imode_control_dq_current_controller_sum13__out = _ess_battery_inverter_control_imode_control_dq_current_controller_product6__out + _ess_battery_inverter_control_pll_pu_gain5__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Sum10
    _ess_battery_inverter_control_imode_control_dq_current_controller_sum10__out = _ess_battery_inverter_control_pll_pu_gain4__out - _ess_battery_inverter_control_imode_control_dq_current_controller_product1__out;
    // Generated from the component: Microgrid_controller.PI_P.Ki1
    _microgrid_controller_pi_p_ki1__out = 3.0 * _microgrid_controller_gain1__out;
    // Generated from the component: Microgrid_controller.PI_P.Ki2
    _microgrid_controller_pi_p_ki2__out = 0.1 * _microgrid_controller_gain1__out;
    // Generated from the component: Microgrid_controller.PI_P.Kp1
    _microgrid_controller_pi_p_kp1__out = 0.5 * _microgrid_controller_gain1__out;
    // Generated from the component: Microgrid_controller.PI_P.Kp2
    _microgrid_controller_pi_p_kp2__out = 0.01 * _microgrid_controller_gain1__out;
    // Generated from the component: Microgrid_controller.PI_Q.Ki1
    _microgrid_controller_pi_q_ki1__out = 3.0 * _microgrid_controller_gain3__out;
    // Generated from the component: Microgrid_controller.PI_Q.Ki2
    _microgrid_controller_pi_q_ki2__out = 0.1 * _microgrid_controller_gain3__out;
    // Generated from the component: Microgrid_controller.PI_Q.Kp1
    _microgrid_controller_pi_q_kp1__out = 0.5 * _microgrid_controller_gain3__out;
    // Generated from the component: Microgrid_controller.PI_Q.Kp2
    _microgrid_controller_pi_q_kp2__out = 0.01 * _microgrid_controller_gain3__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Sum6
    _pcc_monitor_synch_check_plls_pll_pid_sum6__out =  - _pcc_monitor_synch_check_plls_pll_pid_sum5__out + _pcc_monitor_synch_check_plls_pll_pid_limit1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Rate Limiter1
    if (_pcc_monitor_synch_check_plls_pll_rate_limiter1__first_step) {
        _pcc_monitor_synch_check_plls_pll_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll_pid_limit1__out;
    } else {
        _pcc_monitor_synch_check_plls_pll_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll_pid_limit1__out;
        _pcc_monitor_synch_check_plls_pll_rate_limiter1__in_rate = _pcc_monitor_synch_check_plls_pll_pid_limit1__out - _pcc_monitor_synch_check_plls_pll_rate_limiter1__prev_out;
        if (_pcc_monitor_synch_check_plls_pll_rate_limiter1__in_rate > 0.3769911184307752) {
            _pcc_monitor_synch_check_plls_pll_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll_rate_limiter1__prev_out + (0.3769911184307752);
        }
        if (_pcc_monitor_synch_check_plls_pll_rate_limiter1__in_rate < -0.3769911184307752) {
            _pcc_monitor_synch_check_plls_pll_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll_rate_limiter1__prev_out + (-0.3769911184307752);
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.integrator
    _pcc_monitor_synch_check_plls_pll_integrator__in = _pcc_monitor_synch_check_plls_pll_pid_limit1__out;
    _pcc_monitor_synch_check_plls_pll_integrator__out += 0.0002 * _pcc_monitor_synch_check_plls_pll_integrator__in;
    if (_pcc_monitor_synch_check_plls_pll_integrator__in >= 0.0) {
        if (_pcc_monitor_synch_check_plls_pll_integrator__out >= 6.283185307179586) {
            _pcc_monitor_synch_check_plls_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_pcc_monitor_synch_check_plls_pll_integrator__out <= -6.283185307179586) {
            _pcc_monitor_synch_check_plls_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.and1
    _pcc_monitor_synch_check_and1__out = _pcc_monitor_synch_check_check_f_diff_comparator1__out && _pcc_monitor_synch_check_and2__out ;
    // Generated from the component: PCC_monitor.Synch_check.synch_check_ON
    HIL_OutInt32(0xf00440, _pcc_monitor_synch_check_and2__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Sum6
    _pcc_monitor_synch_check_plls_pll1_pid_sum6__out =  - _pcc_monitor_synch_check_plls_pll1_pid_sum5__out + _pcc_monitor_synch_check_plls_pll1_pid_limit1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Rate Limiter1
    if (_pcc_monitor_synch_check_plls_pll1_rate_limiter1__first_step) {
        _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll1_pid_limit1__out;
    } else {
        _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll1_pid_limit1__out;
        _pcc_monitor_synch_check_plls_pll1_rate_limiter1__in_rate = _pcc_monitor_synch_check_plls_pll1_pid_limit1__out - _pcc_monitor_synch_check_plls_pll1_rate_limiter1__prev_out;
        if (_pcc_monitor_synch_check_plls_pll1_rate_limiter1__in_rate > 0.3769911184307752) {
            _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll1_rate_limiter1__prev_out + (0.3769911184307752);
        }
        if (_pcc_monitor_synch_check_plls_pll1_rate_limiter1__in_rate < -0.3769911184307752) {
            _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out = _pcc_monitor_synch_check_plls_pll1_rate_limiter1__prev_out + (-0.3769911184307752);
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.integrator
    _pcc_monitor_synch_check_plls_pll1_integrator__in = _pcc_monitor_synch_check_plls_pll1_pid_limit1__out;
    _pcc_monitor_synch_check_plls_pll1_integrator__out += 0.0002 * _pcc_monitor_synch_check_plls_pll1_integrator__in;
    if (_pcc_monitor_synch_check_plls_pll1_integrator__in >= 0.0) {
        if (_pcc_monitor_synch_check_plls_pll1_integrator__out >= 6.283185307179586) {
            _pcc_monitor_synch_check_plls_pll1_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_pcc_monitor_synch_check_plls_pll1_integrator__out <= -6.283185307179586) {
            _pcc_monitor_synch_check_plls_pll1_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.CB_SM
    _pcc_monitor_synch_check_contactor_control_cb_sm__ABC_nom = _pcc_monitor_synch_check_logical_operator2__out;
    _pcc_monitor_synch_check_contactor_control_cb_sm__Close_cmd = _pcc_monitor_sr_flip_flop4__out;
    _pcc_monitor_synch_check_contactor_control_cb_sm__Matched = _pcc_monitor_synch_check_contactor_control_logical_operator1__out;
    _pcc_monitor_synch_check_contactor_control_cb_sm__Open_cmd = _pcc_monitor_bus_split1__out1;
    _pcc_monitor_synch_check_contactor_control_cb_sm__abc_dead = _pcc_monitor_synch_check_check_v_diff_less_eq__out;
    if ((_pcc_monitor_synch_check_contactor_control_cb_sm__Open_cmd > 0.0) || (!_pcc_monitor_synch_check_contactor_control_cb_sm__ABC_nom)) {
        _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB = 0;
        _pcc_monitor_synch_check_contactor_control_cb_sm__open_CB = 1;
    }
    else {
        if (_pcc_monitor_synch_check_contactor_control_cb_sm__Close_cmd > 0.0) {
            if ((_pcc_monitor_synch_check_contactor_control_cb_sm__abc_dead) || (_pcc_monitor_synch_check_contactor_control_cb_sm__Matched)) {
                _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB = 1;
                _pcc_monitor_synch_check_contactor_control_cb_sm__open_CB = 0;
            }
            else {
                _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB = 0;
            }
        }
        else {
            _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB = 0;
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Sum6
    _pcc_monitor_synch_check_check_v_diff_pi_sum6__out =  - _pcc_monitor_synch_check_check_v_diff_pi_sum5__out + _pcc_monitor_synch_check_check_v_diff_pi_limit1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Signal switch1
    _pcc_monitor_synch_check_check_v_diff_signal_switch1__out = (_pcc_monitor_synch_check_check_v_diff_unit_delay1__out < 0.5f) ? _pcc_monitor_synch_check_check_v_diff_zero__out : _pcc_monitor_synch_check_check_v_diff_pi_limit1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Sum7
    _pcc_monitor_synch_check_check_f_diff_pi_sum7__out = _pcc_monitor_synch_check_check_f_diff_pi_ki__out + _pcc_monitor_synch_check_check_f_diff_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Sum8
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_kp__out + _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Kb
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kb__out = 1.0 * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum = 0.0f;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum = 0.0f;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i < 2; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i++) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_coeff[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i + 1] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i];
    }
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 1; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i > 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i--) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_coeff[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i + 1] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i];
    }
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[0] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_coeff[1];
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out - _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_coeff[0] * _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.Bus Join3
    _back_up_diesel_gen_measurements_bus_join3__out[0] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out;
    _back_up_diesel_gen_measurements_bus_join3__out[1] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out;
    _back_up_diesel_gen_measurements_bus_join3__out[2] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.Inner_droop_dw
    HIL_OutAO(0x4015, (float)_back_up_diesel_gen_control_governor_and_engine_w_switch1__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Product2
    _back_up_diesel_gen_control_freq_setpoint_control_product2__out = (_back_up_diesel_gen_control_freq_setpoint_control_p_droop__out * _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out * _back_up_diesel_gen_control_freq_setpoint_control_w_to_wpu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Sum6
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_sum6__out =  - _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out + _back_up_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Bus Join1
    _back_up_diesel_gen_control_bus_join1__out[0] = _back_up_diesel_gen_control_bus_split3__out;
    _back_up_diesel_gen_control_bus_join1__out[1] = _back_up_diesel_gen_control_read_op_mode__StandBy;
    _back_up_diesel_gen_control_bus_join1__out[2] = _back_up_diesel_gen_control_read_op_mode__GridForming;
    _back_up_diesel_gen_control_bus_join1__out[3] = _back_up_diesel_gen_control_read_op_mode__GridFollowing;
    _back_up_diesel_gen_control_bus_join1__out[4] = _back_up_diesel_gen_control_check_steady_state_w_comparator3__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Integrator1
    if (((_back_up_diesel_gen_control_read_op_mode__enable > 0.0) && (_back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state <= 0)) || ((_back_up_diesel_gen_control_read_op_mode__enable <= 0.0) && (_back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state == 1))) {
        _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__state = 0.0;
    }
    _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__out = _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.f_droop_switch
    _back_up_diesel_gen_control_freq_setpoint_control_f_droop_switch__out = (_back_up_diesel_gen_control_read_op_mode__enable > 0.5f) ? _back_up_diesel_gen_control_freq_setpoint_control_product1__out : _back_up_diesel_gen_control_freq_setpoint_control_zero1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_switch
    _back_up_diesel_gen_control_freq_setpoint_control_w_switch__out = (_back_up_diesel_gen_control_read_op_mode__enable < 0.5f) ? _back_up_diesel_gen_control_freq_setpoint_control_zero1__out : _back_up_diesel_gen_control_bus_split3__out2;
    // Generated from the component: Back-Up.Diesel_Gen.Control.GridFollowing
    HIL_OutInt32(0xf00403, _back_up_diesel_gen_control_read_op_mode__GridFollowing != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.GridForming
    HIL_OutInt32(0xf00404, _back_up_diesel_gen_control_read_op_mode__GridForming != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.StandBy
    HIL_OutInt32(0xf00408, _back_up_diesel_gen_control_read_op_mode__StandBy != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Logical operator5
    _back_up_diesel_gen_control_pf_control_logical_operator5__out = _back_up_diesel_gen_control_read_op_mode__enable && _back_up_diesel_gen_control_define_control_mode_control_mode__Q_control && _back_up_diesel_gen_control_define_control_mode_control_mode__P_control && _back_up_diesel_gen_control_pf_control_greater_equal__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Vfpu_to_Vf
    _back_up_diesel_gen_control_exciter_vfpu_to_vf__out = 169.831288832967 * _back_up_diesel_gen_control_exciter_product1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Rate Limit
    if (_back_up_diesel_gen_control_exciter_rate_limit__first_step) {
        _back_up_diesel_gen_control_exciter_rate_limit__out = _back_up_diesel_gen_control_exciter_switch__out;
    } else {
        _back_up_diesel_gen_control_exciter_rate_limit__out = _back_up_diesel_gen_control_exciter_switch__out;
        _back_up_diesel_gen_control_exciter_rate_limit__in_rate = _back_up_diesel_gen_control_exciter_switch__out - _back_up_diesel_gen_control_exciter_rate_limit__prev_out;
        if (_back_up_diesel_gen_control_exciter_rate_limit__in_rate > 0.002) {
            _back_up_diesel_gen_control_exciter_rate_limit__out = _back_up_diesel_gen_control_exciter_rate_limit__prev_out + (0.002);
        }
        if (_back_up_diesel_gen_control_exciter_rate_limit__in_rate < -0.002) {
            _back_up_diesel_gen_control_exciter_rate_limit__out = _back_up_diesel_gen_control_exciter_rate_limit__prev_out + (-0.002);
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Sum8
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_kp__out + _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Kb
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kb__out = 1.0 * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum = 0.0f;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum = 0.0f;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i < 2; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i++) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_coeff[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i + 1] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i];
    }
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 1; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i > 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i--) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_coeff[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i + 1] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i];
    }
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[0] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_coeff[1];
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out - _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__a_sum;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_coeff[0] * _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Bus Join3
    _dg_800kw_diesel_gen_measurements_bus_join3__out[0] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__out;
    _dg_800kw_diesel_gen_measurements_bus_join3__out[1] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out;
    _dg_800kw_diesel_gen_measurements_bus_join3__out[2] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.Efficiency
    HIL_OutAO(0x4031, (float)_dg_800kw_diesel_gen_measurements_product1__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Counter1.en_switch
    _ess_battery_inverter_control_synch_f_match_counter1_en_switch__out = (_ess_battery_inverter_control_synch_f_match_comparator1__out > 0.0f) ? _ess_battery_inverter_control_synch_f_match_counter1_const_value_1__out : _ess_battery_inverter_control_synch_f_match_counter1_const_value_0__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Logical operator1
    _ess_battery_inverter_control_synch_f_match_logical_operator1__out = !_ess_battery_inverter_control_synch_f_match_comparator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Counter1.en_switch
    _ess_battery_inverter_control_synch_phase_match_counter1_en_switch__out = (_ess_battery_inverter_control_synch_phase_match_comparator2__out > 0.0f) ? _ess_battery_inverter_control_synch_phase_match_counter1_const_value_1__out : _ess_battery_inverter_control_synch_phase_match_counter1_const_value_0__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Logical operator1
    _ess_battery_inverter_control_synch_phase_match_logical_operator1__out = !_ess_battery_inverter_control_synch_phase_match_comparator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Limit1
    if (_ess_battery_inverter_control_synch_phase_match_pi_sum5__out > 100000.0) {
        _ess_battery_inverter_control_synch_phase_match_pi_limit1__out = 100000.0;
    } else if (_ess_battery_inverter_control_synch_phase_match_pi_sum5__out < -100000.0) {
        _ess_battery_inverter_control_synch_phase_match_pi_limit1__out = -100000.0;
    } else {
        _ess_battery_inverter_control_synch_phase_match_pi_limit1__out = _ess_battery_inverter_control_synch_phase_match_pi_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Limit3
    if (_ess_battery_inverter_control_imode_control_current_ref_squared_vt_sum3__out < 0.01) {
        _ess_battery_inverter_control_imode_control_current_ref_limit3__out = 0.01;
    } else {
        _ess_battery_inverter_control_imode_control_current_ref_limit3__out = _ess_battery_inverter_control_imode_control_current_ref_squared_vt_sum3__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.LPF_P
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__a_sum = 0.0f;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_sum = 0.0f;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i = 0; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i < 1; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i++) {
        _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_sum += _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_coeff[_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i + 1] * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__states[_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__i];
    }
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__a_sum += _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__states[0] * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__a_coeff[1];
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__delay_line_in = _ess_battery_inverter_control_power_meas_power_meas_dq_sum1__out - _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__a_sum;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_sum += _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_coeff[0] * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__delay_line_in;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__out = _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.LPF_Q
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__a_sum = 0.0f;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_sum = 0.0f;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i = 0; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i < 1; _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i++) {
        _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_sum += _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_coeff[_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i + 1] * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__states[_ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__i];
    }
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__a_sum += _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__states[0] * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__a_coeff[1];
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__delay_line_in = _ess_battery_inverter_control_power_meas_power_meas_dq_sum2__out - _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__a_sum;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_sum += _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_coeff[0] * _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__delay_line_in;
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__out = _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Abs2
    _ess_battery_inverter_control_synch_check_nominal_conditions_abs2__out = fabs(_ess_battery_inverter_control_synch_check_nominal_conditions_sum5__out);
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Gain1
    _ess_battery_inverter_control_pll_pu_pll_pid_gain1__out = 714.2857 * _ess_battery_inverter_control_pll_pu_pll_pid_sum8__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Abs2
    _ess_battery_inverter_control_synch_check_grid_abs2__out = fabs(_ess_battery_inverter_control_synch_check_grid_sum5__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Abs2
    _ess_battery_inverter_control_synch_vmatch_abs2__out = fabs(_ess_battery_inverter_control_synch_vmatch_sum10__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Gain1
    _ess_battery_inverter_control_synch_pll_util_pll_pid_gain1__out = 714.2857 * _ess_battery_inverter_control_synch_pll_util_pll_pid_sum8__out;
    // Generated from the component: Microgrid_controller.PI_P.Signal switch2
    _microgrid_controller_pi_p_signal_switch2__out = (_microgrid_controller_sm3__der_opt > 0.0f) ? _microgrid_controller_pi_p_ki2__out : _microgrid_controller_pi_p_ki1__out;
    // Generated from the component: Microgrid_controller.PI_P.Signal switch1
    _microgrid_controller_pi_p_signal_switch1__out = (_microgrid_controller_sm3__der_opt > 0.0f) ? _microgrid_controller_pi_p_kp2__out : _microgrid_controller_pi_p_kp1__out;
    // Generated from the component: Microgrid_controller.PI_Q.Signal switch2
    _microgrid_controller_pi_q_signal_switch2__out = (_microgrid_controller_sm3__der_opt > 0.0f) ? _microgrid_controller_pi_q_ki2__out : _microgrid_controller_pi_q_ki1__out;
    // Generated from the component: Microgrid_controller.PI_Q.Signal switch1
    _microgrid_controller_pi_q_signal_switch1__out = (_microgrid_controller_sm3__der_opt > 0.0f) ? _microgrid_controller_pi_q_kp2__out : _microgrid_controller_pi_q_kp1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Kb
    _pcc_monitor_synch_check_plls_pll_pid_kb__out = 1000.0 * _pcc_monitor_synch_check_plls_pll_pid_sum6__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.LPF_q1
    _pcc_monitor_synch_check_plls_pll_lpf_q1__a_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll_lpf_q1__b_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll_lpf_q1__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_plls_pll_lpf_q1__i = 0; _pcc_monitor_synch_check_plls_pll_lpf_q1__i < 2; _pcc_monitor_synch_check_plls_pll_lpf_q1__i++) {
        _pcc_monitor_synch_check_plls_pll_lpf_q1__b_sum += _pcc_monitor_synch_check_plls_pll_lpf_q1__b_coeff[_pcc_monitor_synch_check_plls_pll_lpf_q1__i + 1] * _pcc_monitor_synch_check_plls_pll_lpf_q1__states[_pcc_monitor_synch_check_plls_pll_lpf_q1__i];
    }
    for (_pcc_monitor_synch_check_plls_pll_lpf_q1__i = 1; _pcc_monitor_synch_check_plls_pll_lpf_q1__i > 0; _pcc_monitor_synch_check_plls_pll_lpf_q1__i--) {
        _pcc_monitor_synch_check_plls_pll_lpf_q1__a_sum += _pcc_monitor_synch_check_plls_pll_lpf_q1__a_coeff[_pcc_monitor_synch_check_plls_pll_lpf_q1__i + 1] * _pcc_monitor_synch_check_plls_pll_lpf_q1__states[_pcc_monitor_synch_check_plls_pll_lpf_q1__i];
    }
    _pcc_monitor_synch_check_plls_pll_lpf_q1__a_sum += _pcc_monitor_synch_check_plls_pll_lpf_q1__states[0] * _pcc_monitor_synch_check_plls_pll_lpf_q1__a_coeff[1];
    _pcc_monitor_synch_check_plls_pll_lpf_q1__delay_line_in = _pcc_monitor_synch_check_plls_pll_rate_limiter1__out - _pcc_monitor_synch_check_plls_pll_lpf_q1__a_sum;
    _pcc_monitor_synch_check_plls_pll_lpf_q1__b_sum += _pcc_monitor_synch_check_plls_pll_lpf_q1__b_coeff[0] * _pcc_monitor_synch_check_plls_pll_lpf_q1__delay_line_in;
    _pcc_monitor_synch_check_plls_pll_lpf_q1__out = _pcc_monitor_synch_check_plls_pll_lpf_q1__b_sum;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.wt_ABC
    HIL_OutAO(0x4089, (float)_pcc_monitor_synch_check_plls_pll_integrator__out);
    // Generated from the component: PCC_monitor.Synch_check.Check_phase_ON
    HIL_OutInt32(0xf00436, _pcc_monitor_synch_check_and1__out != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Integrator1
    if (((_pcc_monitor_synch_check_and1__out > 0.0) && (_pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state <= 0)) || ((_pcc_monitor_synch_check_and1__out <= 0.0) && (_pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state == 1))) {
        _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__state = 0.0;
    }
    _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__out = _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__state;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Kb
    _pcc_monitor_synch_check_plls_pll1_pid_kb__out = 1000.0 * _pcc_monitor_synch_check_plls_pll1_pid_sum6__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.LPF_q1
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_sum = 0.0f;
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_plls_pll1_lpf_q1__i = 0; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i < 2; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i++) {
        _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_coeff[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i + 1] * _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i];
    }
    for (_pcc_monitor_synch_check_plls_pll1_lpf_q1__i = 1; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i > 0; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i--) {
        _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_coeff[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i + 1] * _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i];
    }
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[0] * _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_coeff[1];
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__delay_line_in = _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out - _pcc_monitor_synch_check_plls_pll1_lpf_q1__a_sum;
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_sum += _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_coeff[0] * _pcc_monitor_synch_check_plls_pll1_lpf_q1__delay_line_in;
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__out = _pcc_monitor_synch_check_plls_pll1_lpf_q1__b_sum;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.Sum1
    _pcc_monitor_synch_check_plls_sum1__out = _pcc_monitor_synch_check_plls_pll_integrator__out - _pcc_monitor_synch_check_plls_pll1_integrator__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.wt_abc
    HIL_OutAO(0x408a, (float)_pcc_monitor_synch_check_plls_pll1_integrator__out);
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.reset_CB
    HIL_OutInt32(0xf00438, _pcc_monitor_synch_check_contactor_control_cb_sm__open_CB != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.set_CB
    HIL_OutInt32(0xf00439, _pcc_monitor_synch_check_contactor_control_cb_sm__close_CB != 0x0);
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Kb
    _pcc_monitor_synch_check_check_v_diff_pi_kb__out = 1.0 * _pcc_monitor_synch_check_check_v_diff_pi_sum6__out;
    // Generated from the component: PCC_monitor.Synch_check.Bus Join
    _pcc_monitor_synch_check_bus_join__out[0] = _pcc_monitor_synch_check_calculate_dw_synch_signal_switch1__out;
    _pcc_monitor_synch_check_bus_join__out[1] = _pcc_monitor_synch_check_check_v_diff_signal_switch1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Limit1
    if (_back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out > 527.7875658030853) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out = 527.7875658030853;
    } else if (_back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out < 263.89378290154264) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out = 263.89378290154264;
    } else {
        _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum7
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum7__out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_ki__out + _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.split1
    _back_up_diesel_gen_sync_check_plls_split1__out = _back_up_diesel_gen_measurements_bus_join3__out[0];
    _back_up_diesel_gen_sync_check_plls_split1__out1 = _back_up_diesel_gen_measurements_bus_join3__out[1];
    _back_up_diesel_gen_sync_check_plls_split1__out2 = _back_up_diesel_gen_measurements_bus_join3__out[2];
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Sum5
    _back_up_diesel_gen_control_freq_setpoint_control_sum5__out = _back_up_diesel_gen_control_freq_setpoint_control_w_to_wpu__out + _back_up_diesel_gen_control_freq_setpoint_control_product2__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Kb
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_kb__out = 1000.0 * _back_up_diesel_gen_control_governor_and_engine_degov_integrator_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Bus Split1
    _back_up_diesel_gen_sync_check_bus_split1__out = _back_up_diesel_gen_control_bus_join1__out[0];
    _back_up_diesel_gen_sync_check_bus_split1__out1 = _back_up_diesel_gen_control_bus_join1__out[1];
    _back_up_diesel_gen_sync_check_bus_split1__out2 = _back_up_diesel_gen_control_bus_join1__out[2];
    _back_up_diesel_gen_sync_check_bus_split1__out3 = _back_up_diesel_gen_control_bus_join1__out[3];
    _back_up_diesel_gen_sync_check_bus_split1__out4 = _back_up_diesel_gen_control_bus_join1__out[4];
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_ramp
    if (_back_up_diesel_gen_control_freq_setpoint_control_w_ramp__first_step) {
        _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_w_switch__out;
    } else {
        _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_w_switch__out;
        _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate = _back_up_diesel_gen_control_freq_setpoint_control_w_switch__out - _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out;
        if (_back_up_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate > 0.002) {
            _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out + (0.002);
        }
        if (_back_up_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate < -0.002) {
            _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out = _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out + (-0.002);
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Read_Control_mode.State
    _back_up_diesel_gen_control_read_control_mode_state__P = _back_up_diesel_gen_control_define_control_mode_control_mode__P_control;
    _back_up_diesel_gen_control_read_control_mode_state__Q = _back_up_diesel_gen_control_pf_control_logical_operator5__out;
    _back_up_diesel_gen_control_read_control_mode_state__enable = _back_up_diesel_gen_control_read_op_mode__enable;
    if (_back_up_diesel_gen_control_read_control_mode_state__enable && _back_up_diesel_gen_control_read_control_mode_state__P && _back_up_diesel_gen_control_read_control_mode_state__Q) {
        _back_up_diesel_gen_control_read_control_mode_state__Vf = 0;
        _back_up_diesel_gen_control_read_control_mode_state__PV = 0;
        _back_up_diesel_gen_control_read_control_mode_state__PQ = 1;
    }
    else {
        if (_back_up_diesel_gen_control_read_control_mode_state__enable && _back_up_diesel_gen_control_read_control_mode_state__P) {
            _back_up_diesel_gen_control_read_control_mode_state__Vf = 0;
            _back_up_diesel_gen_control_read_control_mode_state__PV = 1;
            _back_up_diesel_gen_control_read_control_mode_state__PQ = 0;
        }
        else {
            _back_up_diesel_gen_control_read_control_mode_state__Vf = 1;
            _back_up_diesel_gen_control_read_control_mode_state__PV = 0;
            _back_up_diesel_gen_control_read_control_mode_state__PQ = 0;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Integrator1
    if (((_back_up_diesel_gen_control_pf_control_logical_operator5__out > 0.0) && (_back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state <= 0)) || ((_back_up_diesel_gen_control_pf_control_logical_operator5__out <= 0.0) && (_back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state == 1))) {
        _back_up_diesel_gen_control_pf_control_pi_integrator1__state = 0.0;
    }
    _back_up_diesel_gen_control_pf_control_pi_integrator1__out = _back_up_diesel_gen_control_pf_control_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Signal switch2
    _back_up_diesel_gen_control_pf_control_signal_switch2__out = (_back_up_diesel_gen_control_pf_control_logical_operator5__out > 0.5f) ? _back_up_diesel_gen_control_pf_control_norm_pf_ref__pf_norm : _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Vf
    HIL_OutAO(0x4019, (float)_back_up_diesel_gen_control_exciter_vfpu_to_vf__out);
    // Generated from the component: Back-Up.Diesel_Gen.Vfd.Vs1
    HIL_OutFloat(137101312, (float) _back_up_diesel_gen_control_exciter_vfpu_to_vf__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Limit1
    if (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out > 527.7875658030853) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out = 527.7875658030853;
    } else if (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out < 263.89378290154264) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out = 263.89378290154264;
    } else {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Sum7
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum7__out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_ki__out + _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.split1
    _dg_800kw_diesel_gen_sync_check_plls_split1__out = _dg_800kw_diesel_gen_measurements_bus_join3__out[0];
    _dg_800kw_diesel_gen_sync_check_plls_split1__out1 = _dg_800kw_diesel_gen_measurements_bus_join3__out[1];
    _dg_800kw_diesel_gen_sync_check_plls_split1__out2 = _dg_800kw_diesel_gen_measurements_bus_join3__out[2];
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Sum6
    _ess_battery_inverter_control_synch_phase_match_pi_sum6__out =  - _ess_battery_inverter_control_synch_phase_match_pi_sum5__out + _ess_battery_inverter_control_synch_phase_match_pi_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Product1
    _ess_battery_inverter_control_synch_phase_match_product1__out = (_ess_battery_inverter_control_synch_f_match_delay1__out * _ess_battery_inverter_control_synch_phase_match_pi_limit1__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Product1
    _ess_battery_inverter_control_imode_control_current_ref_product1__out = (_ess_battery_inverter_control_imode_control_current_ref_sum3__out) * 1.0 / (_ess_battery_inverter_control_imode_control_current_ref_limit3__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Current_ref.Product2
    _ess_battery_inverter_control_imode_control_current_ref_product2__out = (_ess_battery_inverter_control_imode_control_current_ref_sum4__out) * 1.0 / (_ess_battery_inverter_control_imode_control_current_ref_limit3__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Comparator2
    if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs2__out < _ess_battery_inverter_control_synch_check_nominal_conditions___10___out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__out = 0;
    } else if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs2__out > _ess_battery_inverter_control_synch_check_nominal_conditions___10___out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__out = 1;
    } else {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__out = _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Sum5
    _ess_battery_inverter_control_pll_pu_pll_pid_sum5__out = _ess_battery_inverter_control_pll_pu_pll_pid_kp__out + _ess_battery_inverter_control_pll_pu_pll_pid_gain1__out + _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Comparator2
    if (_ess_battery_inverter_control_synch_check_grid_abs2__out < _ess_battery_inverter_control_synch_check_grid___10___out) {
        _ess_battery_inverter_control_synch_check_grid_comparator2__out = 0;
    } else if (_ess_battery_inverter_control_synch_check_grid_abs2__out > _ess_battery_inverter_control_synch_check_grid___10___out) {
        _ess_battery_inverter_control_synch_check_grid_comparator2__out = 1;
    } else {
        _ess_battery_inverter_control_synch_check_grid_comparator2__out = _ess_battery_inverter_control_synch_check_grid_comparator2__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Comparator2
    if (_ess_battery_inverter_control_synch_vmatch_sum2__out < _ess_battery_inverter_control_synch_vmatch_abs2__out) {
        _ess_battery_inverter_control_synch_vmatch_comparator2__out = 0;
    } else if (_ess_battery_inverter_control_synch_vmatch_sum2__out > _ess_battery_inverter_control_synch_vmatch_abs2__out) {
        _ess_battery_inverter_control_synch_vmatch_comparator2__out = 1;
    } else {
        _ess_battery_inverter_control_synch_vmatch_comparator2__out = _ess_battery_inverter_control_synch_vmatch_comparator2__state;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Sum5
    _ess_battery_inverter_control_synch_pll_util_pll_pid_sum5__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_kp__out + _ess_battery_inverter_control_synch_pll_util_pll_pid_gain1__out + _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__out;
    // Generated from the component: Microgrid_controller.PI_P.Sum5
    _microgrid_controller_pi_p_sum5__out = _microgrid_controller_pi_p_signal_switch1__out + _microgrid_controller_pi_p_integrator1__out;
    // Generated from the component: Microgrid_controller.PI_Q.Sum5
    _microgrid_controller_pi_q_sum5__out = _microgrid_controller_pi_q_signal_switch1__out + _microgrid_controller_pi_q_integrator1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Sum7
    _pcc_monitor_synch_check_plls_pll_pid_sum7__out = _pcc_monitor_synch_check_plls_pll_pid_ki__out + _pcc_monitor_synch_check_plls_pll_pid_kb__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Sum5
    _pcc_monitor_synch_check_check_phase_diff_pi_sum5__out = _pcc_monitor_synch_check_check_phase_diff_pi_kp__out + _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Sum7
    _pcc_monitor_synch_check_plls_pll1_pid_sum7__out = _pcc_monitor_synch_check_plls_pll1_pid_ki__out + _pcc_monitor_synch_check_plls_pll1_pid_kb__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.confine_phase
    _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta = _pcc_monitor_synch_check_plls_sum1__out;
    if (_pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta > 3.14159265359) {
        _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta_confined = _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta - 6.28318530718;
    }
    else {
        if (_pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta < -3.14159265359) {
            _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta_confined = _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta + 6.28318530718;
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Sum7
    _pcc_monitor_synch_check_check_v_diff_pi_sum7__out = _pcc_monitor_synch_check_check_v_diff_pi_ki__out + _pcc_monitor_synch_check_check_v_diff_pi_kb__out;
    // Generated from the component: DG_800kW.Interface.Bus Split2
    _dg_800kw_interface_bus_split2__out = _pcc_monitor_synch_check_bus_join__out[0];
    _dg_800kw_interface_bus_split2__out1 = _pcc_monitor_synch_check_bus_join__out[1];
    // Generated from the component: ESS.Interface.Bus Split2
    _ess_interface_bus_split2__out = _pcc_monitor_synch_check_bus_join__out[0];
    _ess_interface_bus_split2__out1 = _pcc_monitor_synch_check_bus_join__out[1];
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Sum6
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum6__out =  - _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out + _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.integrator
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out + 0.0;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.rads_to_Hz
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_rads_to_hz__out = 0.15915494309189535 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.Gain1
    _back_up_diesel_gen_sync_check_plls_gain1__out = 0.15915494309189535 * _back_up_diesel_gen_sync_check_plls_split1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.V_gen
    HIL_OutAO(0x4022, (float)_back_up_diesel_gen_sync_check_plls_split1__out2);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.wt_gen
    HIL_OutAO(0x4024, (float)_back_up_diesel_gen_sync_check_plls_split1__out1);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Sum1
    _back_up_diesel_gen_sync_check_check_v_diff_sum1__out = _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out - _back_up_diesel_gen_sync_check_plls_split1__out2;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Sum6
    _back_up_diesel_gen_control_freq_setpoint_control_sum6__out =  - _back_up_diesel_gen_control_freq_setpoint_control_product3__out + _back_up_diesel_gen_control_freq_setpoint_control_sum5__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_Psp
    HIL_OutAO(0x4013, (float)_back_up_diesel_gen_control_freq_setpoint_control_sum5__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Sum7
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_sum7__out = _back_up_diesel_gen_control_governor_and_engine_degov_tf2__out + _back_up_diesel_gen_control_governor_and_engine_degov_integrator_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Bus Join2
    _back_up_diesel_gen_sync_check_bus_join2__out[0] = _back_up_diesel_gen_sync_check_bus_split1__out1;
    _back_up_diesel_gen_sync_check_bus_join2__out[1] = _back_up_diesel_gen_sync_check_bus_split1__out2;
    _back_up_diesel_gen_sync_check_bus_join2__out[2] = _back_up_diesel_gen_sync_check_bus_split1__out3;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.not
    _back_up_diesel_gen_sync_check_contactor_control_not__out = !_back_up_diesel_gen_sync_check_bus_split1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Speed_ss
    HIL_OutInt32(0xf0040d, _back_up_diesel_gen_sync_check_bus_split1__out4 != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.and2
    _back_up_diesel_gen_sync_check_and2__out = _back_up_diesel_gen_sync_check_not__out && _back_up_diesel_gen_sync_check_bus_split1__out && _back_up_diesel_gen_sync_check_bus_split1__out3 && _back_up_diesel_gen_sync_check_bus_split1__out4 && _back_up_diesel_gen_sync_check_check_v_diff_and__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Sum8
    _back_up_diesel_gen_control_freq_setpoint_control_sum8__out =  - _back_up_diesel_gen_control_freq_setpoint_control_f_droop_switch__out + _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Read_Control_mode.PQ_mode
    HIL_OutInt32(0xf00405, _back_up_diesel_gen_control_read_control_mode_state__PQ != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Read_Control_mode.PV_mode
    HIL_OutInt32(0xf00406, _back_up_diesel_gen_control_read_control_mode_state__PV != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Read_Control_mode.Vf_mode
    HIL_OutInt32(0xf00407, _back_up_diesel_gen_control_read_control_mode_state__Vf != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Rate Limiter1
    if (_back_up_diesel_gen_control_pf_control_rate_limiter1__first_step) {
        _back_up_diesel_gen_control_pf_control_rate_limiter1__out = _back_up_diesel_gen_control_pf_control_signal_switch2__out;
    } else {
        _back_up_diesel_gen_control_pf_control_rate_limiter1__out = _back_up_diesel_gen_control_pf_control_signal_switch2__out;
        _back_up_diesel_gen_control_pf_control_rate_limiter1__in_rate = _back_up_diesel_gen_control_pf_control_signal_switch2__out - _back_up_diesel_gen_control_pf_control_rate_limiter1__prev_out;
        if (_back_up_diesel_gen_control_pf_control_rate_limiter1__in_rate > 0.002) {
            _back_up_diesel_gen_control_pf_control_rate_limiter1__out = _back_up_diesel_gen_control_pf_control_rate_limiter1__prev_out + (0.002);
        }
        if (_back_up_diesel_gen_control_pf_control_rate_limiter1__in_rate < -0.002) {
            _back_up_diesel_gen_control_pf_control_rate_limiter1__out = _back_up_diesel_gen_control_pf_control_rate_limiter1__prev_out + (-0.002);
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Sum6
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum6__out =  - _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum8__out + _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.integrator
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out + 0.0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.rads_to_Hz
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_rads_to_hz__out = 0.15915494309189535 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.Gain1
    _dg_800kw_diesel_gen_sync_check_plls_gain1__out = 0.15915494309189535 * _dg_800kw_diesel_gen_sync_check_plls_split1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.V_gen
    HIL_OutAO(0x4037, (float)_dg_800kw_diesel_gen_sync_check_plls_split1__out2);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.wt_gen
    HIL_OutAO(0x4039, (float)_dg_800kw_diesel_gen_sync_check_plls_split1__out1);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Sum1
    _dg_800kw_diesel_gen_sync_check_check_v_diff_sum1__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__out - _dg_800kw_diesel_gen_sync_check_plls_split1__out2;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Kb
    _ess_battery_inverter_control_synch_phase_match_pi_kb__out = 1.0 * _ess_battery_inverter_control_synch_phase_match_pi_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Gain12
    _ess_battery_inverter_control_synch_phase_match_gain12__out = 0.016666666666666666 * _ess_battery_inverter_control_synch_phase_match_product1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Sum2
    _ess_battery_inverter_control_imode_control_dq_current_controller_sum2__out =  - _ess_battery_inverter_control_abctodq1_gain2__out + _ess_battery_inverter_control_imode_control_current_ref_product1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Sum1
    _ess_battery_inverter_control_imode_control_dq_current_controller_sum1__out =  - _ess_battery_inverter_control_abctodq1_gain1__out + _ess_battery_inverter_control_imode_control_current_ref_product2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Logical operator1
    _ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator1__out = _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__out || _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__out ;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.V_out_nom
    HIL_OutInt32(0xf0042a, _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Limit1
    if (_ess_battery_inverter_control_pll_pu_pll_pid_sum5__out > 527.7875658030853) {
        _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out = 527.7875658030853;
    } else if (_ess_battery_inverter_control_pll_pu_pll_pid_sum5__out < 0.0) {
        _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out = 0.0;
    } else {
        _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out = _ess_battery_inverter_control_pll_pu_pll_pid_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Logical operator1
    _ess_battery_inverter_control_synch_check_grid_logical_operator1__out = _ess_battery_inverter_control_synch_check_grid_comparator1__out || _ess_battery_inverter_control_synch_check_grid_comparator2__out ;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.out of limit volts
    HIL_OutInt32(0xf00429, _ess_battery_inverter_control_synch_check_grid_comparator2__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Counter1.en_switch
    _ess_battery_inverter_control_synch_vmatch_counter1_en_switch__out = (_ess_battery_inverter_control_synch_vmatch_comparator2__out > 0.0f) ? _ess_battery_inverter_control_synch_vmatch_counter1_const_value_1__out : _ess_battery_inverter_control_synch_vmatch_counter1_const_value_0__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Logical operator1
    _ess_battery_inverter_control_synch_vmatch_logical_operator1__out = !_ess_battery_inverter_control_synch_vmatch_comparator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Limit1
    if (_ess_battery_inverter_control_synch_pll_util_pll_pid_sum5__out > 527.7875658030853) {
        _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out = 527.7875658030853;
    } else if (_ess_battery_inverter_control_synch_pll_util_pll_pid_sum5__out < 0.0) {
        _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out = 0.0;
    } else {
        _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_sum5__out;
    }
    // Generated from the component: Microgrid_controller.PI_P.Limit1
    if (_microgrid_controller_pi_p_sum5__out > 1.0) {
        _microgrid_controller_pi_p_limit1__out = 1.0;
    } else if (_microgrid_controller_pi_p_sum5__out < -1.0) {
        _microgrid_controller_pi_p_limit1__out = -1.0;
    } else {
        _microgrid_controller_pi_p_limit1__out = _microgrid_controller_pi_p_sum5__out;
    }
    // Generated from the component: Microgrid_controller.PI_Q.Limit1
    if (_microgrid_controller_pi_q_sum5__out > 1.0) {
        _microgrid_controller_pi_q_limit1__out = 1.0;
    } else if (_microgrid_controller_pi_q_sum5__out < -1.0) {
        _microgrid_controller_pi_q_limit1__out = -1.0;
    } else {
        _microgrid_controller_pi_q_limit1__out = _microgrid_controller_pi_q_sum5__out;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Limit1
    if (_pcc_monitor_synch_check_check_phase_diff_pi_sum5__out > 0.1) {
        _pcc_monitor_synch_check_check_phase_diff_pi_limit1__out = 0.1;
    } else if (_pcc_monitor_synch_check_check_phase_diff_pi_sum5__out < -0.1) {
        _pcc_monitor_synch_check_check_phase_diff_pi_limit1__out = -0.1;
    } else {
        _pcc_monitor_synch_check_check_phase_diff_pi_limit1__out = _pcc_monitor_synch_check_check_phase_diff_pi_sum5__out;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.LPF
    _pcc_monitor_synch_check_check_phase_diff_lpf__a_sum = 0.0f;
    _pcc_monitor_synch_check_check_phase_diff_lpf__b_sum = 0.0f;
    _pcc_monitor_synch_check_check_phase_diff_lpf__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_check_phase_diff_lpf__i = 0; _pcc_monitor_synch_check_check_phase_diff_lpf__i < 1; _pcc_monitor_synch_check_check_phase_diff_lpf__i++) {
        _pcc_monitor_synch_check_check_phase_diff_lpf__b_sum += _pcc_monitor_synch_check_check_phase_diff_lpf__b_coeff[_pcc_monitor_synch_check_check_phase_diff_lpf__i + 1] * _pcc_monitor_synch_check_check_phase_diff_lpf__states[_pcc_monitor_synch_check_check_phase_diff_lpf__i];
    }
    _pcc_monitor_synch_check_check_phase_diff_lpf__a_sum += _pcc_monitor_synch_check_check_phase_diff_lpf__states[0] * _pcc_monitor_synch_check_check_phase_diff_lpf__a_coeff[1];
    _pcc_monitor_synch_check_check_phase_diff_lpf__delay_line_in = _pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta_confined - _pcc_monitor_synch_check_check_phase_diff_lpf__a_sum;
    _pcc_monitor_synch_check_check_phase_diff_lpf__b_sum += _pcc_monitor_synch_check_check_phase_diff_lpf__b_coeff[0] * _pcc_monitor_synch_check_check_phase_diff_lpf__delay_line_in;
    _pcc_monitor_synch_check_check_phase_diff_lpf__out = _pcc_monitor_synch_check_check_phase_diff_lpf__b_sum;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.phase_diff
    HIL_OutAO(0x4090, (float)_pcc_monitor_synch_check_check_phase_diff_confine_phase__dtheta_confined);
    // Generated from the component: DG_800kW.Interface.SM
    _dg_800kw_interface_sm__DERoption = _dg_800kw_interface_bus_split1__out;
    _dg_800kw_interface_sm__Ppms = _dg_800kw_interface_gain1__out;
    _dg_800kw_interface_sm__Pref = _dg_800kw_pref__out;
    _dg_800kw_interface_sm__Qpms = _dg_800kw_interface_gain3__out;
    _dg_800kw_interface_sm__Qref = _dg_800kw_qref__out;
    _dg_800kw_interface_sm__Vref = _dg_800kw_vref__out;
    _dg_800kw_interface_sm__dV = _dg_800kw_interface_bus_split2__out1;
    _dg_800kw_interface_sm__dw = _dg_800kw_interface_bus_split2__out;
    _dg_800kw_interface_sm__formGrid = _dg_800kw_interface_bus_split1__out1;
    _dg_800kw_interface_sm__wref = _dg_800kw_wref__out;
    if (_dg_800kw_interface_sm__DERoption > 0) {
        if (_dg_800kw_interface_sm__formGrid > 0) {
            _dg_800kw_interface_sm__gridForm = 2;
            _dg_800kw_interface_sm__V = _dg_800kw_interface_sm__Vref + _dg_800kw_interface_sm__dV;
            _dg_800kw_interface_sm__w = _dg_800kw_interface_sm__wref + _dg_800kw_interface_sm__dw;
            _dg_800kw_interface_sm__P = 0;
            _dg_800kw_interface_sm__Q = 0;
        }
        else {
            _dg_800kw_interface_sm__gridForm = 1;
            _dg_800kw_interface_sm__V = _dg_800kw_interface_sm__Vref;
            _dg_800kw_interface_sm__w = _dg_800kw_interface_sm__wref;
            _dg_800kw_interface_sm__P = _dg_800kw_interface_sm__Pref + _dg_800kw_interface_sm__Ppms;
            _dg_800kw_interface_sm__Q = _dg_800kw_interface_sm__Qref + _dg_800kw_interface_sm__Qpms;
        }
    }
    else {
        _dg_800kw_interface_sm__gridForm = 1;
        _dg_800kw_interface_sm__V = _dg_800kw_interface_sm__Vref;
        _dg_800kw_interface_sm__w = _dg_800kw_interface_sm__wref;
        _dg_800kw_interface_sm__P = _dg_800kw_interface_sm__Pref + _dg_800kw_interface_sm__Ppms;
        _dg_800kw_interface_sm__Q = _dg_800kw_interface_sm__Qref + _dg_800kw_interface_sm__Qpms;
    }
    // Generated from the component: ESS.Interface.Gain4
    _ess_interface_gain4__out = 60.0 * _ess_interface_bus_split2__out;
    // Generated from the component: ESS.Interface.Gain5
    _ess_interface_gain5__out = 208.0 * _ess_interface_bus_split2__out1;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Kb
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_kb__out = 1000.0 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.Sum1
    _back_up_diesel_gen_sync_check_plls_sum1__out = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output - _back_up_diesel_gen_sync_check_plls_split1__out1;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.wt_grid
    HIL_OutAO(0x4025, (float)_back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_f
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum = 0.0f;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum = 0.0f;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i = 0; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i < 1; _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i++) {
        _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum += _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_coeff[_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i + 1] * _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[_back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__i];
    }
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum += _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[0] * _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_coeff[1];
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_rads_to_hz__out - _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum += _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_coeff[0] * _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in;
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__out = _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.Sum1
    _back_up_diesel_gen_sync_check_check_f_diff_sum1__out = _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__out - _back_up_diesel_gen_sync_check_plls_gain1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.pu
    _back_up_diesel_gen_sync_check_check_v_diff_pu__out = 0.005888196497074946 * _back_up_diesel_gen_sync_check_check_v_diff_sum1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_sp
    HIL_OutAO(0x4014, (float)_back_up_diesel_gen_control_freq_setpoint_control_sum6__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Bus Split1
    _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out = _back_up_diesel_gen_sync_check_bus_join2__out[0];
    _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out1 = _back_up_diesel_gen_sync_check_bus_join2__out[1];
    _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out2 = _back_up_diesel_gen_sync_check_bus_join2__out[2];
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.and1
    _back_up_diesel_gen_sync_check_and1__out = _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out && _back_up_diesel_gen_sync_check_and2__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.dw_synch_ON
    HIL_OutInt32(0xf0040f, _back_up_diesel_gen_sync_check_and2__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.mode_switch
    _back_up_diesel_gen_control_freq_setpoint_control_mode_switch__out = (_back_up_diesel_gen_control_define_control_mode_control_mode__P_control > 0.5f) ? _back_up_diesel_gen_control_freq_setpoint_control_sum6__out : _back_up_diesel_gen_control_freq_setpoint_control_sum8__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Sum6
    _back_up_diesel_gen_control_pf_control_sum6__out = _back_up_diesel_gen_control_pf_control_rate_limiter1__out - _back_up_diesel_gen_control_pf_control_norm_pf_meas__pf_norm;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Kb
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_kb__out = 1000.0 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.Sum1
    _dg_800kw_diesel_gen_sync_check_plls_sum1__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output - _dg_800kw_diesel_gen_sync_check_plls_split1__out1;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.wt_grid
    HIL_OutAO(0x403a, (float)_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_f
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i = 0; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i < 1; _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i++) {
        _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_coeff[_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i + 1] * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[_dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__i];
    }
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[0] * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_coeff[1];
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_rads_to_hz__out - _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__a_sum;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_coeff[0] * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in;
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.Sum1
    _dg_800kw_diesel_gen_sync_check_check_f_diff_sum1__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__out - _dg_800kw_diesel_gen_sync_check_plls_gain1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.pu
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pu__out = 0.00029440982485374735 * _dg_800kw_diesel_gen_sync_check_check_v_diff_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Sum7
    _ess_battery_inverter_control_synch_phase_match_pi_sum7__out = _ess_battery_inverter_control_synch_phase_match_pi_ki__out + _ess_battery_inverter_control_synch_phase_match_pi_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Ki
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_ki__out = 347.22 * _ess_battery_inverter_control_imode_control_dq_current_controller_sum2__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Kp
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_kp__out = 0.347 * _ess_battery_inverter_control_imode_control_dq_current_controller_sum2__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Ki
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_ki__out = 347.22 * _ess_battery_inverter_control_imode_control_dq_current_controller_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Kp
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_kp__out = 0.347 * _ess_battery_inverter_control_imode_control_dq_current_controller_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Logical operator15
    _ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator15__out = !_ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator1__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Sum6
    _ess_battery_inverter_control_pll_pu_pll_pid_sum6__out =  - _ess_battery_inverter_control_pll_pu_pll_pid_sum5__out + _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.Rate Limiter1
    if (_ess_battery_inverter_control_pll_pu_pll_rate_limiter1__first_step) {
        _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out = _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out;
    } else {
        _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out = _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out;
        _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__in_rate = _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out - _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__prev_out;
        if (_ess_battery_inverter_control_pll_pu_pll_rate_limiter1__in_rate > 0.3769911184307752) {
            _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out = _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__prev_out + (0.3769911184307752);
        }
        if (_ess_battery_inverter_control_pll_pu_pll_rate_limiter1__in_rate < -0.3769911184307752) {
            _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out = _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__prev_out + (-0.3769911184307752);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.integrator
    _ess_battery_inverter_control_pll_pu_pll_integrator__in = _ess_battery_inverter_control_pll_pu_pll_pid_limit1__out;
    _ess_battery_inverter_control_pll_pu_pll_integrator__out += 0.0002 * _ess_battery_inverter_control_pll_pu_pll_integrator__in;
    if (_ess_battery_inverter_control_pll_pu_pll_integrator__in >= 0.0) {
        if (_ess_battery_inverter_control_pll_pu_pll_integrator__out >= 6.283185307179586) {
            _ess_battery_inverter_control_pll_pu_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_ess_battery_inverter_control_pll_pu_pll_integrator__out <= -6.283185307179586) {
            _ess_battery_inverter_control_pll_pu_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Logical operator15
    _ess_battery_inverter_control_synch_check_grid_logical_operator15__out = !_ess_battery_inverter_control_synch_check_grid_logical_operator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Sum6
    _ess_battery_inverter_control_synch_pll_util_pll_pid_sum6__out =  - _ess_battery_inverter_control_synch_pll_util_pll_pid_sum5__out + _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.Rate Limiter1
    if (_ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__first_step) {
        _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out;
    } else {
        _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out;
        _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__in_rate = _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out - _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__prev_out;
        if (_ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__in_rate > 0.3769911184307752) {
            _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out = _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__prev_out + (0.3769911184307752);
        }
        if (_ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__in_rate < -0.3769911184307752) {
            _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out = _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__prev_out + (-0.3769911184307752);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.integrator
    _ess_battery_inverter_control_synch_pll_util_pll_integrator__in = _ess_battery_inverter_control_synch_pll_util_pll_pid_limit1__out;
    _ess_battery_inverter_control_synch_pll_util_pll_integrator__out += 0.0002 * _ess_battery_inverter_control_synch_pll_util_pll_integrator__in;
    if (_ess_battery_inverter_control_synch_pll_util_pll_integrator__in >= 0.0) {
        if (_ess_battery_inverter_control_synch_pll_util_pll_integrator__out >= 6.283185307179586) {
            _ess_battery_inverter_control_synch_pll_util_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_ess_battery_inverter_control_synch_pll_util_pll_integrator__out <= -6.283185307179586) {
            _ess_battery_inverter_control_synch_pll_util_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: Microgrid_controller.Gain2
    _microgrid_controller_gain2__out = 860000.0 * _microgrid_controller_pi_p_limit1__out;
    // Generated from the component: Microgrid_controller.PI_P.Sum6
    _microgrid_controller_pi_p_sum6__out =  - _microgrid_controller_pi_p_sum5__out + _microgrid_controller_pi_p_limit1__out;
    // Generated from the component: Microgrid_controller.Gain4
    _microgrid_controller_gain4__out = 860000.0 * _microgrid_controller_pi_q_limit1__out;
    // Generated from the component: Microgrid_controller.PI_Q.Sum6
    _microgrid_controller_pi_q_sum6__out =  - _microgrid_controller_pi_q_sum5__out + _microgrid_controller_pi_q_limit1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Sum6
    _pcc_monitor_synch_check_check_phase_diff_pi_sum6__out =  - _pcc_monitor_synch_check_check_phase_diff_pi_sum5__out + _pcc_monitor_synch_check_check_phase_diff_pi_limit1__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Product1
    _pcc_monitor_synch_check_check_phase_diff_product1__out = (_pcc_monitor_synch_check_and1__out * _pcc_monitor_synch_check_check_phase_diff_pi_limit1__out);
    // Generated from the component: DG_800kW.Interface.getPF
    _dg_800kw_interface_getpf__P = _dg_800kw_interface_sm__P;
    _dg_800kw_interface_getpf__Q = _dg_800kw_interface_sm__Q;
    if (fabs(_dg_800kw_interface_getpf__P) > 0.1) {
        _dg_800kw_interface_getpf__x = _dg_800kw_interface_getpf__P * _dg_800kw_interface_getpf__P + _dg_800kw_interface_getpf__Q * _dg_800kw_interface_getpf__Q;
        if (_dg_800kw_interface_getpf__Q >= 0) {
            _dg_800kw_interface_getpf__pf = _dg_800kw_interface_getpf__P / sqrt(_dg_800kw_interface_getpf__x);
        }
        else {
            _dg_800kw_interface_getpf__pf = -_dg_800kw_interface_getpf__P / sqrt(_dg_800kw_interface_getpf__x);
        }
    }
    else {
        _dg_800kw_interface_getpf__pf = 1;
    }
    // Generated from the component: ESS.Interface.SM
    _ess_interface_sm__DERoption = _ess_interface_bus_split1__out;
    _ess_interface_sm__Ppms = _ess_interface_bus_split1__out2;
    _ess_interface_sm__Pref = _ess_pref__out;
    _ess_interface_sm__Qpms = _ess_interface_bus_split1__out3;
    _ess_interface_sm__Qref = _ess_qref__out;
    _ess_interface_sm__Vref = _ess_vref__out;
    _ess_interface_sm__dV = _ess_interface_gain5__out;
    _ess_interface_sm__dw = _ess_interface_gain4__out;
    _ess_interface_sm__formGrid = _ess_interface_bus_split1__out1;
    _ess_interface_sm__wref = _ess_f_ref__out;
    if (_ess_interface_sm__DERoption == 0) {
        if (_ess_interface_sm__formGrid > 0) {
            _ess_interface_sm__gridForm = 0;
            _ess_interface_sm__V = _ess_interface_sm__Vref + _ess_interface_sm__dV;
            _ess_interface_sm__w = _ess_interface_sm__wref + _ess_interface_sm__dw;
            _ess_interface_sm__P = 0;
            _ess_interface_sm__Q = 0;
        }
        else {
            _ess_interface_sm__gridForm = 1;
            _ess_interface_sm__V = _ess_interface_sm__Vref;
            _ess_interface_sm__w = _ess_interface_sm__wref;
            _ess_interface_sm__P = _ess_interface_sm__Pref + _ess_interface_sm__Ppms;
            _ess_interface_sm__Q = _ess_interface_sm__Qref + _ess_interface_sm__Qpms;
        }
    }
    else {
        _ess_interface_sm__gridForm = 1;
        _ess_interface_sm__V = _ess_interface_sm__Vref;
        _ess_interface_sm__w = _ess_interface_sm__wref;
        _ess_interface_sm__P = _ess_interface_sm__Pref + _ess_interface_sm__Ppms;
        _ess_interface_sm__Q = _ess_interface_sm__Qref + _ess_interface_sm__Qpms;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Sum7
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum7__out = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_ki__out + _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.confine_phase
    _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta = _back_up_diesel_gen_sync_check_plls_sum1__out;
    if (_back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta > 3.14159265359) {
        _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta - 6.28318530718;
    }
    else {
        if (_back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta < -3.14159265359) {
            _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta + 6.28318530718;
        }
        else {
            _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.LPF_dwf
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum = 0.0f;
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum = 0.0f;
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i = 0; _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i < 1; _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i++) {
        _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum += _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_coeff[_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i + 1] * _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[_back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__i];
    }
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum += _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[0] * _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_coeff[1];
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in = _back_up_diesel_gen_sync_check_check_f_diff_sum1__out - _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum;
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum += _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_coeff[0] * _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in;
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__out = _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Abs3
    _back_up_diesel_gen_sync_check_check_v_diff_abs3__out = fabs(_back_up_diesel_gen_sync_check_check_v_diff_pu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Ki
    _back_up_diesel_gen_sync_check_check_v_diff_pi_ki__out = 0.0354 * _back_up_diesel_gen_sync_check_check_v_diff_pu__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Kp
    _back_up_diesel_gen_sync_check_check_v_diff_pi_kp__out = 0.0071 * _back_up_diesel_gen_sync_check_check_v_diff_pu__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.V_diff
    HIL_OutAO(0x4026, (float)_back_up_diesel_gen_sync_check_check_v_diff_pu__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Edge Detection1.Relational operator1
    _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_relational_operator1__out = (_back_up_diesel_gen_sync_check_contactor_control_bus_split1__out2 != _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__out) ? 1 : 0;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.or
    _back_up_diesel_gen_sync_check_contactor_control_or__out = _back_up_diesel_gen_sync_check_contactor_control_not__out || _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Check_phase_ON
    HIL_OutInt32(0xf00409, _back_up_diesel_gen_sync_check_and1__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Integrator1
    if (((_back_up_diesel_gen_sync_check_and1__out > 0.0) && (_back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state <= 0)) || ((_back_up_diesel_gen_sync_check_and1__out <= 0.0) && (_back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state == 1))) {
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state = 0.0;
    }
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__out = _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Sum7
    _back_up_diesel_gen_control_freq_setpoint_control_sum7__out = _back_up_diesel_gen_control_freq_setpoint_control_load_share_switch__out + _back_up_diesel_gen_control_freq_setpoint_control_mode_switch__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Ki
    _back_up_diesel_gen_control_pf_control_pi_ki__out = 0.075 * _back_up_diesel_gen_control_pf_control_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Kp
    _back_up_diesel_gen_control_pf_control_pi_kp__out = 0.05 * _back_up_diesel_gen_control_pf_control_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Sum7
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum7__out = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_ki__out + _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.confine_phase
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta = _dg_800kw_diesel_gen_sync_check_plls_sum1__out;
    if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta > 3.14159265359) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta - 6.28318530718;
    }
    else {
        if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta < -3.14159265359) {
            _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta + 6.28318530718;
        }
        else {
            _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined = _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.LPF_dwf
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i = 0; _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i < 1; _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i++) {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum += _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_coeff[_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i + 1] * _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[_dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__i];
    }
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum += _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[0] * _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_coeff[1];
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in = _dg_800kw_diesel_gen_sync_check_check_f_diff_sum1__out - _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__a_sum;
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum += _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_coeff[0] * _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in;
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__out = _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Abs3
    _dg_800kw_diesel_gen_sync_check_check_v_diff_abs3__out = fabs(_dg_800kw_diesel_gen_sync_check_check_v_diff_pu__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Ki
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_ki__out = 0.0354 * _dg_800kw_diesel_gen_sync_check_check_v_diff_pu__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Kp
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_kp__out = 0.0071 * _dg_800kw_diesel_gen_sync_check_check_v_diff_pu__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Edge Detection1.Relational operator1
    _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_relational_operator1__out = (_ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator15__out != _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__out) ? 1 : 0;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Kb
    _ess_battery_inverter_control_pll_pu_pll_pid_kb__out = 1.0 * _ess_battery_inverter_control_pll_pu_pll_pid_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.LPF.LPF
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_sum = 0.0f;
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__b_sum = 0.0f;
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i = 0; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i < 1; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i++) {
        _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__b_sum += _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__b_coeff[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i] * _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i + 1];
    }
    for (_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i = 1; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i > 0; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i--) {
        _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_sum += _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_coeff[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i + 1] * _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i];
    }
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_sum += _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[0] * _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_coeff[1];
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__delay_line_in = _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out - _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__a_sum;
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__out = _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Kb
    _ess_battery_inverter_control_synch_pll_util_pll_pid_kb__out = 1.0 * _ess_battery_inverter_control_synch_pll_util_pll_pid_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.LPF.LPF
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_sum = 0.0f;
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__b_sum = 0.0f;
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__delay_line_in = 0.0f;
    for (_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i = 0; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i < 1; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i++) {
        _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__b_sum += _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__b_coeff[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i] * _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i + 1];
    }
    for (_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i = 1; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i > 0; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i--) {
        _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_sum += _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_coeff[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i + 1] * _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i];
    }
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_sum += _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[0] * _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_coeff[1];
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__delay_line_in = _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out - _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__a_sum;
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__out = _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__b_sum;
    // Generated from the component: Microgrid_controller.Signal switch2
    _microgrid_controller_signal_switch2__out = (_microgrid_controller_sm__zeropower > 0.0f) ? _microgrid_controller_gain2__out : _microgrid_controller_constant2__out;
    // Generated from the component: Microgrid_controller.PI_P.Kb
    _microgrid_controller_pi_p_kb__out = 1.0 * _microgrid_controller_pi_p_sum6__out;
    // Generated from the component: Microgrid_controller.Signal switch4
    _microgrid_controller_signal_switch4__out = (_microgrid_controller_sm__zeropower > 0.0f) ? _microgrid_controller_gain4__out : _microgrid_controller_constant3__out;
    // Generated from the component: Microgrid_controller.PI_Q.Kb
    _microgrid_controller_pi_q_kb__out = 1.0 * _microgrid_controller_pi_q_sum6__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Kb
    _pcc_monitor_synch_check_check_phase_diff_pi_kb__out = 1.0 * _pcc_monitor_synch_check_check_phase_diff_pi_sum6__out;
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.Sum4
    _pcc_monitor_synch_check_calculate_dw_synch_sum4__out = _pcc_monitor_synch_check_check_f_diff_pi_limit1__out + _pcc_monitor_synch_check_check_phase_diff_product1__out;
    // Generated from the component: DG_800kW.Bus Join3
    _dg_800kw_bus_join3__out[0] = _dg_800kw_gen_on__out;
    _dg_800kw_bus_join3__out[1] = _dg_800kw_interface_sm__V;
    _dg_800kw_bus_join3__out[2] = _dg_800kw_interface_sm__w;
    _dg_800kw_bus_join3__out[3] = _dg_800kw_interface_sm__P;
    _dg_800kw_bus_join3__out[4] = _dg_800kw_interface_getpf__pf;
    _dg_800kw_bus_join3__out[5] = _dg_800kw_interface_sm__gridForm;
    _dg_800kw_bus_join3__out[6] = _dg_800kw_gen_control_mode__out;
    _dg_800kw_bus_join3__out[7] = _dg_800kw_load_share_on__out;
    _dg_800kw_bus_join3__out[8] = _dg_800kw_load_share__out;
    // Generated from the component: ESS.Bus Join2
    _ess_bus_join2__out[0] = _ess_on__out;
    _ess_bus_join2__out[1] = _ess_interface_sm__gridForm;
    _ess_bus_join2__out[2] = _ess_interface_sm__w;
    _ess_bus_join2__out[3] = _ess_interface_sm__V;
    _ess_bus_join2__out[4] = _ess_interface_sm__P;
    _ess_bus_join2__out[5] = _ess_interface_sm__Q;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.offset_phase
    _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase = _back_up_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined;
    _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out = _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase - _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__off1 + _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__off2;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Comparator1
    if (_back_up_diesel_gen_sync_check_check_v_diff_volt_diff__out < _back_up_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_v_diff_comparator1__out = 0;
    } else if (_back_up_diesel_gen_sync_check_check_v_diff_volt_diff__out > _back_up_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_v_diff_comparator1__out = 1;
    } else {
        _back_up_diesel_gen_sync_check_check_v_diff_comparator1__out = _back_up_diesel_gen_sync_check_check_v_diff_comparator1__state;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Sum5
    _back_up_diesel_gen_sync_check_check_v_diff_pi_sum5__out = _back_up_diesel_gen_sync_check_check_v_diff_pi_kp__out + _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.wait_to_trip
    _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Reset = _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_relational_operator1__out;
    _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__boolean = _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out2;
    if (_back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc >= 3.0) {
        _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip = 1;
    }
    else {
        _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc += 0.0002 * _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__boolean;
    }
    if (_back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Reset == 1) {
        _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc = 0;
        _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip = 0;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Sum5
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum5__out = _back_up_diesel_gen_sync_check_check_phase_diff_pi_kp__out + _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.Sum3
    _back_up_diesel_gen_control_freq_setpoint_control_sum3__out = _back_up_diesel_gen_control_freq_setpoint_control_sum7__out - _back_up_diesel_gen_control_freq_setpoint_control_w_to_wpu__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.delta_w
    HIL_OutAO(0x4011, (float)_back_up_diesel_gen_control_freq_setpoint_control_sum7__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Sum5
    _back_up_diesel_gen_control_pf_control_pi_sum5__out = _back_up_diesel_gen_control_pf_control_pi_kp__out + _back_up_diesel_gen_control_pf_control_pi_integrator1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.offset_phase
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase = _dg_800kw_diesel_gen_sync_check_check_phase_diff_confine_phase__dtheta_confined;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase - _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__off1 + _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__off2;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Comparator1
    if (_dg_800kw_diesel_gen_sync_check_check_v_diff_volt_diff__out < _dg_800kw_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__out = 0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_v_diff_volt_diff__out > _dg_800kw_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__out = 1;
    } else {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__state;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Sum5
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum5__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_kp__out + _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.wait_to_change
    _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__in = _ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator15__out;
    _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__reset = _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_relational_operator1__out;
    if (_ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__in <= 0) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__counter = 0;
        _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out = 0;
    }
    else {
        if (_ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__counter >= _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__wait_time) {
            _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out = 1;
        }
        else {
            _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out = 0;
            _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__counter += 0.0002 * _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__in;
        }
    }
    if (_ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__reset == 1) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__counter = 0;
        _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out = 0;
    }
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Sum7
    _ess_battery_inverter_control_pll_pu_pll_pid_sum7__out = _ess_battery_inverter_control_pll_pu_pll_pid_ki__out + _ess_battery_inverter_control_pll_pu_pll_pid_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Sum7
    _ess_battery_inverter_control_synch_pll_util_pll_pid_sum7__out = _ess_battery_inverter_control_synch_pll_util_pll_pid_ki__out + _ess_battery_inverter_control_synch_pll_util_pll_pid_kb__out;
    // Generated from the component: Microgrid_controller.Poff
    HIL_OutAO(0x4082, (float)_microgrid_controller_signal_switch2__out);
    // Generated from the component: Microgrid_controller.PI_P.Sum7
    _microgrid_controller_pi_p_sum7__out = _microgrid_controller_pi_p_signal_switch2__out + _microgrid_controller_pi_p_kb__out;
    // Generated from the component: Microgrid_controller.Bus Join2
    _microgrid_controller_bus_join2__out[0] = _microgrid_controller_sm2__der_opt;
    _microgrid_controller_bus_join2__out[1] = _microgrid_controller_sm__gridform;
    _microgrid_controller_bus_join2__out[2] = _microgrid_controller_signal_switch2__out;
    _microgrid_controller_bus_join2__out[3] = _microgrid_controller_signal_switch4__out;
    _microgrid_controller_bus_join2__out[4] = _microgrid_controller_sm2__force_off;
    // Generated from the component: Microgrid_controller.Bus Join3
    _microgrid_controller_bus_join3__out[0] = _microgrid_controller_sm3__der_opt;
    _microgrid_controller_bus_join3__out[1] = _microgrid_controller_sm__gridform;
    _microgrid_controller_bus_join3__out[2] = _microgrid_controller_signal_switch2__out;
    _microgrid_controller_bus_join3__out[3] = _microgrid_controller_signal_switch4__out;
    _microgrid_controller_bus_join3__out[4] = _microgrid_controller_sm3__force_off;
    // Generated from the component: Microgrid_controller.Qoff
    HIL_OutAO(0x4083, (float)_microgrid_controller_signal_switch4__out);
    // Generated from the component: Microgrid_controller.PI_Q.Sum7
    _microgrid_controller_pi_q_sum7__out = _microgrid_controller_pi_q_signal_switch2__out + _microgrid_controller_pi_q_kb__out;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Sum7
    _pcc_monitor_synch_check_check_phase_diff_pi_sum7__out = _pcc_monitor_synch_check_check_phase_diff_pi_ki__out + _pcc_monitor_synch_check_check_phase_diff_pi_kb__out;
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.LPF_dw
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__a_sum = 0.0f;
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_sum = 0.0f;
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__delay_line_in = 0.0f;
    for (_pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i = 0; _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i < 1; _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i++) {
        _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_sum += _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_coeff[_pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i + 1] * _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__states[_pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__i];
    }
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__a_sum += _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__states[0] * _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__a_coeff[1];
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__delay_line_in = _pcc_monitor_synch_check_calculate_dw_synch_sum4__out - _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__a_sum;
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_sum += _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_coeff[0] * _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__delay_line_in;
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__out = _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Bus Split3
    _dg_800kw_diesel_gen_control_bus_split3__out = _dg_800kw_bus_join3__out[0];
    _dg_800kw_diesel_gen_control_bus_split3__out1 = _dg_800kw_bus_join3__out[1];
    _dg_800kw_diesel_gen_control_bus_split3__out2 = _dg_800kw_bus_join3__out[2];
    _dg_800kw_diesel_gen_control_bus_split3__out3 = _dg_800kw_bus_join3__out[3];
    _dg_800kw_diesel_gen_control_bus_split3__out4 = _dg_800kw_bus_join3__out[4];
    _dg_800kw_diesel_gen_control_bus_split3__out5 = _dg_800kw_bus_join3__out[5];
    _dg_800kw_diesel_gen_control_bus_split3__out6 = _dg_800kw_bus_join3__out[6];
    _dg_800kw_diesel_gen_control_bus_split3__out7 = _dg_800kw_bus_join3__out[7];
    _dg_800kw_diesel_gen_control_bus_split3__out8 = _dg_800kw_bus_join3__out[8];
    // Generated from the component: ESS.Battery inverter.Control_Inputs.Bus Split2
    _ess_battery_inverter_control_inputs_bus_split2__out = _ess_bus_join2__out[0];
    _ess_battery_inverter_control_inputs_bus_split2__out1 = _ess_bus_join2__out[1];
    _ess_battery_inverter_control_inputs_bus_split2__out2 = _ess_bus_join2__out[2];
    _ess_battery_inverter_control_inputs_bus_split2__out3 = _ess_bus_join2__out[3];
    _ess_battery_inverter_control_inputs_bus_split2__out4 = _ess_bus_join2__out[4];
    _ess_battery_inverter_control_inputs_bus_split2__out5 = _ess_bus_join2__out[5];
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.LPF
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__a_sum = 0.0f;
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_sum = 0.0f;
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_sync_check_check_phase_diff_lpf__i = 0; _back_up_diesel_gen_sync_check_check_phase_diff_lpf__i < 1; _back_up_diesel_gen_sync_check_check_phase_diff_lpf__i++) {
        _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_sum += _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_coeff[_back_up_diesel_gen_sync_check_check_phase_diff_lpf__i + 1] * _back_up_diesel_gen_sync_check_check_phase_diff_lpf__states[_back_up_diesel_gen_sync_check_check_phase_diff_lpf__i];
    }
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__a_sum += _back_up_diesel_gen_sync_check_check_phase_diff_lpf__states[0] * _back_up_diesel_gen_sync_check_check_phase_diff_lpf__a_coeff[1];
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in = _back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out - _back_up_diesel_gen_sync_check_check_phase_diff_lpf__a_sum;
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_sum += _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_coeff[0] * _back_up_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in;
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__out = _back_up_diesel_gen_sync_check_check_phase_diff_lpf__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.phase_diff
    HIL_OutAO(0x4028, (float)_back_up_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.V_match
    HIL_OutInt32(0xf0040e, _back_up_diesel_gen_sync_check_check_v_diff_comparator1__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Limit1
    if (_back_up_diesel_gen_sync_check_check_v_diff_pi_sum5__out > 1.0) {
        _back_up_diesel_gen_sync_check_check_v_diff_pi_limit1__out = 1.0;
    } else if (_back_up_diesel_gen_sync_check_check_v_diff_pi_sum5__out < -1.0) {
        _back_up_diesel_gen_sync_check_check_v_diff_pi_limit1__out = -1.0;
    } else {
        _back_up_diesel_gen_sync_check_check_v_diff_pi_limit1__out = _back_up_diesel_gen_sync_check_check_v_diff_pi_sum5__out;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.and
    _back_up_diesel_gen_sync_check_contactor_control_and__out = _back_up_diesel_gen_sync_check_bus_split1__out4 && _back_up_diesel_gen_sync_check_check_phase_diff_counter_c_function__out && _back_up_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip && _back_up_diesel_gen_sync_check_check_f_diff_comparator1__out && _back_up_diesel_gen_sync_check_check_v_diff_comparator1__out ;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Limit1
    if (_back_up_diesel_gen_sync_check_check_phase_diff_pi_sum5__out > 0.1) {
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_limit1__out = 0.1;
    } else if (_back_up_diesel_gen_sync_check_check_phase_diff_pi_sum5__out < -0.1) {
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_limit1__out = -0.1;
    } else {
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_limit1__out = _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum5__out;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Ki
    _back_up_diesel_gen_control_freq_setpoint_control_pi_ki__out = 0.01 * _back_up_diesel_gen_control_freq_setpoint_control_sum3__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Kp
    _back_up_diesel_gen_control_freq_setpoint_control_pi_kp__out = 0.01 * _back_up_diesel_gen_control_freq_setpoint_control_sum3__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Limit1
    if (_back_up_diesel_gen_control_pf_control_pi_sum5__out > 10.0) {
        _back_up_diesel_gen_control_pf_control_pi_limit1__out = 10.0;
    } else if (_back_up_diesel_gen_control_pf_control_pi_sum5__out < -10.0) {
        _back_up_diesel_gen_control_pf_control_pi_limit1__out = -10.0;
    } else {
        _back_up_diesel_gen_control_pf_control_pi_limit1__out = _back_up_diesel_gen_control_pf_control_pi_sum5__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.LPF
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__a_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i = 0; _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i < 1; _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i++) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_sum += _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_coeff[_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i + 1] * _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__states[_dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__i];
    }
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__a_sum += _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__states[0] * _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__a_coeff[1];
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in = _dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out - _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__a_sum;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_sum += _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_coeff[0] * _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in;
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.phase_diff
    HIL_OutAO(0x403c, (float)_dg_800kw_diesel_gen_sync_check_check_phase_diff_offset_phase__phase_out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.V_match
    HIL_OutInt32(0xf0041e, _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Limit1
    if (_dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum5__out > 1.0) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_limit1__out = 1.0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum5__out < -1.0) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_limit1__out = -1.0;
    } else {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_limit1__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.on_nominal
    HIL_OutInt32(0xf0042d, _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out != 0x0);
    // Generated from the component: Back-Up.Rate Transition1.Input
    _back_up_rate_transition1_output__out[0] = _microgrid_controller_bus_join3__out[0];
    _back_up_rate_transition1_output__out[1] = _microgrid_controller_bus_join3__out[1];
    _back_up_rate_transition1_output__out[2] = _microgrid_controller_bus_join3__out[2];
    _back_up_rate_transition1_output__out[3] = _microgrid_controller_bus_join3__out[3];
    _back_up_rate_transition1_output__out[4] = _microgrid_controller_bus_join3__out[4];
    // Generated from the component: DG_800kW.Interface.Rate Transition1.Input
    _dg_800kw_interface_rate_transition1_output__out[0] = _microgrid_controller_bus_join3__out[0];
    _dg_800kw_interface_rate_transition1_output__out[1] = _microgrid_controller_bus_join3__out[1];
    _dg_800kw_interface_rate_transition1_output__out[2] = _microgrid_controller_bus_join3__out[2];
    _dg_800kw_interface_rate_transition1_output__out[3] = _microgrid_controller_bus_join3__out[3];
    _dg_800kw_interface_rate_transition1_output__out[4] = _microgrid_controller_bus_join3__out[4];
    // Generated from the component: ESS.Interface.Rate Transition1.Input
    _ess_interface_rate_transition1_output__out[0] = _microgrid_controller_bus_join3__out[0];
    _ess_interface_rate_transition1_output__out[1] = _microgrid_controller_bus_join3__out[1];
    _ess_interface_rate_transition1_output__out[2] = _microgrid_controller_bus_join3__out[2];
    _ess_interface_rate_transition1_output__out[3] = _microgrid_controller_bus_join3__out[3];
    _ess_interface_rate_transition1_output__out[4] = _microgrid_controller_bus_join3__out[4];
    // Generated from the component: Fuel_Cell.interface.Bus Split1
    _fuel_cell_interface_bus_split1__out = _microgrid_controller_bus_join3__out[0];
    _fuel_cell_interface_bus_split1__out1 = _microgrid_controller_bus_join3__out[1];
    _fuel_cell_interface_bus_split1__out2 = _microgrid_controller_bus_join3__out[2];
    _fuel_cell_interface_bus_split1__out3 = _microgrid_controller_bus_join3__out[3];
    _fuel_cell_interface_bus_split1__out4 = _microgrid_controller_bus_join3__out[4];
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Define_control_mode.Control_mode
    _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Control_mode = _dg_800kw_diesel_gen_control_bus_split3__out6;
    if (_dg_800kw_diesel_gen_control_define_control_mode_control_mode__Control_mode == 1) {
        _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control = 1;
        _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Q_control = 0;
    }
    else {
        if (_dg_800kw_diesel_gen_control_define_control_mode_control_mode__Control_mode == 2) {
            _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control = 1;
            _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Q_control = 1;
        }
        else {
            _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control = 0;
            _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Q_control = 0;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.P_limit
    if (_dg_800kw_diesel_gen_control_bus_split3__out3 > 0.8) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out = 0.8;
    } else if (_dg_800kw_diesel_gen_control_bus_split3__out3 < 0.0) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out = 0.0;
    } else {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out = _dg_800kw_diesel_gen_control_bus_split3__out3;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.load_share_switch
    _dg_800kw_diesel_gen_control_freq_setpoint_control_load_share_switch__out = (_dg_800kw_diesel_gen_control_bus_split3__out7 > 0.5f) ? _dg_800kw_diesel_gen_control_bus_split3__out8 : _dg_800kw_diesel_gen_control_freq_setpoint_control_zero1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Gen_On
    HIL_OutInt32(0xf00412, _dg_800kw_diesel_gen_control_bus_split3__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Integrator1
    if (((_dg_800kw_diesel_gen_control_bus_split3__out > 0.0) && (_dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state <= 0)) || ((_dg_800kw_diesel_gen_control_bus_split3__out <= 0.0) && (_dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state == 1))) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state = 0.0;
    }
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out = _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.w_switch
    _dg_800kw_diesel_gen_control_governor_and_engine_w_switch__out = (_dg_800kw_diesel_gen_control_bus_split3__out < 0.5f) ? _dg_800kw_diesel_gen_control_governor_and_engine_zero__out : _dg_800kw_diesel_gen_control_bus_split3__out2;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Round1
    _dg_800kw_diesel_gen_control_round1__out =  round(_dg_800kw_diesel_gen_control_bus_split3__out5);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Start_Exciter.and
    _dg_800kw_diesel_gen_control_start_exciter_and__out = _dg_800kw_diesel_gen_control_bus_split3__out && _dg_800kw_diesel_gen_control_start_exciter_comparator1__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.greater_equal
    _dg_800kw_diesel_gen_control_pf_control_greater_equal__out = (_dg_800kw_diesel_gen_control_bus_split3__out3 >= _dg_800kw_diesel_gen_control_pf_control_constant1__out) ? 1 : 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.norm_pf_ref
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__P = _dg_800kw_diesel_gen_control_bus_split1__out;
    _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf = _dg_800kw_diesel_gen_control_bus_split3__out4;
    if (_dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__P >= 0) {
        if (_dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf >= 0) {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = 2 - _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
        else {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = -_dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
    }
    else {
        if (_dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf >= 0) {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = 2 - _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
        else {
            _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm = -_dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Output.Bus Join1
    _dg_800kw_diesel_gen_output_bus_join1__out[0] = _dg_800kw_diesel_gen_control_bus_split3__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[1] = _dg_800kw_diesel_gen_gen_machine_wrapper1__speed_out;
    _dg_800kw_diesel_gen_output_bus_join1__out[2] = _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[3] = _dg_800kw_diesel_gen_measurements_va_va1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[4] = _dg_800kw_diesel_gen_measurements_vb_va1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[5] = _dg_800kw_diesel_gen_measurements_vc_va1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[6] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_normalize_v_terminal__t;
    _dg_800kw_diesel_gen_output_bus_join1__out[7] = _dg_800kw_diesel_gen_measurements_ia_ia1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[8] = _dg_800kw_diesel_gen_measurements_ib_ia1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[9] = _dg_800kw_diesel_gen_measurements_ic_ia1__out;
    _dg_800kw_diesel_gen_output_bus_join1__out[10] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Pdc;
    _dg_800kw_diesel_gen_output_bus_join1__out[11] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__Qdc;
    _dg_800kw_diesel_gen_output_bus_join1__out[12] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__apparent;
    _dg_800kw_diesel_gen_output_bus_join1__out[13] = _dg_800kw_diesel_gen_measurements_pq_measure_pq_power_meter1__k_factor;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Gain1
    _ess_battery_inverter_control_imode_control_gain1__out = 2e-06 * _ess_battery_inverter_control_inputs_bus_split2__out4;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Gain2
    _ess_battery_inverter_control_imode_control_gain2__out = 2e-06 * _ess_battery_inverter_control_inputs_bus_split2__out5;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Gain1
    _ess_battery_inverter_control_vmode_control_gain1__out = 0.004807692307692308 * _ess_battery_inverter_control_inputs_bus_split2__out3;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Gain2
    _ess_battery_inverter_control_vmode_control_gain2__out = 0.016666666666666666 * _ess_battery_inverter_control_inputs_bus_split2__out2;
    // Generated from the component: ESS.Battery inverter.Control_Inputs.Limit1
    if (_ess_battery_inverter_control_inputs_bus_split2__out > 1.0) {
        _ess_battery_inverter_control_inputs_limit1__out = 1.0;
    } else if (_ess_battery_inverter_control_inputs_bus_split2__out < 0.0) {
        _ess_battery_inverter_control_inputs_limit1__out = 0.0;
    } else {
        _ess_battery_inverter_control_inputs_limit1__out = _ess_battery_inverter_control_inputs_bus_split2__out;
    }
    // Generated from the component: ESS.Battery inverter.Control_Inputs.Limit2
    if (_ess_battery_inverter_control_inputs_bus_split2__out1 > 1.0) {
        _ess_battery_inverter_control_inputs_limit2__out = 1.0;
    } else if (_ess_battery_inverter_control_inputs_bus_split2__out1 < 0.0) {
        _ess_battery_inverter_control_inputs_limit2__out = 0.0;
    } else {
        _ess_battery_inverter_control_inputs_limit2__out = _ess_battery_inverter_control_inputs_bus_split2__out1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Sum6
    _back_up_diesel_gen_sync_check_check_v_diff_pi_sum6__out =  - _back_up_diesel_gen_sync_check_check_v_diff_pi_sum5__out + _back_up_diesel_gen_sync_check_check_v_diff_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Signal switch1
    _back_up_diesel_gen_sync_check_check_v_diff_signal_switch1__out = (_back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out < 0.5f) ? _back_up_diesel_gen_sync_check_check_v_diff_zero__out : _back_up_diesel_gen_sync_check_check_v_diff_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.GCB_control
    HIL_OutInt32(0xf0040b, _back_up_diesel_gen_sync_check_contactor_control_and__out != 0x0);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Signal switch1
    _back_up_diesel_gen_sync_check_contactor_control_signal_switch1__out = (_back_up_diesel_gen_sync_check_contactor_control_bus_split1__out1 < 0.5f) ? _back_up_diesel_gen_sync_check_contactor_control_and__out : _back_up_diesel_gen_sync_check_contactor_control_close__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Sum6
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum6__out =  - _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum5__out + _back_up_diesel_gen_sync_check_check_phase_diff_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Product1
    _back_up_diesel_gen_sync_check_check_phase_diff_product1__out = (_back_up_diesel_gen_sync_check_and1__out * _back_up_diesel_gen_sync_check_check_phase_diff_pi_limit1__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Sum5
    _back_up_diesel_gen_control_freq_setpoint_control_pi_sum5__out = _back_up_diesel_gen_control_freq_setpoint_control_pi_kp__out + _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Sum6
    _back_up_diesel_gen_control_pf_control_pi_sum6__out =  - _back_up_diesel_gen_control_pf_control_pi_sum5__out + _back_up_diesel_gen_control_pf_control_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Signal switch4
    _back_up_diesel_gen_control_pf_control_signal_switch4__out = (_back_up_diesel_gen_control_pf_control_logical_operator5__out > 0.0f) ? _back_up_diesel_gen_control_pf_control_pi_limit1__out : _back_up_diesel_gen_control_pf_control_zero1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Sum6
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum6__out =  - _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum5__out + _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Signal switch1
    _dg_800kw_diesel_gen_sync_check_check_v_diff_signal_switch1__out = (_dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out < 0.5f) ? _dg_800kw_diesel_gen_sync_check_check_v_diff_zero__out : _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_limit1__out;
    // Generated from the component: Fuel_Cell.interface.Rate Transition1.Input
    _fuel_cell_interface_rate_transition1_output__out = _fuel_cell_interface_bus_split1__out4;
    // Generated from the component: Fuel_Cell.interface.Termination1
    // Generated from the component: Fuel_Cell.interface.Termination2
    // Generated from the component: Fuel_Cell.interface.Termination3
    // Generated from the component: Fuel_Cell.interface.Termination4
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.P_ramp
    if (_dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__first_step) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out;
    } else {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out;
        _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate = _dg_800kw_diesel_gen_control_freq_setpoint_control_p_limit__out - _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out;
        if (_dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate > 0.002) {
            _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out + (0.002);
        }
        if (_dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__in_rate < -0.002) {
            _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out + (-0.002);
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Limit1
    if (_dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out > 10.0) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out = 10.0;
    } else if (_dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out < -10.0) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out = -10.0;
    } else {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out = _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.w_ramp
    if (_dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__first_step) {
        _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out = _dg_800kw_diesel_gen_control_governor_and_engine_w_switch__out;
    } else {
        _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out = _dg_800kw_diesel_gen_control_governor_and_engine_w_switch__out;
        _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__in_rate = _dg_800kw_diesel_gen_control_governor_and_engine_w_switch__out - _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__prev_out;
        if (_dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__in_rate > 0.002) {
            _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out = _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__prev_out + (0.002);
        }
        if (_dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__in_rate < -0.002) {
            _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out = _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__prev_out + (-0.002);
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.read_OP_mode
    _dg_800kw_diesel_gen_control_read_op_mode__GCB_status = _dg_800kw_diesel_gen_control_unit_delay1__out;
    _dg_800kw_diesel_gen_control_read_op_mode__OP_mode = _dg_800kw_diesel_gen_control_round1__out;
    if (_dg_800kw_diesel_gen_control_read_op_mode__OP_mode == 0) {
        _dg_800kw_diesel_gen_control_read_op_mode__StandBy = 1;
        _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing = 0;
        _dg_800kw_diesel_gen_control_read_op_mode__GridForming = 0;
        _dg_800kw_diesel_gen_control_read_op_mode__enable = 0;
    }
    else {
        if (_dg_800kw_diesel_gen_control_read_op_mode__OP_mode == 1) {
            _dg_800kw_diesel_gen_control_read_op_mode__StandBy = 0;
            _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing = 1;
            _dg_800kw_diesel_gen_control_read_op_mode__GridForming = 0;
            if (_dg_800kw_diesel_gen_control_read_op_mode__GCB_status == 0) {
                _dg_800kw_diesel_gen_control_read_op_mode__enable = 0;
            }
            else {
                _dg_800kw_diesel_gen_control_read_op_mode__enable = 1;
            }
        }
        else {
            _dg_800kw_diesel_gen_control_read_op_mode__StandBy = 0;
            _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing = 0;
            _dg_800kw_diesel_gen_control_read_op_mode__GridForming = 1;
            _dg_800kw_diesel_gen_control_read_op_mode__enable = 0;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Integrator1
    if (((_dg_800kw_diesel_gen_control_start_exciter_and__out > 0.0) && (_dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state <= 0)) || ((_dg_800kw_diesel_gen_control_start_exciter_and__out <= 0.0) && (_dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state == 1))) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__state = 0.0;
    }
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__out = _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Product1
    _dg_800kw_diesel_gen_control_exciter_product1__out = (_dg_800kw_diesel_gen_control_start_exciter_and__out * _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.switch
    _dg_800kw_diesel_gen_control_exciter_switch__out = (_dg_800kw_diesel_gen_control_start_exciter_and__out < 0.5f) ? _dg_800kw_diesel_gen_control_exciter_zero__out : _dg_800kw_diesel_gen_control_bus_split3__out1;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter_on
    HIL_OutInt32(0xf00411, _dg_800kw_diesel_gen_control_start_exciter_and__out != 0x0);
    // Generated from the component: DG_800kW.split.Bus Split1
    _dg_800kw_split_bus_split1__out = _dg_800kw_diesel_gen_output_bus_join1__out[0];
    _dg_800kw_split_bus_split1__out1 = _dg_800kw_diesel_gen_output_bus_join1__out[1];
    _dg_800kw_split_bus_split1__out2 = _dg_800kw_diesel_gen_output_bus_join1__out[2];
    _dg_800kw_split_bus_split1__out3 = _dg_800kw_diesel_gen_output_bus_join1__out[3];
    _dg_800kw_split_bus_split1__out4 = _dg_800kw_diesel_gen_output_bus_join1__out[4];
    _dg_800kw_split_bus_split1__out5 = _dg_800kw_diesel_gen_output_bus_join1__out[5];
    _dg_800kw_split_bus_split1__out6 = _dg_800kw_diesel_gen_output_bus_join1__out[6];
    _dg_800kw_split_bus_split1__out7 = _dg_800kw_diesel_gen_output_bus_join1__out[7];
    _dg_800kw_split_bus_split1__out8 = _dg_800kw_diesel_gen_output_bus_join1__out[8];
    _dg_800kw_split_bus_split1__out9 = _dg_800kw_diesel_gen_output_bus_join1__out[9];
    _dg_800kw_split_bus_split1__out10 = _dg_800kw_diesel_gen_output_bus_join1__out[10];
    _dg_800kw_split_bus_split1__out11 = _dg_800kw_diesel_gen_output_bus_join1__out[11];
    _dg_800kw_split_bus_split1__out12 = _dg_800kw_diesel_gen_output_bus_join1__out[12];
    _dg_800kw_split_bus_split1__out13 = _dg_800kw_diesel_gen_output_bus_join1__out[13];
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.priority_PQlim.PQ limiting with priority
    _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref = _ess_battery_inverter_control_imode_control_gain1__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref = _ess_battery_inverter_control_imode_control_gain2__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax = _ess_battery_inverter_control_imode_control_constant1__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref = sqrt(_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref + _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref);
    if (_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref >= 0)_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ = 1;
    else _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ = -1;
    if (_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref >= 0)_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP = 1;
    else _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP = -1;
    if (_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref <= _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax) {
        _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__S = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref;
        _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref;
        _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref;
    }
    else {
        _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__S = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
        if (1.0 == 1) {
            if (fabs(_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref) > _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax) {
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = 0;
            }
            else {
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref;
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ * sqrt(_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax - _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref);
            }
        }
        else if (1.0 == 2) {
            if (fabs(_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref) > _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax) {
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signQ * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = 0;
            }
            else {
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref;
                _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__signP * sqrt(_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax - _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref);
            }
        }
        else {
            _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P = (_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Pref / _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref) * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
            _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q = (_ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Qref / _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Sref) * _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Smax;
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Rate Limiter2
    if (_ess_battery_inverter_control_vmode_control_rate_limiter2__first_step) {
        _ess_battery_inverter_control_vmode_control_rate_limiter2__out = _ess_battery_inverter_control_vmode_control_gain2__out;
    } else {
        _ess_battery_inverter_control_vmode_control_rate_limiter2__out = _ess_battery_inverter_control_vmode_control_gain2__out;
        _ess_battery_inverter_control_vmode_control_rate_limiter2__in_rate = _ess_battery_inverter_control_vmode_control_gain2__out - _ess_battery_inverter_control_vmode_control_rate_limiter2__prev_out;
        if (_ess_battery_inverter_control_vmode_control_rate_limiter2__in_rate > 0.002) {
            _ess_battery_inverter_control_vmode_control_rate_limiter2__out = _ess_battery_inverter_control_vmode_control_rate_limiter2__prev_out + (0.002);
        }
        if (_ess_battery_inverter_control_vmode_control_rate_limiter2__in_rate < -0.002) {
            _ess_battery_inverter_control_vmode_control_rate_limiter2__out = _ess_battery_inverter_control_vmode_control_rate_limiter2__prev_out + (-0.002);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control_Inputs.Round2
    _ess_battery_inverter_control_inputs_round2__out =  round(_ess_battery_inverter_control_inputs_limit1__out);
    // Generated from the component: ESS.Battery inverter.Control_Inputs.Round1
    _ess_battery_inverter_control_inputs_round1__out =  round(_ess_battery_inverter_control_inputs_limit2__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Kb
    _back_up_diesel_gen_sync_check_check_v_diff_pi_kb__out = 1.0 * _back_up_diesel_gen_sync_check_check_v_diff_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Bus Join
    _back_up_diesel_gen_sync_check_bus_join__out[0] = _back_up_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out;
    _back_up_diesel_gen_sync_check_bus_join__out[1] = _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
    _back_up_diesel_gen_sync_check_bus_join__out[2] = _back_up_diesel_gen_sync_check_check_v_diff_signal_switch1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.dV
    HIL_OutAO(0x402a, (float)_back_up_diesel_gen_sync_check_check_v_diff_signal_switch1__out);
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Kb
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_kb__out = 1.0 * _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.Sum4
    _back_up_diesel_gen_sync_check_calculate_dw_synch_sum4__out = _back_up_diesel_gen_sync_check_check_f_diff_topu__out + _back_up_diesel_gen_sync_check_check_phase_diff_product1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.dw_phase
    HIL_OutAO(0x402c, (float)_back_up_diesel_gen_sync_check_check_phase_diff_product1__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Limit1
    if (_back_up_diesel_gen_control_freq_setpoint_control_pi_sum5__out > 10.0) {
        _back_up_diesel_gen_control_freq_setpoint_control_pi_limit1__out = 10.0;
    } else if (_back_up_diesel_gen_control_freq_setpoint_control_pi_sum5__out < -10.0) {
        _back_up_diesel_gen_control_freq_setpoint_control_pi_limit1__out = -10.0;
    } else {
        _back_up_diesel_gen_control_freq_setpoint_control_pi_limit1__out = _back_up_diesel_gen_control_freq_setpoint_control_pi_sum5__out;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Kb
    _back_up_diesel_gen_control_pf_control_pi_kb__out = 1.0 * _back_up_diesel_gen_control_pf_control_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.delta_V
    HIL_OutAO(0x401a, (float)_back_up_diesel_gen_control_pf_control_signal_switch4__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Kb
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_kb__out = 1.0 * _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Bus Join
    _dg_800kw_diesel_gen_sync_check_bus_join__out[0] = _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_signal_switch1__out;
    _dg_800kw_diesel_gen_sync_check_bus_join__out[1] = _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__out;
    _dg_800kw_diesel_gen_sync_check_bus_join__out[2] = _dg_800kw_diesel_gen_sync_check_check_v_diff_signal_switch1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Product2
    _dg_800kw_diesel_gen_control_freq_setpoint_control_product2__out = (_dg_800kw_diesel_gen_control_freq_setpoint_control_p_droop__out * _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out * _dg_800kw_diesel_gen_control_freq_setpoint_control_w_to_wpu__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Sum6
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_sum6__out =  - _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__out + _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Bus Join1
    _dg_800kw_diesel_gen_control_bus_join1__out[0] = _dg_800kw_diesel_gen_control_bus_split3__out;
    _dg_800kw_diesel_gen_control_bus_join1__out[1] = _dg_800kw_diesel_gen_control_read_op_mode__StandBy;
    _dg_800kw_diesel_gen_control_bus_join1__out[2] = _dg_800kw_diesel_gen_control_read_op_mode__GridForming;
    _dg_800kw_diesel_gen_control_bus_join1__out[3] = _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing;
    _dg_800kw_diesel_gen_control_bus_join1__out[4] = _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Integrator1
    if (((_dg_800kw_diesel_gen_control_read_op_mode__enable > 0.0) && (_dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state <= 0)) || ((_dg_800kw_diesel_gen_control_read_op_mode__enable <= 0.0) && (_dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state == 1))) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__state = 0.0;
    }
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.f_droop_switch
    _dg_800kw_diesel_gen_control_freq_setpoint_control_f_droop_switch__out = (_dg_800kw_diesel_gen_control_read_op_mode__enable > 0.5f) ? _dg_800kw_diesel_gen_control_freq_setpoint_control_product1__out : _dg_800kw_diesel_gen_control_freq_setpoint_control_zero1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.w_switch
    _dg_800kw_diesel_gen_control_freq_setpoint_control_w_switch__out = (_dg_800kw_diesel_gen_control_read_op_mode__enable < 0.5f) ? _dg_800kw_diesel_gen_control_freq_setpoint_control_zero1__out : _dg_800kw_diesel_gen_control_bus_split3__out2;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.GridFollowing
    HIL_OutInt32(0xf00413, _dg_800kw_diesel_gen_control_read_op_mode__GridFollowing != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.GridForming
    HIL_OutInt32(0xf00414, _dg_800kw_diesel_gen_control_read_op_mode__GridForming != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.StandBy
    HIL_OutInt32(0xf00418, _dg_800kw_diesel_gen_control_read_op_mode__StandBy != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Logical operator5
    _dg_800kw_diesel_gen_control_pf_control_logical_operator5__out = _dg_800kw_diesel_gen_control_read_op_mode__enable && _dg_800kw_diesel_gen_control_define_control_mode_control_mode__Q_control && _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control && _dg_800kw_diesel_gen_control_pf_control_greater_equal__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Vfpu_to_Vf
    _dg_800kw_diesel_gen_control_exciter_vfpu_to_vf__out = 3396.6257766593403 * _dg_800kw_diesel_gen_control_exciter_product1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Rate Limit
    if (_dg_800kw_diesel_gen_control_exciter_rate_limit__first_step) {
        _dg_800kw_diesel_gen_control_exciter_rate_limit__out = _dg_800kw_diesel_gen_control_exciter_switch__out;
    } else {
        _dg_800kw_diesel_gen_control_exciter_rate_limit__out = _dg_800kw_diesel_gen_control_exciter_switch__out;
        _dg_800kw_diesel_gen_control_exciter_rate_limit__in_rate = _dg_800kw_diesel_gen_control_exciter_switch__out - _dg_800kw_diesel_gen_control_exciter_rate_limit__prev_out;
        if (_dg_800kw_diesel_gen_control_exciter_rate_limit__in_rate > 0.002) {
            _dg_800kw_diesel_gen_control_exciter_rate_limit__out = _dg_800kw_diesel_gen_control_exciter_rate_limit__prev_out + (0.002);
        }
        if (_dg_800kw_diesel_gen_control_exciter_rate_limit__in_rate < -0.002) {
            _dg_800kw_diesel_gen_control_exciter_rate_limit__out = _dg_800kw_diesel_gen_control_exciter_rate_limit__prev_out + (-0.002);
        }
    }
    // Generated from the component: DG_800kW.split.Logical operator1
    _dg_800kw_split_logical_operator1__out = _dg_800kw_split_bus_split1__out && _dg_800kw_split_bus_split1__out1 ;
    // Generated from the component: DG_800kW.split.T
    // Generated from the component: DG_800kW.split.T1
    // Generated from the component: DG_800kW.split.T10
    // Generated from the component: DG_800kW.split.T11
    // Generated from the component: DG_800kW.split.T2
    // Generated from the component: DG_800kW.split.T3
    // Generated from the component: DG_800kW.split.T4
    // Generated from the component: DG_800kW.split.T5
    // Generated from the component: DG_800kW.split.T6
    // Generated from the component: DG_800kW.split.T7
    // Generated from the component: DG_800kW.split.T8
    // Generated from the component: DG_800kW.split.T9
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.P rate limit
    if (_ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__first_step) {
        _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P;
    } else {
        _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P;
        _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__in_rate = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__P - _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__prev_out;
        if (_ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__in_rate > 20.0) {
            _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__prev_out + (20.0);
        }
        if (_ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__in_rate < -20.0) {
            _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__prev_out + (-20.0);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.Q rate limit
    if (_ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__first_step) {
        _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q;
    } else {
        _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q;
        _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__in_rate = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__Q - _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__prev_out;
        if (_ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__in_rate > 20.0) {
            _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__prev_out + (20.0);
        }
        if (_ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__in_rate < -20.0) {
            _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__prev_out + (-20.0);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.S rate limit
    if (_ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__first_step) {
        _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__S;
    } else {
        _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__S;
        _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__in_rate = _ess_battery_inverter_control_imode_control_limit_pqref_priority_pqlim_pq_limiting_with_priority__S - _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__prev_out;
        if (_ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__in_rate > 20.0) {
            _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__prev_out + (20.0);
        }
        if (_ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__in_rate < -20.0) {
            _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out = _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__prev_out + (-20.0);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.internal_frequency.Sum1
    _ess_battery_inverter_control_vmode_control_internal_frequency_sum1__out = _ess_battery_inverter_control_vmode_control_rate_limiter2__out + _ess_battery_inverter_control_synch_phase_match_unit_delay5__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Edge Detection2.Relational operator1
    _ess_battery_inverter_control_imode_control_edge_detection2_relational_operator1__out = (_ess_battery_inverter_control_inputs_round2__out != _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__out) ? 1 : 0;
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.read_mode.on
    HIL_OutInt32(0xf00426, _ess_battery_inverter_control_inputs_round2__out != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Edge Detection2.Relational operator1
    _ess_battery_inverter_control_vmode_control_edge_detection2_relational_operator1__out = (_ess_battery_inverter_control_inputs_round2__out != _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__out) ? 1 : 0;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Signal switch1
    _ess_battery_inverter_control_vmode_control_signal_switch1__out = (_ess_battery_inverter_control_inputs_round2__out > 0.5f) ? _ess_battery_inverter_control_vmode_control_gain1__out : _ess_battery_inverter_control_vmode_control_constant1__out;
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.Inv_Cab_SM
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__On = _ess_battery_inverter_control_inputs_round2__out;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__grid_locked = _ess_battery_inverter_control_synch_phase_match_unit_delay4__out;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__live_grid = _ess_battery_inverter_control_synch_check_grid_logical_operator15__out;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__mode = _ess_battery_inverter_control_inputs_round1__out;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__on_nominal = _ess_battery_inverter_control_synch_check_nominal_conditions_wait_to_change__out;
    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__v_match = _ess_battery_inverter_control_synch_vmatch_unit_delay4__out;
    if (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__On == 0) {
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor = 0;
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch = 0;
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode = 1;
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock1 = 0;
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock2 = 0;
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode = 0;
        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__from_grid_follow = 0;
    }
    else {
        if ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__mode == 0) && (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock1 == 0)) {
            _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock2 = 0;
            if ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__on_nominal) || (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__from_grid_follow)) {
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode = 1;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor = 1;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch = 0;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock1 = 1;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode = 1;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__from_grid_follow = 0;
            }
            else {
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode = 1;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor = 0;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch = 0;
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode = 0;
            }
        }
        else {
            if ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__mode == 1) && (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock2 == 0)) {
                _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock1 = 0;
                if ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__on_nominal) && (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__live_grid == 1)) {
                    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch = 1;
                    if ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__grid_locked == 1) && (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__v_match == 1)) {
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode = 0;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor = 1;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch = 0;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__lock2 = 1;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode = 2;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__from_grid_follow = 1;
                    }
                    else {
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode = 1;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor = 0;
                        _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode = 0;
                    }
                }
                else {
                    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode = 1;
                    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor = 0;
                    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch = 0;
                    _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode = 0;
                }
            }
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Sum7
    _back_up_diesel_gen_sync_check_check_v_diff_pi_sum7__out = _back_up_diesel_gen_sync_check_check_v_diff_pi_ki__out + _back_up_diesel_gen_sync_check_check_v_diff_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Bus Split2
    _back_up_diesel_gen_control_bus_split2__out = _back_up_diesel_gen_sync_check_bus_join__out[0];
    _back_up_diesel_gen_control_bus_split2__out1 = _back_up_diesel_gen_sync_check_bus_join__out[1];
    _back_up_diesel_gen_control_bus_split2__out2 = _back_up_diesel_gen_sync_check_bus_join__out[2];
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Sum7
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum7__out = _back_up_diesel_gen_sync_check_check_phase_diff_pi_ki__out + _back_up_diesel_gen_sync_check_check_phase_diff_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.LPF_dw
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum = 0.0f;
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum = 0.0f;
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i = 0; _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i < 1; _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i++) {
        _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum += _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_coeff[_back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i + 1] * _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[_back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i];
    }
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum += _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[0] * _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_coeff[1];
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in = _back_up_diesel_gen_sync_check_calculate_dw_synch_sum4__out - _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum;
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum += _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_coeff[0] * _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in;
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__out = _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Sum6
    _back_up_diesel_gen_control_freq_setpoint_control_pi_sum6__out =  - _back_up_diesel_gen_control_freq_setpoint_control_pi_sum5__out + _back_up_diesel_gen_control_freq_setpoint_control_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.mode_switch1
    _back_up_diesel_gen_control_freq_setpoint_control_mode_switch1__out = (_back_up_diesel_gen_control_read_op_mode__enable > 0.5f) ? _back_up_diesel_gen_control_freq_setpoint_control_pi_limit1__out : _back_up_diesel_gen_control_freq_setpoint_control_zero1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Sum7
    _back_up_diesel_gen_control_pf_control_pi_sum7__out = _back_up_diesel_gen_control_pf_control_pi_ki__out + _back_up_diesel_gen_control_pf_control_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Sum7
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum7__out = _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_ki__out + _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Bus Split2
    _dg_800kw_diesel_gen_control_bus_split2__out = _dg_800kw_diesel_gen_sync_check_bus_join__out[0];
    _dg_800kw_diesel_gen_control_bus_split2__out1 = _dg_800kw_diesel_gen_sync_check_bus_join__out[1];
    _dg_800kw_diesel_gen_control_bus_split2__out2 = _dg_800kw_diesel_gen_sync_check_bus_join__out[2];
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Sum5
    _dg_800kw_diesel_gen_control_freq_setpoint_control_sum5__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_to_wpu__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_product2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Kb
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_kb__out = 1.5 * _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Bus Split1
    _dg_800kw_diesel_gen_sync_check_bus_split1__out = _dg_800kw_diesel_gen_control_bus_join1__out[0];
    _dg_800kw_diesel_gen_sync_check_bus_split1__out1 = _dg_800kw_diesel_gen_control_bus_join1__out[1];
    _dg_800kw_diesel_gen_sync_check_bus_split1__out2 = _dg_800kw_diesel_gen_control_bus_join1__out[2];
    _dg_800kw_diesel_gen_sync_check_bus_split1__out3 = _dg_800kw_diesel_gen_control_bus_join1__out[3];
    _dg_800kw_diesel_gen_sync_check_bus_split1__out4 = _dg_800kw_diesel_gen_control_bus_join1__out[4];
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.w_ramp
    if (_dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__first_step) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_switch__out;
    } else {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_switch__out;
        _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_switch__out - _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out;
        if (_dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate > 0.002) {
            _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out + (0.002);
        }
        if (_dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__in_rate < -0.002) {
            _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out + (-0.002);
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Read_Control_mode.State
    _dg_800kw_diesel_gen_control_read_control_mode_state__P = _dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control;
    _dg_800kw_diesel_gen_control_read_control_mode_state__Q = _dg_800kw_diesel_gen_control_pf_control_logical_operator5__out;
    _dg_800kw_diesel_gen_control_read_control_mode_state__enable = _dg_800kw_diesel_gen_control_read_op_mode__enable;
    if (_dg_800kw_diesel_gen_control_read_control_mode_state__enable && _dg_800kw_diesel_gen_control_read_control_mode_state__P && _dg_800kw_diesel_gen_control_read_control_mode_state__Q) {
        _dg_800kw_diesel_gen_control_read_control_mode_state__Vf = 0;
        _dg_800kw_diesel_gen_control_read_control_mode_state__PV = 0;
        _dg_800kw_diesel_gen_control_read_control_mode_state__PQ = 1;
    }
    else {
        if (_dg_800kw_diesel_gen_control_read_control_mode_state__enable && _dg_800kw_diesel_gen_control_read_control_mode_state__P) {
            _dg_800kw_diesel_gen_control_read_control_mode_state__Vf = 0;
            _dg_800kw_diesel_gen_control_read_control_mode_state__PV = 1;
            _dg_800kw_diesel_gen_control_read_control_mode_state__PQ = 0;
        }
        else {
            _dg_800kw_diesel_gen_control_read_control_mode_state__Vf = 1;
            _dg_800kw_diesel_gen_control_read_control_mode_state__PV = 0;
            _dg_800kw_diesel_gen_control_read_control_mode_state__PQ = 0;
        }
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Integrator1
    if (((_dg_800kw_diesel_gen_control_pf_control_logical_operator5__out > 0.0) && (_dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state <= 0)) || ((_dg_800kw_diesel_gen_control_pf_control_logical_operator5__out <= 0.0) && (_dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state == 1))) {
        _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__state = 0.0;
    }
    _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__out = _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Signal switch2
    _dg_800kw_diesel_gen_control_pf_control_signal_switch2__out = (_dg_800kw_diesel_gen_control_pf_control_logical_operator5__out > 0.5f) ? _dg_800kw_diesel_gen_control_pf_control_norm_pf_ref__pf_norm : _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm;
    // Generated from the component: DG_800kW.Diesel_Gen.Vfd.Vs1
    HIL_OutFloat(141295616, (float) _dg_800kw_diesel_gen_control_exciter_vfpu_to_vf__out);
    // Generated from the component: Microgrid_controller.Rate Transition4.Input
    _microgrid_controller_rate_transition4_output__out = _dg_800kw_split_logical_operator1__out;
    // Generated from the component: Microgrid_controller.Rate Transition5.Input
    _microgrid_controller_rate_transition5_output__out = _dg_800kw_split_logical_operator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.limS_overPQ.S limiting over PQ
    _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Pref = _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Qref = _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Sref = _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref = sqrt(_ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Pref * _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Pref + _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Qref * _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Qref);
    if (_ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref > _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Sref) {
        _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__P = (_ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Pref / _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref) * _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Sref;
        _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Q = (_ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Qref / _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__S_PQref) * _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Sref;
    }
    else {
        _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__P = _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Pref;
        _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Q = _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Qref;
    }
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.internal_frequency.Gain1
    _ess_battery_inverter_control_vmode_control_internal_frequency_gain1__out = 60.0 * _ess_battery_inverter_control_vmode_control_internal_frequency_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Rate Limiter1
    if (_ess_battery_inverter_control_vmode_control_rate_limiter1__first_step) {
        _ess_battery_inverter_control_vmode_control_rate_limiter1__out = _ess_battery_inverter_control_vmode_control_signal_switch1__out;
    } else {
        _ess_battery_inverter_control_vmode_control_rate_limiter1__out = _ess_battery_inverter_control_vmode_control_signal_switch1__out;
        _ess_battery_inverter_control_vmode_control_rate_limiter1__in_rate = _ess_battery_inverter_control_vmode_control_signal_switch1__out - _ess_battery_inverter_control_vmode_control_rate_limiter1__prev_out;
        if (_ess_battery_inverter_control_vmode_control_rate_limiter1__in_rate > 2.0) {
            _ess_battery_inverter_control_vmode_control_rate_limiter1__out = _ess_battery_inverter_control_vmode_control_rate_limiter1__prev_out + (2.0);
        }
        if (_ess_battery_inverter_control_vmode_control_rate_limiter1__in_rate < -2.0) {
            _ess_battery_inverter_control_vmode_control_rate_limiter1__out = _ess_battery_inverter_control_vmode_control_rate_limiter1__prev_out + (-2.0);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Edge Detection1.Relational operator1
    _ess_battery_inverter_control_imode_control_edge_detection1_relational_operator1__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode != _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__out) ? 1 : 0;
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.CB_status
    HIL_OutInt32(0xf00421, _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.V_mode
    HIL_OutInt32(0xf00422, _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.read_mode.verify_mode
    _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__control_mode = _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__control_mode;
    if (_ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__control_mode == 0) {
        _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__stand_by = 1;
        _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_forming = 0;
        _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_following = 0;
    }
    else {
        if (_ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__control_mode == 1) {
            _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__stand_by = 0;
            _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_forming = 1;
            _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_following = 0;
        }
        else {
            _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__stand_by = 0;
            _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_forming = 0;
            _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_following = 1;
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.synch
    HIL_OutInt32(0xf00427, _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Integrator1
    if (((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0.0) && (_ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state <= 0)) || ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch <= 0.0) && (_ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state == 1))) {
        _ess_battery_inverter_control_synch_vmatch_pi_integrator1__state = 0.0;
    }
    _ess_battery_inverter_control_synch_vmatch_pi_integrator1__out = _ess_battery_inverter_control_synch_vmatch_pi_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Signal switch2
    _ess_battery_inverter_control_synch_vmatch_signal_switch2__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0.0f) ? _ess_battery_inverter_control_synch_vmatch_sum10__out : _ess_battery_inverter_control_synch_vmatch_constant3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Integrator1
    if ((_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0.0) && (_ess_battery_inverter_control_synch_f_match_pi_integrator1__reset_state <= 0)) {
        _ess_battery_inverter_control_synch_f_match_pi_integrator1__state = 0.0;
    }
    _ess_battery_inverter_control_synch_f_match_pi_integrator1__out = _ess_battery_inverter_control_synch_f_match_pi_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Signal switch2
    _ess_battery_inverter_control_synch_f_match_signal_switch2__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0.0f) ? _ess_battery_inverter_control_synch_f_match_low_pass_sum1__out : _ess_battery_inverter_control_synch_f_match_constant3__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Edge Detection1.Relational operator1
    _ess_battery_inverter_control_vmode_control_edge_detection1_relational_operator1__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode != _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__out) ? 1 : 0;
    // Generated from the component: ESS.Battery inverter.Output.Bus Join1
    _ess_battery_inverter_output_bus_join1__out[0] = _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor;
    _ess_battery_inverter_output_bus_join1__out[1] = _ess_battery_inverter_control_inputs_round2__out;
    _ess_battery_inverter_output_bus_join1__out[2] = _ess_battery_inverter_converter_meas_va_va1__out;
    _ess_battery_inverter_output_bus_join1__out[3] = _ess_battery_inverter_converter_meas_vb_va1__out;
    _ess_battery_inverter_output_bus_join1__out[4] = _ess_battery_inverter_converter_meas_vc_va1__out;
    _ess_battery_inverter_output_bus_join1__out[5] = _ess_battery_inverter_control_pll_pu_pll_normalize__pk;
    _ess_battery_inverter_output_bus_join1__out[6] = _ess_battery_inverter_ia_ia1__out;
    _ess_battery_inverter_output_bus_join1__out[7] = _ess_battery_inverter_ib_ia1__out;
    _ess_battery_inverter_output_bus_join1__out[8] = _ess_battery_inverter_ic_ia1__out;
    _ess_battery_inverter_output_bus_join1__out[9] = _ess_battery_inverter_control_pll_pu_pll_to_hz__out;
    _ess_battery_inverter_output_bus_join1__out[10] = _ess_battery_inverter_control_power_meas_gain1__out;
    _ess_battery_inverter_output_bus_join1__out[11] = _ess_battery_inverter_control_power_meas_gain2__out;
    _ess_battery_inverter_output_bus_join1__out[12] = _ess_battery_inverter_control_power_meas_gain3__out;
    _ess_battery_inverter_output_bus_join1__out[13] = _ess_battery_inverter_control_power_meas_power_meas_dq_s_and_pf__pf;
    // Generated from the component: ESS.Battery inverter.S1.CTC_Wrapper
    if (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__contactor == 0x0) {
        HIL_OutInt32(0x8a40480, 0x0);
    }
    else {
        HIL_OutInt32(0x8a40480, 0x1);
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Sum
    _back_up_diesel_gen_control_exciter_sum__out = _back_up_diesel_gen_control_exciter_rate_limit__out + _back_up_diesel_gen_control_pf_control_signal_switch4__out + _back_up_diesel_gen_control_bus_split2__out2;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Kb
    _back_up_diesel_gen_control_freq_setpoint_control_pi_kb__out = 1.0 * _back_up_diesel_gen_control_freq_setpoint_control_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.Sum5
    _back_up_diesel_gen_control_governor_and_engine_sum5__out = _back_up_diesel_gen_control_governor_and_engine_w_ramp__out + _back_up_diesel_gen_control_freq_setpoint_control_mode_switch1__out + _back_up_diesel_gen_control_bus_split2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Sum6
    _dg_800kw_diesel_gen_control_freq_setpoint_control_sum6__out =  - _dg_800kw_diesel_gen_control_freq_setpoint_control_product3__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_sum5__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Sum7
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_sum7__out = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__out + _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Bus Join2
    _dg_800kw_diesel_gen_sync_check_bus_join2__out[0] = _dg_800kw_diesel_gen_sync_check_bus_split1__out1;
    _dg_800kw_diesel_gen_sync_check_bus_join2__out[1] = _dg_800kw_diesel_gen_sync_check_bus_split1__out2;
    _dg_800kw_diesel_gen_sync_check_bus_join2__out[2] = _dg_800kw_diesel_gen_sync_check_bus_split1__out3;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.not
    _dg_800kw_diesel_gen_sync_check_contactor_control_not__out = !_dg_800kw_diesel_gen_sync_check_bus_split1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Speed_ss
    HIL_OutInt32(0xf0041d, _dg_800kw_diesel_gen_sync_check_bus_split1__out4 != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.and2
    _dg_800kw_diesel_gen_sync_check_and2__out = _dg_800kw_diesel_gen_sync_check_not__out && _dg_800kw_diesel_gen_sync_check_bus_split1__out && _dg_800kw_diesel_gen_sync_check_bus_split1__out3 && _dg_800kw_diesel_gen_sync_check_bus_split1__out4 && _dg_800kw_diesel_gen_sync_check_check_v_diff_and__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Sum8
    _dg_800kw_diesel_gen_control_freq_setpoint_control_sum8__out =  - _dg_800kw_diesel_gen_control_freq_setpoint_control_f_droop_switch__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Read_Control_mode.PQ_mode
    HIL_OutInt32(0xf00415, _dg_800kw_diesel_gen_control_read_control_mode_state__PQ != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Read_Control_mode.PV_mode
    HIL_OutInt32(0xf00416, _dg_800kw_diesel_gen_control_read_control_mode_state__PV != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Read_Control_mode.Vf_mode
    HIL_OutInt32(0xf00417, _dg_800kw_diesel_gen_control_read_control_mode_state__Vf != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Rate Limiter1
    if (_dg_800kw_diesel_gen_control_pf_control_rate_limiter1__first_step) {
        _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out = _dg_800kw_diesel_gen_control_pf_control_signal_switch2__out;
    } else {
        _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out = _dg_800kw_diesel_gen_control_pf_control_signal_switch2__out;
        _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__in_rate = _dg_800kw_diesel_gen_control_pf_control_signal_switch2__out - _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__prev_out;
        if (_dg_800kw_diesel_gen_control_pf_control_rate_limiter1__in_rate > 0.002) {
            _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out = _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__prev_out + (0.002);
        }
        if (_dg_800kw_diesel_gen_control_pf_control_rate_limiter1__in_rate < -0.002) {
            _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out = _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__prev_out + (-0.002);
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.internal_frequency.Angle generator.Gain1
    _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_gain1__out = 6.283185307179586 * _ess_battery_inverter_control_vmode_control_internal_frequency_gain1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Sum3
    _ess_battery_inverter_control_vmode_control_sum3__out = _ess_battery_inverter_control_vmode_control_rate_limiter1__out + _ess_battery_inverter_control_synch_vmatch_unit_delay5__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Logical operator1
    _ess_battery_inverter_control_imode_control_logical_operator1__out = _ess_battery_inverter_control_imode_control_edge_detection1_relational_operator1__out || _ess_battery_inverter_control_imode_control_edge_detection2_relational_operator1__out ;
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.read_mode.Grid following
    HIL_OutInt32(0xf00423, _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_following != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.read_mode.Grid forming
    HIL_OutInt32(0xf00424, _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__grid_forming != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.read_mode.StandBy
    HIL_OutInt32(0xf00425, _ess_battery_inverter_control_inv_cab_sm_read_mode_verify_mode__stand_by != 0x0);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Ki
    _ess_battery_inverter_control_synch_vmatch_pi_ki__out = 5.0 * _ess_battery_inverter_control_synch_vmatch_signal_switch2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Kp
    _ess_battery_inverter_control_synch_vmatch_pi_kp__out = 0.1 * _ess_battery_inverter_control_synch_vmatch_signal_switch2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Ki
    _ess_battery_inverter_control_synch_f_match_pi_ki__out = 3.0 * _ess_battery_inverter_control_synch_f_match_signal_switch2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Kp
    _ess_battery_inverter_control_synch_f_match_pi_kp__out = 0.01 * _ess_battery_inverter_control_synch_f_match_signal_switch2__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Logical operator1
    _ess_battery_inverter_control_vmode_control_logical_operator1__out = _ess_battery_inverter_control_vmode_control_edge_detection1_relational_operator1__out || _ess_battery_inverter_control_vmode_control_edge_detection2_relational_operator1__out ;
    // Generated from the component: ESS.Out
    HIL_OutAO(0x404a, (float)_ess_battery_inverter_output_bus_join1__out[0]);
    HIL_OutAO(0x404b, (float)_ess_battery_inverter_output_bus_join1__out[1]);
    HIL_OutAO(0x404c, (float)_ess_battery_inverter_output_bus_join1__out[2]);
    HIL_OutAO(0x404d, (float)_ess_battery_inverter_output_bus_join1__out[3]);
    HIL_OutAO(0x404e, (float)_ess_battery_inverter_output_bus_join1__out[4]);
    HIL_OutAO(0x404f, (float)_ess_battery_inverter_output_bus_join1__out[5]);
    HIL_OutAO(0x4050, (float)_ess_battery_inverter_output_bus_join1__out[6]);
    HIL_OutAO(0x4051, (float)_ess_battery_inverter_output_bus_join1__out[7]);
    HIL_OutAO(0x4052, (float)_ess_battery_inverter_output_bus_join1__out[8]);
    HIL_OutAO(0x4053, (float)_ess_battery_inverter_output_bus_join1__out[9]);
    HIL_OutAO(0x4054, (float)_ess_battery_inverter_output_bus_join1__out[10]);
    HIL_OutAO(0x4055, (float)_ess_battery_inverter_output_bus_join1__out[11]);
    HIL_OutAO(0x4056, (float)_ess_battery_inverter_output_bus_join1__out[12]);
    HIL_OutAO(0x4057, (float)_ess_battery_inverter_output_bus_join1__out[13]);
    // Generated from the component: ESS.split.Bus Split1
    _ess_split_bus_split1__out = _ess_battery_inverter_output_bus_join1__out[0];
    _ess_split_bus_split1__out1 = _ess_battery_inverter_output_bus_join1__out[1];
    _ess_split_bus_split1__out2 = _ess_battery_inverter_output_bus_join1__out[2];
    _ess_split_bus_split1__out3 = _ess_battery_inverter_output_bus_join1__out[3];
    _ess_split_bus_split1__out4 = _ess_battery_inverter_output_bus_join1__out[4];
    _ess_split_bus_split1__out5 = _ess_battery_inverter_output_bus_join1__out[5];
    _ess_split_bus_split1__out6 = _ess_battery_inverter_output_bus_join1__out[6];
    _ess_split_bus_split1__out7 = _ess_battery_inverter_output_bus_join1__out[7];
    _ess_split_bus_split1__out8 = _ess_battery_inverter_output_bus_join1__out[8];
    _ess_split_bus_split1__out9 = _ess_battery_inverter_output_bus_join1__out[9];
    _ess_split_bus_split1__out10 = _ess_battery_inverter_output_bus_join1__out[10];
    _ess_split_bus_split1__out11 = _ess_battery_inverter_output_bus_join1__out[11];
    _ess_split_bus_split1__out12 = _ess_battery_inverter_output_bus_join1__out[12];
    _ess_split_bus_split1__out13 = _ess_battery_inverter_output_bus_join1__out[13];
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Sum2
    _back_up_diesel_gen_control_exciter_sum2__out = _back_up_diesel_gen_control_exciter_sum__out - _back_up_diesel_gen_control_exciter_product2__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.V_ref
    HIL_OutAO(0x400f, (float)_back_up_diesel_gen_control_exciter_sum__out);
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Sum7
    _back_up_diesel_gen_control_freq_setpoint_control_pi_sum7__out = _back_up_diesel_gen_control_freq_setpoint_control_pi_ki__out + _back_up_diesel_gen_control_freq_setpoint_control_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.Sum4
    _back_up_diesel_gen_control_governor_and_engine_sum4__out = _back_up_diesel_gen_control_governor_and_engine_sum5__out - _back_up_diesel_gen_control_governor_and_engine_w_to_wpu__out - _back_up_diesel_gen_control_governor_and_engine_w_switch1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.wref
    HIL_OutAO(0x4017, (float)_back_up_diesel_gen_control_governor_and_engine_sum5__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Bus Split1
    _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out = _dg_800kw_diesel_gen_sync_check_bus_join2__out[0];
    _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out1 = _dg_800kw_diesel_gen_sync_check_bus_join2__out[1];
    _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out2 = _dg_800kw_diesel_gen_sync_check_bus_join2__out[2];
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.and1
    _dg_800kw_diesel_gen_sync_check_and1__out = _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out && _dg_800kw_diesel_gen_sync_check_and2__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.dw_synch_ON
    HIL_OutInt32(0xf0041f, _dg_800kw_diesel_gen_sync_check_and2__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.mode_switch
    _dg_800kw_diesel_gen_control_freq_setpoint_control_mode_switch__out = (_dg_800kw_diesel_gen_control_define_control_mode_control_mode__P_control > 0.5f) ? _dg_800kw_diesel_gen_control_freq_setpoint_control_sum6__out : _dg_800kw_diesel_gen_control_freq_setpoint_control_sum8__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Sum6
    _dg_800kw_diesel_gen_control_pf_control_sum6__out = _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out - _dg_800kw_diesel_gen_control_pf_control_norm_pf_meas__pf_norm;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.internal_frequency.Angle generator.int_n_wrap
    _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__in = _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_gain1__out;
    _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__output = _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out + 0.0;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.Sum4
    _ess_battery_inverter_control_vmode_control_current_ref_sum4__out = _ess_battery_inverter_control_vmode_control_sum3__out - _ess_battery_inverter_control_pll_pu_gain4__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Integrator1
    if (((_ess_battery_inverter_control_imode_control_logical_operator1__out > 0.0) && (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state <= 0)) || ((_ess_battery_inverter_control_imode_control_logical_operator1__out <= 0.0) && (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state == 1))) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__state = 0.0;
    }
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Integrator1
    if (((_ess_battery_inverter_control_imode_control_logical_operator1__out > 0.0) && (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state <= 0)) || ((_ess_battery_inverter_control_imode_control_logical_operator1__out <= 0.0) && (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state == 1))) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__state = 0.0;
    }
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Sum5
    _ess_battery_inverter_control_synch_vmatch_pi_sum5__out = _ess_battery_inverter_control_synch_vmatch_pi_kp__out + _ess_battery_inverter_control_synch_vmatch_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Sum5
    _ess_battery_inverter_control_synch_f_match_pi_sum5__out = _ess_battery_inverter_control_synch_f_match_pi_kp__out + _ess_battery_inverter_control_synch_f_match_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Integrator1
    if (((_ess_battery_inverter_control_vmode_control_logical_operator1__out > 0.0) && (_ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state <= 0)) || ((_ess_battery_inverter_control_vmode_control_logical_operator1__out <= 0.0) && (_ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state == 1))) {
        _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__state = 0.03305017642476288;
    }
    _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__out = _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__state;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Integrator1
    if (((_ess_battery_inverter_control_vmode_control_logical_operator1__out > 0.0) && (_ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state <= 0)) || ((_ess_battery_inverter_control_vmode_control_logical_operator1__out <= 0.0) && (_ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state == 1))) {
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__state = 0.0;
    }
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__out = _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__state;
    // Generated from the component: ESS.split.Logical operator1
    _ess_split_logical_operator1__out = _ess_split_bus_split1__out && _ess_split_bus_split1__out1 ;
    // Generated from the component: ESS.split.T
    // Generated from the component: ESS.split.T1
    // Generated from the component: ESS.split.T10
    // Generated from the component: ESS.split.T11
    // Generated from the component: ESS.split.T2
    // Generated from the component: ESS.split.T3
    // Generated from the component: ESS.split.T4
    // Generated from the component: ESS.split.T5
    // Generated from the component: ESS.split.T6
    // Generated from the component: ESS.split.T7
    // Generated from the component: ESS.split.T8
    // Generated from the component: ESS.split.T9
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Sum1
    _back_up_diesel_gen_control_exciter_dc4b_sum1__out = _back_up_diesel_gen_control_exciter_sum1__out + _back_up_diesel_gen_control_exciter_sum2__out - _back_up_diesel_gen_control_exciter_dc4b_tf1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF1
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_sum = 0.0f;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_sum = 0.0f;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i = 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i < 2; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i++) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_coeff[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i + 1] * _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i];
    }
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i = 1; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i > 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i--) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_coeff[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i + 1] * _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i];
    }
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[0] * _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_coeff[1];
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in = _back_up_diesel_gen_control_governor_and_engine_sum4__out - _back_up_diesel_gen_control_governor_and_engine_degov_tf1__a_sum;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_sum += _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_coeff[0] * _back_up_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in;
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__out = _back_up_diesel_gen_control_governor_and_engine_degov_tf1__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Edge Detection1.Relational operator1
    _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_relational_operator1__out = (_dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out2 != _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__out) ? 1 : 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.or
    _dg_800kw_diesel_gen_sync_check_contactor_control_or__out = _dg_800kw_diesel_gen_sync_check_contactor_control_not__out || _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Check_phase_ON
    HIL_OutInt32(0xf00419, _dg_800kw_diesel_gen_sync_check_and1__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Integrator1
    if (((_dg_800kw_diesel_gen_sync_check_and1__out > 0.0) && (_dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state <= 0)) || ((_dg_800kw_diesel_gen_sync_check_and1__out <= 0.0) && (_dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state == 1))) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state = 0.0;
    }
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Sum7
    _dg_800kw_diesel_gen_control_freq_setpoint_control_sum7__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_load_share_switch__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_mode_switch__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Ki
    _dg_800kw_diesel_gen_control_pf_control_pi_ki__out = 0.075 * _dg_800kw_diesel_gen_control_pf_control_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Kp
    _dg_800kw_diesel_gen_control_pf_control_pi_kp__out = 0.05 * _dg_800kw_diesel_gen_control_pf_control_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Change_CtrlMode.Signal switch3
    _ess_battery_inverter_control_change_ctrlmode_signal_switch3__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode > 0.5f) ? _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__output : _ess_battery_inverter_control_imode_control_sum12__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Ki
    _ess_battery_inverter_control_vmode_control_current_ref_pi_ki__out = 10.0 * _ess_battery_inverter_control_vmode_control_current_ref_sum4__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Kp
    _ess_battery_inverter_control_vmode_control_current_ref_pi_kp__out = 10.0 * _ess_battery_inverter_control_vmode_control_current_ref_sum4__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Sum5
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum5__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_kp__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Sum5
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum5__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_kp__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Limit1
    if (_ess_battery_inverter_control_synch_vmatch_pi_sum5__out > 14700.0) {
        _ess_battery_inverter_control_synch_vmatch_pi_limit1__out = 14700.0;
    } else if (_ess_battery_inverter_control_synch_vmatch_pi_sum5__out < -14700.0) {
        _ess_battery_inverter_control_synch_vmatch_pi_limit1__out = -14700.0;
    } else {
        _ess_battery_inverter_control_synch_vmatch_pi_limit1__out = _ess_battery_inverter_control_synch_vmatch_pi_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Limit1
    if (_ess_battery_inverter_control_synch_f_match_pi_sum5__out > 16600.0) {
        _ess_battery_inverter_control_synch_f_match_pi_limit1__out = 16600.0;
    } else if (_ess_battery_inverter_control_synch_f_match_pi_sum5__out < -16600.0) {
        _ess_battery_inverter_control_synch_f_match_pi_limit1__out = -16600.0;
    } else {
        _ess_battery_inverter_control_synch_f_match_pi_limit1__out = _ess_battery_inverter_control_synch_f_match_pi_sum5__out;
    }
    // Generated from the component: Microgrid_controller.Rate Transition3.Input
    _microgrid_controller_rate_transition3_output__out = _ess_split_logical_operator1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Sum2
    _back_up_diesel_gen_control_exciter_dc4b_sum2__out =  - _back_up_diesel_gen_control_exciter_dc4b_tf4__out + _back_up_diesel_gen_control_exciter_dc4b_sum1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.wait_to_trip
    _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Reset = _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_relational_operator1__out;
    _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__boolean = _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out2;
    if (_dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc >= 3.0) {
        _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip = 1;
    }
    else {
        _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc += 0.0002 * _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__boolean;
    }
    if (_dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Reset == 1) {
        _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__time_acc = 0;
        _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip = 0;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Sum5
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum5__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_kp__out + _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.Sum3
    _dg_800kw_diesel_gen_control_freq_setpoint_control_sum3__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_sum7__out - _dg_800kw_diesel_gen_control_freq_setpoint_control_w_to_wpu__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Sum5
    _dg_800kw_diesel_gen_control_pf_control_pi_sum5__out = _dg_800kw_diesel_gen_control_pf_control_pi_kp__out + _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Sum5
    _ess_battery_inverter_control_vmode_control_current_ref_pi_sum5__out = _ess_battery_inverter_control_vmode_control_current_ref_pi_kp__out + _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Limit1
    if (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum5__out > 100000.0) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_limit1__out = 100000.0;
    } else if (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum5__out < -100000.0) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_limit1__out = -100000.0;
    } else {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_limit1__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Limit1
    if (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum5__out > 100000.0) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_limit1__out = 100000.0;
    } else if (_ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum5__out < -100000.0) {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_limit1__out = -100000.0;
    } else {
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_limit1__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Sum6
    _ess_battery_inverter_control_synch_vmatch_pi_sum6__out =  - _ess_battery_inverter_control_synch_vmatch_pi_sum5__out + _ess_battery_inverter_control_synch_vmatch_pi_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Sum6
    _ess_battery_inverter_control_synch_f_match_pi_sum6__out =  - _ess_battery_inverter_control_synch_f_match_pi_sum5__out + _ess_battery_inverter_control_synch_f_match_pi_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Sum1
    _ess_battery_inverter_control_synch_phase_match_sum1__out = _ess_battery_inverter_control_synch_f_match_pi_limit1__out + _ess_battery_inverter_control_synch_phase_match_gain12__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Ki
    _back_up_diesel_gen_control_exciter_dc4b_pi_ki__out = 0.007 * _back_up_diesel_gen_control_exciter_dc4b_sum2__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Kp
    _back_up_diesel_gen_control_exciter_dc4b_pi_kp__out = 0.025 * _back_up_diesel_gen_control_exciter_dc4b_sum2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.and
    _dg_800kw_diesel_gen_sync_check_contactor_control_and__out = _dg_800kw_diesel_gen_sync_check_bus_split1__out4 && _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_c_function__out && _dg_800kw_diesel_gen_sync_check_contactor_control_wait_to_trip__Trip && _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__out && _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__out ;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Limit1
    if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum5__out > 0.1) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_limit1__out = 0.1;
    } else if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum5__out < -0.1) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_limit1__out = -0.1;
    } else {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_limit1__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum5__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Ki
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_ki__out = 0.01 * _dg_800kw_diesel_gen_control_freq_setpoint_control_sum3__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Kp
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_kp__out = 0.01 * _dg_800kw_diesel_gen_control_freq_setpoint_control_sum3__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Limit1
    if (_dg_800kw_diesel_gen_control_pf_control_pi_sum5__out > 10.0) {
        _dg_800kw_diesel_gen_control_pf_control_pi_limit1__out = 10.0;
    } else if (_dg_800kw_diesel_gen_control_pf_control_pi_sum5__out < -10.0) {
        _dg_800kw_diesel_gen_control_pf_control_pi_limit1__out = -10.0;
    } else {
        _dg_800kw_diesel_gen_control_pf_control_pi_limit1__out = _dg_800kw_diesel_gen_control_pf_control_pi_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Limit1
    if (_ess_battery_inverter_control_vmode_control_current_ref_pi_sum5__out > 1.0) {
        _ess_battery_inverter_control_vmode_control_current_ref_pi_limit1__out = 1.0;
    } else if (_ess_battery_inverter_control_vmode_control_current_ref_pi_sum5__out < -1.0) {
        _ess_battery_inverter_control_vmode_control_current_ref_pi_limit1__out = -1.0;
    } else {
        _ess_battery_inverter_control_vmode_control_current_ref_pi_limit1__out = _ess_battery_inverter_control_vmode_control_current_ref_pi_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Sum6
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum6__out =  - _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum5__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Sum9
    _ess_battery_inverter_control_imode_control_dq_current_controller_sum9__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_limit1__out + _ess_battery_inverter_control_imode_control_dq_current_controller_sum10__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Sum6
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum6__out =  - _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum5__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Sum12
    _ess_battery_inverter_control_imode_control_dq_current_controller_sum12__out = _ess_battery_inverter_control_imode_control_dq_current_controller_sum13__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Kb
    _ess_battery_inverter_control_synch_vmatch_pi_kb__out = 1.0 * _ess_battery_inverter_control_synch_vmatch_pi_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Kb
    _ess_battery_inverter_control_synch_f_match_pi_kb__out = 1.0 * _ess_battery_inverter_control_synch_f_match_pi_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Signal switch2
    _ess_battery_inverter_control_synch_phase_match_signal_switch2__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0.5f) ? _ess_battery_inverter_control_synch_phase_match_sum1__out : _ess_battery_inverter_control_synch_phase_match_constant4__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Sum5
    _back_up_diesel_gen_control_exciter_dc4b_pi_sum5__out = _back_up_diesel_gen_control_exciter_dc4b_pi_kp__out + _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.GCB_control
    HIL_OutInt32(0xf0041b, _dg_800kw_diesel_gen_sync_check_contactor_control_and__out != 0x0);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Signal switch1
    _dg_800kw_diesel_gen_sync_check_contactor_control_signal_switch1__out = (_dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out1 < 0.5f) ? _dg_800kw_diesel_gen_sync_check_contactor_control_and__out : _dg_800kw_diesel_gen_sync_check_contactor_control_close__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Sum6
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum6__out =  - _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum5__out + _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Product1
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_product1__out = (_dg_800kw_diesel_gen_sync_check_and1__out * _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_limit1__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Sum5
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum5__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_kp__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Sum6
    _dg_800kw_diesel_gen_control_pf_control_pi_sum6__out =  - _dg_800kw_diesel_gen_control_pf_control_pi_sum5__out + _dg_800kw_diesel_gen_control_pf_control_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Signal switch4
    _dg_800kw_diesel_gen_control_pf_control_signal_switch4__out = (_dg_800kw_diesel_gen_control_pf_control_logical_operator5__out > 0.0f) ? _dg_800kw_diesel_gen_control_pf_control_pi_limit1__out : _dg_800kw_diesel_gen_control_pf_control_zero1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Sum6
    _ess_battery_inverter_control_vmode_control_current_ref_pi_sum6__out =  - _ess_battery_inverter_control_vmode_control_current_ref_pi_sum5__out + _ess_battery_inverter_control_vmode_control_current_ref_pi_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.Sum15
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_sum15__out =  - _ess_battery_inverter_control_abctodq_gain1__out + _ess_battery_inverter_control_vmode_control_current_ref_pi_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Kb
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_kb__out = 1.0 * _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Product5
    _ess_battery_inverter_control_imode_control_dq_current_controller_product5__out = (_ess_battery_inverter_control_imode_control_dq_current_controller_sum9__out) * 1.0 / (_ess_battery_inverter_control_imode_control_dq_current_controller_gain5__out);
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Kb
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_kb__out = 1.0 * _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Product7
    _ess_battery_inverter_control_imode_control_dq_current_controller_product7__out = (_ess_battery_inverter_control_imode_control_dq_current_controller_sum12__out) * 1.0 / (_ess_battery_inverter_control_imode_control_dq_current_controller_gain5__out);
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Sum7
    _ess_battery_inverter_control_synch_vmatch_pi_sum7__out = _ess_battery_inverter_control_synch_vmatch_pi_ki__out + _ess_battery_inverter_control_synch_vmatch_pi_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Sum7
    _ess_battery_inverter_control_synch_f_match_pi_sum7__out = _ess_battery_inverter_control_synch_f_match_pi_ki__out + _ess_battery_inverter_control_synch_f_match_pi_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.3 hz per sec
    if (_ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__first_step) {
        _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out = _ess_battery_inverter_control_synch_phase_match_signal_switch2__out;
    } else {
        _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out = _ess_battery_inverter_control_synch_phase_match_signal_switch2__out;
        _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__in_rate = _ess_battery_inverter_control_synch_phase_match_signal_switch2__out - _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__prev_out;
        if (_ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__in_rate > 0.33333333333333337) {
            _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out = _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__prev_out + (0.33333333333333337);
        }
        if (_ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__in_rate < -0.33333333333333337) {
            _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out = _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__prev_out + (-0.33333333333333337);
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Limit1
    if (_back_up_diesel_gen_control_exciter_dc4b_pi_sum5__out > 10.0) {
        _back_up_diesel_gen_control_exciter_dc4b_pi_limit1__out = 10.0;
    } else if (_back_up_diesel_gen_control_exciter_dc4b_pi_sum5__out < -10.0) {
        _back_up_diesel_gen_control_exciter_dc4b_pi_limit1__out = -10.0;
    } else {
        _back_up_diesel_gen_control_exciter_dc4b_pi_limit1__out = _back_up_diesel_gen_control_exciter_dc4b_pi_sum5__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Kb
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_kb__out = 1.0 * _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.Sum4
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_sum4__out = _dg_800kw_diesel_gen_sync_check_check_f_diff_topu__out + _dg_800kw_diesel_gen_sync_check_check_phase_diff_product1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Limit1
    if (_dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum5__out > 10.0) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_limit1__out = 10.0;
    } else if (_dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum5__out < -10.0) {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_limit1__out = -10.0;
    } else {
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_limit1__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum5__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Kb
    _dg_800kw_diesel_gen_control_pf_control_pi_kb__out = 1.0 * _dg_800kw_diesel_gen_control_pf_control_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Sum
    _dg_800kw_diesel_gen_control_exciter_sum__out = _dg_800kw_diesel_gen_control_exciter_rate_limit__out + _dg_800kw_diesel_gen_control_pf_control_signal_switch4__out + _dg_800kw_diesel_gen_control_bus_split2__out2;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Kb
    _ess_battery_inverter_control_vmode_control_current_ref_pi_kb__out = 1.0 * _ess_battery_inverter_control_vmode_control_current_ref_pi_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Ki
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_ki__out = 833.33 * _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_sum15__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Kp
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_kp__out = 0.8328 * _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_sum15__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Sum7
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum7__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_ki__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Gain10
    _ess_battery_inverter_control_imode_control_dq_current_controller_gain10__out = 0.4852322538084772 * _ess_battery_inverter_control_imode_control_dq_current_controller_product5__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Sum7
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum7__out = _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_ki__out + _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.Gain11
    _ess_battery_inverter_control_imode_control_dq_current_controller_gain11__out = 0.4852322538084772 * _ess_battery_inverter_control_imode_control_dq_current_controller_product7__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Sum6
    _back_up_diesel_gen_control_exciter_dc4b_pi_sum6__out =  - _back_up_diesel_gen_control_exciter_dc4b_pi_sum5__out + _back_up_diesel_gen_control_exciter_dc4b_pi_limit1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Product1
    _back_up_diesel_gen_control_exciter_dc4b_product1__out = (_back_up_diesel_gen_control_exciter_dc4b_pi_limit1__out * _back_up_diesel_gen_control_exciter_dc4b_switch__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Sum7
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum7__out = _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_ki__out + _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.LPF_dw
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum = 0.0f;
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i = 0; _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i < 1; _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i++) {
        _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum += _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_coeff[_dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i + 1] * _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[_dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__i];
    }
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum += _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[0] * _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_coeff[1];
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in = _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_sum4__out - _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__a_sum;
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum += _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_coeff[0] * _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in;
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__out = _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Sum6
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum6__out =  - _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum5__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.mode_switch1
    _dg_800kw_diesel_gen_control_freq_setpoint_control_mode_switch1__out = (_dg_800kw_diesel_gen_control_read_op_mode__enable > 0.5f) ? _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_limit1__out : _dg_800kw_diesel_gen_control_freq_setpoint_control_zero1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Sum7
    _dg_800kw_diesel_gen_control_pf_control_pi_sum7__out = _dg_800kw_diesel_gen_control_pf_control_pi_ki__out + _dg_800kw_diesel_gen_control_pf_control_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Sum2
    _dg_800kw_diesel_gen_control_exciter_sum2__out = _dg_800kw_diesel_gen_control_exciter_sum__out - _dg_800kw_diesel_gen_control_exciter_product2__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Sum7
    _ess_battery_inverter_control_vmode_control_current_ref_pi_sum7__out = _ess_battery_inverter_control_vmode_control_current_ref_pi_ki__out + _ess_battery_inverter_control_vmode_control_current_ref_pi_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Sum5
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum5__out = _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_kp__out + _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.damper.Sum8
    _ess_battery_inverter_control_imode_control_dq_current_controller_damper_sum8__out = _ess_battery_inverter_control_imode_control_dq_current_controller_gain10__out + _ess_battery_inverter_control_imode_control_dq_current_controller_damper_id_damp__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.damper.Sum9
    _ess_battery_inverter_control_imode_control_dq_current_controller_damper_sum9__out = _ess_battery_inverter_control_imode_control_dq_current_controller_damper_iq_damp__out + _ess_battery_inverter_control_imode_control_dq_current_controller_gain11__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Kb
    _back_up_diesel_gen_control_exciter_dc4b_pi_kb__out = 1.0 * _back_up_diesel_gen_control_exciter_dc4b_pi_sum6__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.KA
    _back_up_diesel_gen_control_exciter_dc4b_ka__out = 1.0 * _back_up_diesel_gen_control_exciter_dc4b_product1__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Va
    HIL_OutAO(0x400e, (float)_back_up_diesel_gen_control_exciter_dc4b_product1__out);
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Kb
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_kb__out = 1.0 * _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.Sum5
    _dg_800kw_diesel_gen_control_governor_and_engine_sum5__out = _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_mode_switch1__out + _dg_800kw_diesel_gen_control_bus_split2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Sum1
    _dg_800kw_diesel_gen_control_exciter_dc4b_sum1__out = _dg_800kw_diesel_gen_control_exciter_sum1__out + _dg_800kw_diesel_gen_control_exciter_sum2__out - _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Limit1
    if (_ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum5__out > 10.0) {
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_limit1__out = 10.0;
    } else if (_ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum5__out < -10.0) {
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_limit1__out = -10.0;
    } else {
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_limit1__out = _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.Change_CtrlMode.Signal switch2
    _ess_battery_inverter_control_change_ctrlmode_signal_switch2__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode > 0.5f) ? _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_constant1__out : _ess_battery_inverter_control_imode_control_dq_current_controller_damper_sum9__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Sum7
    _back_up_diesel_gen_control_exciter_dc4b_pi_sum7__out = _back_up_diesel_gen_control_exciter_dc4b_pi_ki__out + _back_up_diesel_gen_control_exciter_dc4b_pi_kb__out;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF2
    _back_up_diesel_gen_control_exciter_dc4b_tf2__a_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf2__b_sum = 0.0f;
    _back_up_diesel_gen_control_exciter_dc4b_tf2__delay_line_in = 0.0f;
    for (_back_up_diesel_gen_control_exciter_dc4b_tf2__i = 0; _back_up_diesel_gen_control_exciter_dc4b_tf2__i < 1; _back_up_diesel_gen_control_exciter_dc4b_tf2__i++) {
        _back_up_diesel_gen_control_exciter_dc4b_tf2__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf2__b_coeff[_back_up_diesel_gen_control_exciter_dc4b_tf2__i + 1] * _back_up_diesel_gen_control_exciter_dc4b_tf2__states[_back_up_diesel_gen_control_exciter_dc4b_tf2__i];
    }
    _back_up_diesel_gen_control_exciter_dc4b_tf2__a_sum += _back_up_diesel_gen_control_exciter_dc4b_tf2__states[0] * _back_up_diesel_gen_control_exciter_dc4b_tf2__a_coeff[1];
    _back_up_diesel_gen_control_exciter_dc4b_tf2__delay_line_in = _back_up_diesel_gen_control_exciter_dc4b_ka__out - _back_up_diesel_gen_control_exciter_dc4b_tf2__a_sum;
    _back_up_diesel_gen_control_exciter_dc4b_tf2__b_sum += _back_up_diesel_gen_control_exciter_dc4b_tf2__b_coeff[0] * _back_up_diesel_gen_control_exciter_dc4b_tf2__delay_line_in;
    _back_up_diesel_gen_control_exciter_dc4b_tf2__out = _back_up_diesel_gen_control_exciter_dc4b_tf2__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Sum7
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum7__out = _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_ki__out + _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.Sum4
    _dg_800kw_diesel_gen_control_governor_and_engine_sum4__out = _dg_800kw_diesel_gen_control_governor_and_engine_sum5__out - _dg_800kw_diesel_gen_control_governor_and_engine_w_to_wpu__out - _dg_800kw_diesel_gen_control_governor_and_engine_w_switch1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Sum2
    _dg_800kw_diesel_gen_control_exciter_dc4b_sum2__out =  - _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__out + _dg_800kw_diesel_gen_control_exciter_dc4b_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Sum6
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum6__out =  - _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum5__out + _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.Product11
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_product11__out = (_ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_limit1__out) * 1.0 / (_ess_battery_inverter_control_vmode_control_inner_dq_current_controller_gain5__out);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.Limit3
    if (_ess_battery_inverter_control_change_ctrlmode_signal_switch2__out > 1.1546) {
        _ess_battery_inverter_control_duty_cycle_limit3__out = 1.1546;
    } else if (_ess_battery_inverter_control_change_ctrlmode_signal_switch2__out < -1.1546) {
        _ess_battery_inverter_control_duty_cycle_limit3__out = -1.1546;
    } else {
        _ess_battery_inverter_control_duty_cycle_limit3__out = _ess_battery_inverter_control_change_ctrlmode_signal_switch2__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF1
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_sum = 0.0f;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_sum = 0.0f;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i = 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i < 2; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i++) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_coeff[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i + 1] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i];
    }
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i = 1; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i > 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i--) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_coeff[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i + 1] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i];
    }
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[0] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_coeff[1];
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in = _dg_800kw_diesel_gen_control_governor_and_engine_sum4__out - _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__a_sum;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_sum += _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_coeff[0] * _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in;
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__out = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__b_sum;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Ki
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_ki__out = 0.007 * _dg_800kw_diesel_gen_control_exciter_dc4b_sum2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Kp
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_kp__out = 0.025 * _dg_800kw_diesel_gen_control_exciter_dc4b_sum2__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Kb
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_kb__out = 1.0 * _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum6__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.Gain10
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_gain10__out = 0.4852322538084772 * _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_product11__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Sum5
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum5__out = _dg_800kw_diesel_gen_control_exciter_dc4b_pi_kp__out + _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Sum7
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum7__out = _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_ki__out + _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_kb__out;
    // Generated from the component: ESS.Battery inverter.Control.Change_CtrlMode.Signal switch1
    _ess_battery_inverter_control_change_ctrlmode_signal_switch1__out = (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode > 0.5f) ? _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_gain10__out : _ess_battery_inverter_control_imode_control_dq_current_controller_damper_sum8__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Limit1
    if (_dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum5__out > 10.0) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_limit1__out = 10.0;
    } else if (_dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum5__out < -10.0) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_limit1__out = -10.0;
    } else {
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_limit1__out = _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum5__out;
    }
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.Limit2
    if (_ess_battery_inverter_control_change_ctrlmode_signal_switch1__out > 1.1546) {
        _ess_battery_inverter_control_duty_cycle_limit2__out = 1.1546;
    } else if (_ess_battery_inverter_control_change_ctrlmode_signal_switch1__out < -1.1546) {
        _ess_battery_inverter_control_duty_cycle_limit2__out = -1.1546;
    } else {
        _ess_battery_inverter_control_duty_cycle_limit2__out = _ess_battery_inverter_control_change_ctrlmode_signal_switch1__out;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Sum6
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum6__out =  - _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum5__out + _dg_800kw_diesel_gen_control_exciter_dc4b_pi_limit1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Product1
    _dg_800kw_diesel_gen_control_exciter_dc4b_product1__out = (_dg_800kw_diesel_gen_control_exciter_dc4b_pi_limit1__out * _dg_800kw_diesel_gen_control_exciter_dc4b_switch__out);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.dq to abc1.dq to alpha beta
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1 = cos(_ess_battery_inverter_control_change_ctrlmode_signal_switch3__out);
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2 = sin(_ess_battery_inverter_control_change_ctrlmode_signal_switch3__out);
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2 * _ess_battery_inverter_control_duty_cycle_limit2__out + _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1 * _ess_battery_inverter_control_duty_cycle_limit3__out;
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k2 * _ess_battery_inverter_control_duty_cycle_limit3__out - _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__k1 * _ess_battery_inverter_control_duty_cycle_limit2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Kb
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_kb__out = 1.0 * _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum6__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.KA
    _dg_800kw_diesel_gen_control_exciter_dc4b_ka__out = 1.0 * _dg_800kw_diesel_gen_control_exciter_dc4b_product1__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Va
    HIL_OutAO(0x402e, (float)_dg_800kw_diesel_gen_control_exciter_dc4b_product1__out);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.dq to abc1.alpha beta to abc
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A = 1 * _ess_battery_inverter_control_duty_cycle_o_ref__out;
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A - 0.5 * _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha;
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B - 0.8660254037844386 * _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta;
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B += 0.8660254037844386 * _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__beta;
    _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A += 1 * _ess_battery_inverter_control_duty_cycle_dq_to_abc1_dq_to_alpha_beta__alpha;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Sum7
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum7__out = _dg_800kw_diesel_gen_control_exciter_dc4b_pi_ki__out + _dg_800kw_diesel_gen_control_exciter_dc4b_pi_kb__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF2
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__a_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_sum = 0.0f;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__delay_line_in = 0.0f;
    for (_dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i = 0; _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i < 1; _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i++) {
        _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_coeff[_dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i + 1] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__states[_dg_800kw_diesel_gen_control_exciter_dc4b_tf2__i];
    }
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__a_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__states[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__a_coeff[1];
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__delay_line_in = _dg_800kw_diesel_gen_control_exciter_dc4b_ka__out - _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__a_sum;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_sum += _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_coeff[0] * _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__delay_line_in;
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__out = _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__b_sum;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Min Max1
    _ess_battery_inverter_control_duty_cycle_zsm_min_max1__out = MIN(MIN(_ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A, _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B), _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Min Max2
    _ess_battery_inverter_control_duty_cycle_zsm_min_max2__out = MAX(MAX(_ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A, _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B), _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Product2
    _ess_battery_inverter_control_duty_cycle_zsm_product2__out = (_ess_battery_inverter_control_duty_cycle_zsm_sum2__out * _ess_battery_inverter_control_duty_cycle_zsm_min_max1__out);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum1
    _ess_battery_inverter_control_duty_cycle_zsm_sum1__out =  - _ess_battery_inverter_control_duty_cycle_zsm_min_max2__out + _ess_battery_inverter_control_duty_cycle_zsm_constant2__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Product1
    _ess_battery_inverter_control_duty_cycle_zsm_product1__out = (_ess_battery_inverter_control_duty_cycle_zsm_limit1__out * _ess_battery_inverter_control_duty_cycle_zsm_sum1__out);
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum3
    _ess_battery_inverter_control_duty_cycle_zsm_sum3__out =  - _ess_battery_inverter_control_duty_cycle_zsm_sum8__out - _ess_battery_inverter_control_duty_cycle_zsm_product2__out + _ess_battery_inverter_control_duty_cycle_zsm_product1__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum5
    _ess_battery_inverter_control_duty_cycle_zsm_sum5__out = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__A + _ess_battery_inverter_control_duty_cycle_zsm_sum3__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum6
    _ess_battery_inverter_control_duty_cycle_zsm_sum6__out = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__B + _ess_battery_inverter_control_duty_cycle_zsm_sum3__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Sum7
    _ess_battery_inverter_control_duty_cycle_zsm_sum7__out = _ess_battery_inverter_control_duty_cycle_dq_to_abc1_alpha_beta_to_abc__C + _ess_battery_inverter_control_duty_cycle_zsm_sum3__out;
    // Generated from the component: ESS.Battery inverter.Control.duty_cycle.ZSM.Z0
    HIL_OutAO(0x4045, (float)_ess_battery_inverter_control_duty_cycle_zsm_sum3__out);
    // Generated from the component: ESS.Battery inverter.Three Phase Inverter1.IGBT Leg1.PWM_Modulator
    if (_ess_battery_inverter_control_duty_cycle_zsm_sum5__out < -1.0)
        _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__limited_in[0] = -1.0;
    else if (_ess_battery_inverter_control_duty_cycle_zsm_sum5__out > 1.0)
        _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__limited_in[0] = 1.0;
    else
        _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__limited_in[0] = _ess_battery_inverter_control_duty_cycle_zsm_sum5__out;
    HIL_OutInt32(0x2000040 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], ((unsigned)((_ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__limited_in[0] - (-1.0)) * 16000.0)));
    if (_ess_battery_inverter_control_inputs_round2__out == 0x0) {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 0x0);
    }
    else {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__channels[0], 0x1);
    }
    HIL_OutInt32(0x2000140, _ess_battery_inverter_three_phase_inverter1_igbt_leg1_pwm_modulator__update_mask);
    // Generated from the component: ESS.Battery inverter.Three Phase Inverter1.IGBT Leg2.PWM_Modulator
    if (_ess_battery_inverter_control_duty_cycle_zsm_sum6__out < -1.0)
        _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__limited_in[0] = -1.0;
    else if (_ess_battery_inverter_control_duty_cycle_zsm_sum6__out > 1.0)
        _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__limited_in[0] = 1.0;
    else
        _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__limited_in[0] = _ess_battery_inverter_control_duty_cycle_zsm_sum6__out;
    HIL_OutInt32(0x2000040 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], ((unsigned)((_ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__limited_in[0] - (-1.0)) * 16000.0)));
    if (_ess_battery_inverter_control_inputs_round2__out == 0x0) {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 0x0);
    }
    else {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__channels[0], 0x1);
    }
    HIL_OutInt32(0x2000140, _ess_battery_inverter_three_phase_inverter1_igbt_leg2_pwm_modulator__update_mask);
    // Generated from the component: ESS.Battery inverter.Three Phase Inverter1.IGBT Leg3.PWM_Modulator
    if (_ess_battery_inverter_control_duty_cycle_zsm_sum7__out < -1.0)
        _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__limited_in[0] = -1.0;
    else if (_ess_battery_inverter_control_duty_cycle_zsm_sum7__out > 1.0)
        _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__limited_in[0] = 1.0;
    else
        _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__limited_in[0] = _ess_battery_inverter_control_duty_cycle_zsm_sum7__out;
    HIL_OutInt32(0x2000040 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], ((unsigned)((_ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__limited_in[0] - (-1.0)) * 16000.0)));
    if (_ess_battery_inverter_control_inputs_round2__out == 0x0) {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 0x0);
    }
    else {
        // pwm_modulator_en
        HIL_OutInt32(0x2000000 + _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__channels[0], 0x1);
    }
    HIL_OutInt32(0x2000140, _ess_battery_inverter_three_phase_inverter1_igbt_leg3_pwm_modulator__update_mask);
    //@cmp.out.block.end
    //////////////////////////////////////////////////////////////////////////
    // Update block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.update.block.start
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Transport Delay1
    _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[_back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi] = _back_up_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out;
    if (_back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi < 119)
        _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi++;
    else
        _back_up_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Unit Delay1
    _back_up_diesel_gen_control_unit_delay1__state = _back_up_diesel_gen_control_bus_split2__out1;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Unit Delay2
    _back_up_diesel_gen_control_unit_delay2__state = _back_up_diesel_gen_control_read_op_mode__enable;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Unit Delay3
    _back_up_diesel_gen_control_unit_delay3__state = _back_up_diesel_gen_control_read_op_mode__enable;
    // Generated from the component: Back-Up.Diesel_Gen.Gen.Machine Wrapper1
    _back_up_diesel_gen_gen_machine_wrapper1__model_load = _back_up_diesel_gen_control_governor_and_engine_tpu_to_t__out;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Normalize.V_terminal
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum7__out * 0.0002;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator2
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state += _back_up_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out * 0.0002;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Unit Delay1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.Unit Delay1
    _back_up_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state = _back_up_diesel_gen_sync_check_and2__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.Edge Detection1.Unit Delay1
    _back_up_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state = _back_up_diesel_gen_sync_check_contactor_control_bus_split1__out2;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.SR Flip Flop1
    if ((_back_up_diesel_gen_sync_check_contactor_control_signal_switch1__out != 0x0) && (_back_up_diesel_gen_sync_check_contactor_control_or__out == 0x0))
        _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state = 1;
    else if ((_back_up_diesel_gen_sync_check_contactor_control_signal_switch1__out == 0x0) && (_back_up_diesel_gen_sync_check_contactor_control_or__out != 0x0))
        _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state = 0;
    else if ((_back_up_diesel_gen_sync_check_contactor_control_signal_switch1__out != 0x0) && (_back_up_diesel_gen_sync_check_contactor_control_or__out != 0x0))
        _back_up_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state = -1;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Integrator1
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state += _back_up_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum7__out * 0.0002;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Unit Delay1
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state = _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Unit Delay1
    _back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__state = _back_up_diesel_gen_sync_check_and2__out;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.Accumulator1
    if ((_back_up_diesel_gen_sync_check_check_phase_diff_counter_not__out != 0.0) || (_back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state != 0)) {
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state = 0.0;
    } else
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state = (_back_up_diesel_gen_sync_check_check_phase_diff_counter_not__out == 0) ? _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state + _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_en_switch__out : 0.0;
    if (_back_up_diesel_gen_sync_check_check_phase_diff_counter_not__out > 0)
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 1;
    else if (_back_up_diesel_gen_sync_check_check_phase_diff_counter_not__out < 0)
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = -1;
    else
        _back_up_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Transport Delay1
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__state[_dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi] = _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_limit1__out;
    if (_dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi < 119)
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi++;
    else
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_transport_delay1__cbi = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Unit Delay1
    _dg_800kw_diesel_gen_control_unit_delay1__state = _dg_800kw_diesel_gen_control_bus_split2__out1;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Unit Delay2
    _dg_800kw_diesel_gen_control_unit_delay2__state = _dg_800kw_diesel_gen_control_read_op_mode__enable;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Unit Delay3
    _dg_800kw_diesel_gen_control_unit_delay3__state = _dg_800kw_diesel_gen_control_read_op_mode__enable;
    // Generated from the component: DG_800kW.Diesel_Gen.Gen.Machine Wrapper1
    _dg_800kw_diesel_gen_gen_machine_wrapper1__model_load = _dg_800kw_diesel_gen_control_governor_and_engine_tpu_to_t__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Normalize.V_terminal
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator1__state += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_sum7__out * 0.0002;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.PI.Integrator2
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_integrator2__state += _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_pi_gain1__out * 0.0002;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Unit Delay1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_unit_delay1__state = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_integrator__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_unit_delay1__state = _dg_800kw_diesel_gen_sync_check_and2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.Edge Detection1.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_contactor_control_edge_detection1_unit_delay1__state = _dg_800kw_diesel_gen_sync_check_contactor_control_bus_split1__out2;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.SR Flip Flop1
    if ((_dg_800kw_diesel_gen_sync_check_contactor_control_signal_switch1__out != 0x0) && (_dg_800kw_diesel_gen_sync_check_contactor_control_or__out == 0x0))
        _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state = 1;
    else if ((_dg_800kw_diesel_gen_sync_check_contactor_control_signal_switch1__out == 0x0) && (_dg_800kw_diesel_gen_sync_check_contactor_control_or__out != 0x0))
        _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state = 0;
    else if ((_dg_800kw_diesel_gen_sync_check_contactor_control_signal_switch1__out != 0x0) && (_dg_800kw_diesel_gen_sync_check_contactor_control_or__out != 0x0))
        _dg_800kw_diesel_gen_sync_check_contactor_control_sr_flip_flop1__state = -1;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.PI.Integrator1
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_integrator1__state += _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_pi_sum7__out * 0.0002;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_unit_delay1__state = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__output;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Unit Delay1
    _dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__state = _dg_800kw_diesel_gen_sync_check_and2__out;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.Counter1.Accumulator1
    if ((_dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_not__out != 0.0) || (_dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state != 0)) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state = 0.0;
    } else
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state = (_dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_not__out == 0) ? _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__state + _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_en_switch__out : 0.0;
    if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_not__out > 0)
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_not__out < 0)
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Edge Detection1.Unit Delay1
    _ess_battery_inverter_control_imode_control_edge_detection1_unit_delay1__state = _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Edge Detection2.Unit Delay1
    _ess_battery_inverter_control_imode_control_edge_detection2_unit_delay1__state = _ess_battery_inverter_control_inputs_round2__out;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.Unit Delay1
    _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay1__state = _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__P;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.Unit Delay2
    _ess_battery_inverter_control_imode_control_limit_pqref_unit_delay2__state = _ess_battery_inverter_control_imode_control_limit_pqref_lims_overpq_s_limiting_over_pq__Q;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Integrator1
    _ess_battery_inverter_control_pll_pu_pll_pid_integrator1__state += _ess_battery_inverter_control_pll_pu_pll_pid_sum7__out * 0.0002;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.PID.Integrator2
    _ess_battery_inverter_control_pll_pu_pll_pid_integrator2__state += _ess_battery_inverter_control_pll_pu_pll_pid_gain1__out * 0.0002;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.Unit Delay1
    _ess_battery_inverter_control_pll_pu_pll_unit_delay1__state = _ess_battery_inverter_control_pll_pu_pll_integrator__out;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.S_and_pf
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Edge Detection1.Unit Delay1
    _ess_battery_inverter_control_synch_check_nominal_conditions_edge_detection1_unit_delay1__state = _ess_battery_inverter_control_synch_check_nominal_conditions_logical_operator15__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Integrator1
    _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator1__state += _ess_battery_inverter_control_synch_pll_util_pll_pid_sum7__out * 0.0002;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.PID.Integrator2
    _ess_battery_inverter_control_synch_pll_util_pll_pid_integrator2__state += _ess_battery_inverter_control_synch_pll_util_pll_pid_gain1__out * 0.0002;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.Unit Delay1
    _ess_battery_inverter_control_synch_pll_util_pll_unit_delay1__state = _ess_battery_inverter_control_synch_pll_util_pll_integrator__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Counter1.Accumulator1
    if ((_ess_battery_inverter_control_synch_vmatch_logical_operator1__out != 0.0) || (_ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__reset_state != 0)) {
        _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__state = 0.0;
    } else
        _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__state = (_ess_battery_inverter_control_synch_vmatch_logical_operator1__out == 0) ? _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__state + _ess_battery_inverter_control_synch_vmatch_counter1_en_switch__out : 0.0;
    if (_ess_battery_inverter_control_synch_vmatch_logical_operator1__out > 0)
        _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__reset_state = 1;
    else if (_ess_battery_inverter_control_synch_vmatch_logical_operator1__out < 0)
        _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__reset_state = -1;
    else
        _ess_battery_inverter_control_synch_vmatch_counter1_accumulator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Unit Delay3
    _ess_battery_inverter_control_synch_vmatch_unit_delay3__state = _ess_battery_inverter_control_synch_vmatch_comparator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Unit Delay4
    _ess_battery_inverter_control_synch_vmatch_unit_delay4__state = _ess_battery_inverter_control_synch_vmatch_c_function__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Unit Delay5
    _ess_battery_inverter_control_synch_vmatch_unit_delay5__state = _ess_battery_inverter_control_synch_vmatch_pi_limit1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Counter1.Accumulator1
    if ((_ess_battery_inverter_control_synch_f_match_logical_operator1__out != 0.0) || (_ess_battery_inverter_control_synch_f_match_counter1_accumulator1__reset_state != 0)) {
        _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__state = 0.0;
    } else
        _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__state = (_ess_battery_inverter_control_synch_f_match_logical_operator1__out == 0) ? _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__state + _ess_battery_inverter_control_synch_f_match_counter1_en_switch__out : 0.0;
    if (_ess_battery_inverter_control_synch_f_match_logical_operator1__out > 0)
        _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__reset_state = 1;
    else if (_ess_battery_inverter_control_synch_f_match_logical_operator1__out < 0)
        _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__reset_state = -1;
    else
        _ess_battery_inverter_control_synch_f_match_counter1_accumulator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Delay1
    _ess_battery_inverter_control_synch_f_match_delay1__state[_ess_battery_inverter_control_synch_f_match_delay1__cbi] = _ess_battery_inverter_control_synch_f_match_c_function__out;
    if (_ess_battery_inverter_control_synch_f_match_delay1__cbi < 9)
        _ess_battery_inverter_control_synch_f_match_delay1__cbi++;
    else
        _ess_battery_inverter_control_synch_f_match_delay1__cbi = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Unit Delay1
    _ess_battery_inverter_control_synch_f_match_unit_delay1__state = _ess_battery_inverter_control_synch_f_match_c_function__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay1
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__state = _ess_battery_inverter_control_synch_f_match_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay2
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay2__state = _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay3
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__state = _ess_battery_inverter_control_synch_f_match_low_pass_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.low pass.Unit Delay4
    _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay4__state = _ess_battery_inverter_control_synch_f_match_low_pass_unit_delay3__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Counter1.Accumulator1
    if ((_ess_battery_inverter_control_synch_phase_match_logical_operator1__out != 0.0) || (_ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__reset_state != 0)) {
        _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__state = 0.0;
    } else
        _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__state = (_ess_battery_inverter_control_synch_phase_match_logical_operator1__out == 0) ? _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__state + _ess_battery_inverter_control_synch_phase_match_counter1_en_switch__out : 0.0;
    if (_ess_battery_inverter_control_synch_phase_match_logical_operator1__out > 0)
        _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__reset_state = 1;
    else if (_ess_battery_inverter_control_synch_phase_match_logical_operator1__out < 0)
        _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__reset_state = -1;
    else
        _ess_battery_inverter_control_synch_phase_match_counter1_accumulator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Unit Delay3
    _ess_battery_inverter_control_synch_phase_match_unit_delay3__state = _ess_battery_inverter_control_synch_phase_match_comparator2__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Unit Delay4
    _ess_battery_inverter_control_synch_phase_match_unit_delay4__state = _ess_battery_inverter_control_synch_phase_match_c_function__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Unit Delay5
    _ess_battery_inverter_control_synch_phase_match_unit_delay5__state = _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay1
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__state = _ess_battery_inverter_control_synch_phase_match_confine_phase__dtheta_confined;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay2
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay2__state = _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay3
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__state = _ess_battery_inverter_control_synch_phase_match_low_pass_sum1__out;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.low pass.Unit Delay4
    _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay4__state = _ess_battery_inverter_control_synch_phase_match_low_pass_unit_delay3__out;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Edge Detection1.Unit Delay1
    _ess_battery_inverter_control_vmode_control_edge_detection1_unit_delay1__state = _ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__Vmode;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Edge Detection2.Unit Delay1
    _ess_battery_inverter_control_vmode_control_edge_detection2_unit_delay1__state = _ess_battery_inverter_control_inputs_round2__out;
    // Generated from the component: PCC_monitor.SR Flip Flop4
    if ((_pcc_monitor_bus_split1__out != 0x0) && (_pcc_monitor_bus_split1__out1 == 0x0))
        _pcc_monitor_sr_flip_flop4__state = 1;
    else if ((_pcc_monitor_bus_split1__out == 0x0) && (_pcc_monitor_bus_split1__out1 != 0x0))
        _pcc_monitor_sr_flip_flop4__state = 0;
    else if ((_pcc_monitor_bus_split1__out != 0x0) && (_pcc_monitor_bus_split1__out1 != 0x0))
        _pcc_monitor_sr_flip_flop4__state = -1;
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.Unit Delay1
    _pcc_monitor_synch_check_calculate_dw_synch_unit_delay1__state = _pcc_monitor_synch_check_and2__out;
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.SR Flip Flop1
    if ((_pcc_monitor_synch_check_contactor_control_cb_sm__close_CB != 0x0) && (_pcc_monitor_synch_check_contactor_control_cb_sm__open_CB == 0x0))
        _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state = 1;
    else if ((_pcc_monitor_synch_check_contactor_control_cb_sm__close_CB == 0x0) && (_pcc_monitor_synch_check_contactor_control_cb_sm__open_CB != 0x0))
        _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state = 0;
    else if ((_pcc_monitor_synch_check_contactor_control_cb_sm__close_CB != 0x0) && (_pcc_monitor_synch_check_contactor_control_cb_sm__open_CB != 0x0))
        _pcc_monitor_synch_check_contactor_control_sr_flip_flop1__state = -1;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Normalize.V_terminal
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Integrator1
    _pcc_monitor_synch_check_plls_pll_pid_integrator1__state += _pcc_monitor_synch_check_plls_pll_pid_sum7__out * 0.0002;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.PID.Integrator2
    _pcc_monitor_synch_check_plls_pll_pid_integrator2__state += _pcc_monitor_synch_check_plls_pll_pid_gain1__out * 0.0002;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Unit Delay1
    _pcc_monitor_synch_check_plls_pll_unit_delay1__state = _pcc_monitor_synch_check_plls_pll_integrator__out;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Normalize.V_terminal
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Integrator1
    _pcc_monitor_synch_check_plls_pll1_pid_integrator1__state += _pcc_monitor_synch_check_plls_pll1_pid_sum7__out * 0.0002;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.PID.Integrator2
    _pcc_monitor_synch_check_plls_pll1_pid_integrator2__state += _pcc_monitor_synch_check_plls_pll1_pid_gain1__out * 0.0002;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Unit Delay1
    _pcc_monitor_synch_check_plls_pll1_unit_delay1__state = _pcc_monitor_synch_check_plls_pll1_integrator__out;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Unit Delay1
    _pcc_monitor_synch_check_check_v_diff_unit_delay1__state = _pcc_monitor_synch_check_and2__out;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.PI.Integrator1
    _pcc_monitor_synch_check_check_f_diff_pi_integrator1__state += _pcc_monitor_synch_check_check_f_diff_pi_sum7__out * 0.0002;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Counter.Counter1.Accumulator1
    if ((_pcc_monitor_synch_check_check_phase_diff_counter_not__out != 0.0) || (_pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__reset_state != 0)) {
        _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__state = 0.0;
    } else
        _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__state = (_pcc_monitor_synch_check_check_phase_diff_counter_not__out == 0) ? _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__state + _pcc_monitor_synch_check_check_phase_diff_counter_counter1_en_switch__out : 0.0;
    if (_pcc_monitor_synch_check_check_phase_diff_counter_not__out > 0)
        _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 1;
    else if (_pcc_monitor_synch_check_check_phase_diff_counter_not__out < 0)
        _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__reset_state = -1;
    else
        _pcc_monitor_synch_check_check_phase_diff_counter_counter1_accumulator1__reset_state = 0;
    // Generated from the component: Back-Up.DG_in.delay
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF4
    _back_up_diesel_gen_control_exciter_dc4b_tf4__states[0] = _back_up_diesel_gen_control_exciter_dc4b_tf4__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.PI.Integrator1
    _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__state += _back_up_diesel_gen_sync_check_check_v_diff_pi_sum7__out * 0.0002;
    if (_back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out > 0)
        _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = 1;
    else if (_back_up_diesel_gen_sync_check_check_v_diff_unit_delay1__out < 0)
        _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = -1;
    else
        _back_up_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Counter.c_function
    // Generated from the component: Back-Up.interface.SM
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF4
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__states[0] = _dg_800kw_diesel_gen_control_exciter_dc4b_tf4__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.PI.Integrator1
    _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__state += _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_sum7__out * 0.0002;
    if (_dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out > 0)
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_sync_check_check_v_diff_unit_delay1__out < 0)
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_sync_check_check_v_diff_pi_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Counter.c_function
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.c_function
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.c_function
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.PI.Integrator1
    _ess_battery_inverter_control_synch_phase_match_pi_integrator1__state += _ess_battery_inverter_control_synch_phase_match_pi_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_synch_f_match_delay1__out > 0)
        _ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_synch_f_match_delay1__out < 0)
        _ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_synch_phase_match_pi_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.c_function
    // Generated from the component: ESS.Battery inverter.THD Ia.THD_Array1
    _ess_battery_inverter_thd_ia_thd_array1__ack_old_state = _ess_battery_inverter_thd_ia_rt3_output__out;
    if (_ess_battery_inverter_thd_ia_thd_array1__counter == 84) {
        _ess_battery_inverter_thd_ia_thd_array1__zc_stat = _ess_battery_inverter_thd_ia_thd_array1__var_zc;
        if (_ess_battery_inverter_thd_ia_thd_array1__syn == 0)
            _ess_battery_inverter_thd_ia_thd_array1__syn = 1;
        else
            _ess_battery_inverter_thd_ia_thd_array1__syn = 0;
        _ess_battery_inverter_thd_ia_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: ESS.Battery inverter.THD Ib.THD_Array1
    _ess_battery_inverter_thd_ib_thd_array1__ack_old_state = _ess_battery_inverter_thd_ib_rt3_output__out;
    if (_ess_battery_inverter_thd_ib_thd_array1__counter == 84) {
        _ess_battery_inverter_thd_ib_thd_array1__zc_stat = _ess_battery_inverter_thd_ib_thd_array1__var_zc;
        if (_ess_battery_inverter_thd_ib_thd_array1__syn == 0)
            _ess_battery_inverter_thd_ib_thd_array1__syn = 1;
        else
            _ess_battery_inverter_thd_ib_thd_array1__syn = 0;
        _ess_battery_inverter_thd_ib_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: ESS.Battery inverter.THD Ic.THD_Array1
    _ess_battery_inverter_thd_ic_thd_array1__ack_old_state = _ess_battery_inverter_thd_ic_rt3_output__out;
    if (_ess_battery_inverter_thd_ic_thd_array1__counter == 84) {
        _ess_battery_inverter_thd_ic_thd_array1__zc_stat = _ess_battery_inverter_thd_ic_thd_array1__var_zc;
        if (_ess_battery_inverter_thd_ic_thd_array1__syn == 0)
            _ess_battery_inverter_thd_ic_thd_array1__syn = 1;
        else
            _ess_battery_inverter_thd_ic_thd_array1__syn = 0;
        _ess_battery_inverter_thd_ic_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: ESS.Battery inverter.THD Va.THD_Array1
    _ess_battery_inverter_thd_va_thd_array1__ack_old_state = _ess_battery_inverter_thd_va_rt3_output__out;
    if (_ess_battery_inverter_thd_va_thd_array1__counter == 84) {
        _ess_battery_inverter_thd_va_thd_array1__zc_stat = _ess_battery_inverter_thd_va_thd_array1__var_zc;
        if (_ess_battery_inverter_thd_va_thd_array1__syn == 0)
            _ess_battery_inverter_thd_va_thd_array1__syn = 1;
        else
            _ess_battery_inverter_thd_va_thd_array1__syn = 0;
        _ess_battery_inverter_thd_va_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: ESS.Battery inverter.THD Vb.THD_Array1
    _ess_battery_inverter_thd_vb_thd_array1__ack_old_state = _ess_battery_inverter_thd_vb_rt3_output__out;
    if (_ess_battery_inverter_thd_vb_thd_array1__counter == 84) {
        _ess_battery_inverter_thd_vb_thd_array1__zc_stat = _ess_battery_inverter_thd_vb_thd_array1__var_zc;
        if (_ess_battery_inverter_thd_vb_thd_array1__syn == 0)
            _ess_battery_inverter_thd_vb_thd_array1__syn = 1;
        else
            _ess_battery_inverter_thd_vb_thd_array1__syn = 0;
        _ess_battery_inverter_thd_vb_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: ESS.Battery inverter.THD Vc.THD_Array1
    _ess_battery_inverter_thd_vc_thd_array1__ack_old_state = _ess_battery_inverter_thd_vc_rt3_output__out;
    if (_ess_battery_inverter_thd_vc_thd_array1__counter == 84) {
        _ess_battery_inverter_thd_vc_thd_array1__zc_stat = _ess_battery_inverter_thd_vc_thd_array1__var_zc;
        if (_ess_battery_inverter_thd_vc_thd_array1__syn == 0)
            _ess_battery_inverter_thd_vc_thd_array1__syn = 1;
        else
            _ess_battery_inverter_thd_vc_thd_array1__syn = 0;
        _ess_battery_inverter_thd_vc_thd_array1__counter++; //now it wont get in if again!
    }
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.PI.Integrator1
    _pcc_monitor_synch_check_check_v_diff_pi_integrator1__state += _pcc_monitor_synch_check_check_v_diff_pi_sum7__out * 0.0002;
    if (_pcc_monitor_synch_check_check_v_diff_unit_delay1__out > 0)
        _pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state = 1;
    else if (_pcc_monitor_synch_check_check_v_diff_unit_delay1__out < 0)
        _pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state = -1;
    else
        _pcc_monitor_synch_check_check_v_diff_pi_integrator1__reset_state = 0;
    // Generated from the component: Microgrid_controller.SM2
    // Generated from the component: Microgrid_controller.SM3
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.Variable Limit
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF2
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i = 1; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i > 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf2__i--) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i] = _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf2__i - 1];
    }
    _back_up_diesel_gen_control_governor_and_engine_degov_tf2__states[0] = _back_up_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Start_Exciter.Comparator1
    if (_back_up_diesel_gen_control_start_exciter_w_to_wpu__out < _back_up_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _back_up_diesel_gen_control_start_exciter_comparator1__state = 0;
    } else if (_back_up_diesel_gen_control_start_exciter_w_to_wpu__out > _back_up_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _back_up_diesel_gen_control_start_exciter_comparator1__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.Comparator1
    if (_back_up_diesel_gen_sync_check_check_f_diff_freq_diff__out < _back_up_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_f_diff_comparator1__state = 0;
    } else if (_back_up_diesel_gen_sync_check_check_f_diff_freq_diff__out > _back_up_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_f_diff_comparator1__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.Comparator2
    if (_back_up_diesel_gen_sync_check_check_phase_diff_phase_diff__out < _back_up_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__state = 0;
    } else if (_back_up_diesel_gen_sync_check_check_phase_diff_phase_diff__out > _back_up_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _back_up_diesel_gen_sync_check_check_phase_diff_comparator2__state = 1;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.Variable Limit
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF2
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i = 1; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i > 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i--) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i] = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__i - 1];
    }
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__states[0] = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf2__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Start_Exciter.Comparator1
    if (_dg_800kw_diesel_gen_control_start_exciter_w_to_wpu__out < _dg_800kw_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _dg_800kw_diesel_gen_control_start_exciter_comparator1__state = 0;
    } else if (_dg_800kw_diesel_gen_control_start_exciter_w_to_wpu__out > _dg_800kw_diesel_gen_control_start_exciter_exciter_start_speed__out) {
        _dg_800kw_diesel_gen_control_start_exciter_comparator1__state = 1;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.Comparator1
    if (_dg_800kw_diesel_gen_sync_check_check_f_diff_freq_diff__out < _dg_800kw_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__state = 0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_f_diff_freq_diff__out > _dg_800kw_diesel_gen_sync_check_check_f_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_f_diff_comparator1__state = 1;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.Comparator2
    if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_phase_diff__out < _dg_800kw_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__state = 0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_phase_diff_phase_diff__out > _dg_800kw_diesel_gen_sync_check_check_phase_diff_abs2__out) {
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_comparator2__state = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.confine_phase
    // Generated from the component: Microgrid_controller.is_zero
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.interval_check
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.LPF_dwf
    _pcc_monitor_synch_check_check_f_diff_lpf_dwf__states[0] = _pcc_monitor_synch_check_check_f_diff_lpf_dwf__delay_line_in;
    // Generated from the component: PCC_monitor.Synch_check.check_f_diff.Comparator1
    if (_pcc_monitor_synch_check_check_f_diff_freq_diff__out < _pcc_monitor_synch_check_check_f_diff_abs3__out) {
        _pcc_monitor_synch_check_check_f_diff_comparator1__state = 0;
    } else if (_pcc_monitor_synch_check_check_f_diff_freq_diff__out > _pcc_monitor_synch_check_check_f_diff_abs3__out) {
        _pcc_monitor_synch_check_check_f_diff_comparator1__state = 1;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.Comparator2
    if (_pcc_monitor_synch_check_check_phase_diff_phase_diff__out < _pcc_monitor_synch_check_check_phase_diff_abs2__out) {
        _pcc_monitor_synch_check_check_phase_diff_comparator2__state = 0;
    } else if (_pcc_monitor_synch_check_check_phase_diff_phase_diff__out > _pcc_monitor_synch_check_check_phase_diff_abs2__out) {
        _pcc_monitor_synch_check_check_phase_diff_comparator2__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF3
    _back_up_diesel_gen_control_exciter_dc4b_tf3__states[0] = _back_up_diesel_gen_control_exciter_dc4b_tf3__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.check_steady_state_w.Comparator3
    if (_back_up_diesel_gen_control_check_steady_state_w_speed_diff__out < _back_up_diesel_gen_control_check_steady_state_w_abs1__out) {
        _back_up_diesel_gen_control_check_steady_state_w_comparator3__state = 0;
    } else if (_back_up_diesel_gen_control_check_steady_state_w_speed_diff__out > _back_up_diesel_gen_control_check_steady_state_w_abs1__out) {
        _back_up_diesel_gen_control_check_steady_state_w_comparator3__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_d
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[0] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[0] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF3
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__states[0] = _dg_800kw_diesel_gen_control_exciter_dc4b_tf3__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.check_steady_state_w.Comparator3
    if (_dg_800kw_diesel_gen_control_check_steady_state_w_speed_diff__out < _dg_800kw_diesel_gen_control_check_steady_state_w_abs1__out) {
        _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__state = 0;
    } else if (_dg_800kw_diesel_gen_control_check_steady_state_w_speed_diff__out > _dg_800kw_diesel_gen_control_check_steady_state_w_abs1__out) {
        _dg_800kw_diesel_gen_control_check_steady_state_w_comparator3__state = 1;
    }
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_d
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__states[0] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_d__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__states[0] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.abc to dq.LPF_d
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__states[0] = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_d__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.abc to dq.LPF_q
    _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__states[0] = _ess_battery_inverter_control_pll_pu_pll_abc_to_dq_lpf_q__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.abc to dq.LPF_d
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__states[0] = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_d__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.abc to dq.LPF_q
    _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__states[0] = _ess_battery_inverter_control_synch_pll_util_pll_abc_to_dq_lpf_q__delay_line_in;
    // Generated from the component: Microgrid_controller.SM
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.interval_check
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.less_eq
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.LPF_d
    _pcc_monitor_synch_check_plls_pll_lpf_d__states[0] = _pcc_monitor_synch_check_plls_pll_lpf_d__delay_line_in;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.LPF_q
    _pcc_monitor_synch_check_plls_pll_lpf_q__states[0] = _pcc_monitor_synch_check_plls_pll_lpf_q__delay_line_in;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.LPF_d
    _pcc_monitor_synch_check_plls_pll1_lpf_d__states[0] = _pcc_monitor_synch_check_plls_pll1_lpf_d__delay_line_in;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.LPF_q
    _pcc_monitor_synch_check_plls_pll1_lpf_q__states[0] = _pcc_monitor_synch_check_plls_pll1_lpf_q__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.norm_pf_meas
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.norm_pf_meas
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.normalize
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.normalize
    // Generated from the component: Microgrid_controller.PI_P.Integrator1
    _microgrid_controller_pi_p_integrator1__state += _microgrid_controller_pi_p_sum7__out * 0.0002;
    if (_microgrid_controller_sm__zeropower > 0)
        _microgrid_controller_pi_p_integrator1__reset_state = 1;
    else if (_microgrid_controller_sm__zeropower < 0)
        _microgrid_controller_pi_p_integrator1__reset_state = -1;
    else
        _microgrid_controller_pi_p_integrator1__reset_state = 0;
    // Generated from the component: Microgrid_controller.PI_Q.Integrator1
    _microgrid_controller_pi_q_integrator1__state += _microgrid_controller_pi_q_sum7__out * 0.0002;
    if (_microgrid_controller_sm__zeropower > 0)
        _microgrid_controller_pi_q_integrator1__reset_state = 1;
    else if (_microgrid_controller_sm__zeropower < 0)
        _microgrid_controller_pi_q_integrator1__reset_state = -1;
    else
        _microgrid_controller_pi_q_integrator1__reset_state = 0;
    // Generated from the component: PCC_monitor.Synch_check.check_V_diff.Comparator1
    if (_pcc_monitor_synch_check_check_v_diff_volt_diff__out < _pcc_monitor_synch_check_check_v_diff_abs3__out) {
        _pcc_monitor_synch_check_check_v_diff_comparator1__state = 0;
    } else if (_pcc_monitor_synch_check_check_v_diff_volt_diff__out > _pcc_monitor_synch_check_check_v_diff_abs3__out) {
        _pcc_monitor_synch_check_check_v_diff_comparator1__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Normalize.V_terminal
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF1
    _back_up_diesel_gen_control_exciter_dc4b_tf1__states[0] = _back_up_diesel_gen_control_exciter_dc4b_tf1__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Define_control_mode.Control_mode
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Integrator1
    _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state += _back_up_diesel_gen_control_governor_and_engine_degov_integrator_sum7__out * 0.0002;
    if (_back_up_diesel_gen_control_bus_split3__out > 0)
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = 1;
    else if (_back_up_diesel_gen_control_bus_split3__out < 0)
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = -1;
    else
        _back_up_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.norm_pf_ref
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.Normalize.V_terminal
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF1
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__states[0] = _dg_800kw_diesel_gen_control_exciter_dc4b_tf1__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Comparator1
    if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs1__out < _ess_battery_inverter_control_synch_check_nominal_conditions___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__state = 0;
    } else if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs1__out > _ess_battery_inverter_control_synch_check_nominal_conditions___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator1__state = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Comparator1
    if (_ess_battery_inverter_control_synch_check_grid_abs1__out < _ess_battery_inverter_control_synch_check_grid___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_grid_comparator1__state = 0;
    } else if (_ess_battery_inverter_control_synch_check_grid_abs1__out > _ess_battery_inverter_control_synch_check_grid___1_5_hz__out) {
        _ess_battery_inverter_control_synch_check_grid_comparator1__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_Vt
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[0] = _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Rate Limiter1
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out;
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.integrator
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.P_ramp
    _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out = _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__out;
    _back_up_diesel_gen_control_freq_setpoint_control_p_ramp__first_step = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.w_ramp
    _back_up_diesel_gen_control_governor_and_engine_w_ramp__prev_out = _back_up_diesel_gen_control_governor_and_engine_w_ramp__out;
    _back_up_diesel_gen_control_governor_and_engine_w_ramp__first_step = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.read_OP_mode
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.PI.Integrator1
    _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__state += _back_up_diesel_gen_control_exciter_dc4b_pi_sum7__out * 0.0002;
    if (_back_up_diesel_gen_control_start_exciter_and__out > 0)
        _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = 1;
    else if (_back_up_diesel_gen_control_start_exciter_and__out < 0)
        _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = -1;
    else
        _back_up_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_Vt
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__states[0] = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_vt__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.Rate Limiter1
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__prev_out = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__out;
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_rate_limiter1__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.integrator
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.Comparator1
    if (_ess_battery_inverter_control_synch_f_match_sum2__out < _ess_battery_inverter_control_synch_f_match_abs3__out) {
        _ess_battery_inverter_control_synch_f_match_comparator1__state = 0;
    } else if (_ess_battery_inverter_control_synch_f_match_sum2__out > _ess_battery_inverter_control_synch_f_match_abs3__out) {
        _ess_battery_inverter_control_synch_f_match_comparator1__state = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.Comparator2
    if (_ess_battery_inverter_control_synch_phase_match_sum2__out < _ess_battery_inverter_control_synch_phase_match_abs2__out) {
        _ess_battery_inverter_control_synch_phase_match_comparator2__state = 0;
    } else if (_ess_battery_inverter_control_synch_phase_match_sum2__out > _ess_battery_inverter_control_synch_phase_match_abs2__out) {
        _ess_battery_inverter_control_synch_phase_match_comparator2__state = 1;
    }
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.Rate Limiter1
    _pcc_monitor_synch_check_plls_pll_rate_limiter1__prev_out = _pcc_monitor_synch_check_plls_pll_rate_limiter1__out;
    _pcc_monitor_synch_check_plls_pll_rate_limiter1__first_step = 0;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.integrator
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.Rate Limiter1
    _pcc_monitor_synch_check_plls_pll1_rate_limiter1__prev_out = _pcc_monitor_synch_check_plls_pll1_rate_limiter1__out;
    _pcc_monitor_synch_check_plls_pll1_rate_limiter1__first_step = 0;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.integrator
    // Generated from the component: PCC_monitor.Synch_check.Contactor_Control.CB_SM
    // Generated from the component: Back-Up.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q1
    for (_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 1; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i > 0; _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i--) {
        _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i - 1];
    }
    _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[0] = _back_up_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.PI.Integrator1
    _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__state += _back_up_diesel_gen_control_freq_setpoint_control_pi_sum7__out * 0.0002;
    if (_back_up_diesel_gen_control_read_op_mode__enable > 0)
        _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = 1;
    else if (_back_up_diesel_gen_control_read_op_mode__enable < 0)
        _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = -1;
    else
        _back_up_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.Rate Limit
    _back_up_diesel_gen_control_exciter_rate_limit__prev_out = _back_up_diesel_gen_control_exciter_rate_limit__out;
    _back_up_diesel_gen_control_exciter_rate_limit__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Measurements.3ph_PLL_Gen.PLL.LPF_q1
    for (_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i = 1; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i > 0; _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i--) {
        _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[_dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__i - 1];
    }
    _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__states[0] = _dg_800kw_diesel_gen_measurements_3ph_pll_gen_pll_lpf_q1__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.LPF_P
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__states[0] = _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_p__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.Power_Meas.Power_Meas_DQ.LPF_Q
    _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__states[0] = _ess_battery_inverter_control_power_meas_power_meas_dq_lpf_q__delay_line_in;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL.LPF_q1
    for (_pcc_monitor_synch_check_plls_pll_lpf_q1__i = 1; _pcc_monitor_synch_check_plls_pll_lpf_q1__i > 0; _pcc_monitor_synch_check_plls_pll_lpf_q1__i--) {
        _pcc_monitor_synch_check_plls_pll_lpf_q1__states[_pcc_monitor_synch_check_plls_pll_lpf_q1__i] = _pcc_monitor_synch_check_plls_pll_lpf_q1__states[_pcc_monitor_synch_check_plls_pll_lpf_q1__i - 1];
    }
    _pcc_monitor_synch_check_plls_pll_lpf_q1__states[0] = _pcc_monitor_synch_check_plls_pll_lpf_q1__delay_line_in;
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.PI.Integrator1
    _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__state += _pcc_monitor_synch_check_check_phase_diff_pi_sum7__out * 0.0002;
    if (_pcc_monitor_synch_check_and1__out > 0)
        _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state = 1;
    else if (_pcc_monitor_synch_check_and1__out < 0)
        _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state = -1;
    else
        _pcc_monitor_synch_check_check_phase_diff_pi_integrator1__reset_state = 0;
    // Generated from the component: PCC_monitor.Synch_check.PLLs.PLL1.LPF_q1
    for (_pcc_monitor_synch_check_plls_pll1_lpf_q1__i = 1; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i > 0; _pcc_monitor_synch_check_plls_pll1_lpf_q1__i--) {
        _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i] = _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[_pcc_monitor_synch_check_plls_pll1_lpf_q1__i - 1];
    }
    _pcc_monitor_synch_check_plls_pll1_lpf_q1__states[0] = _pcc_monitor_synch_check_plls_pll1_lpf_q1__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Freq_setpoint_control.w_ramp
    _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out = _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__out;
    _back_up_diesel_gen_control_freq_setpoint_control_w_ramp__first_step = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Read_Control_mode.State
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.PI.Integrator1
    _back_up_diesel_gen_control_pf_control_pi_integrator1__state += _back_up_diesel_gen_control_pf_control_pi_sum7__out * 0.0002;
    if (_back_up_diesel_gen_control_pf_control_logical_operator5__out > 0)
        _back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state = 1;
    else if (_back_up_diesel_gen_control_pf_control_logical_operator5__out < 0)
        _back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state = -1;
    else
        _back_up_diesel_gen_control_pf_control_pi_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.Comparator2
    if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs2__out < _ess_battery_inverter_control_synch_check_nominal_conditions___10___out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__state = 0;
    } else if (_ess_battery_inverter_control_synch_check_nominal_conditions_abs2__out > _ess_battery_inverter_control_synch_check_nominal_conditions___10___out) {
        _ess_battery_inverter_control_synch_check_nominal_conditions_comparator2__state = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_grid.Comparator2
    if (_ess_battery_inverter_control_synch_check_grid_abs2__out < _ess_battery_inverter_control_synch_check_grid___10___out) {
        _ess_battery_inverter_control_synch_check_grid_comparator2__state = 0;
    } else if (_ess_battery_inverter_control_synch_check_grid_abs2__out > _ess_battery_inverter_control_synch_check_grid___10___out) {
        _ess_battery_inverter_control_synch_check_grid_comparator2__state = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.Comparator2
    if (_ess_battery_inverter_control_synch_vmatch_sum2__out < _ess_battery_inverter_control_synch_vmatch_abs2__out) {
        _ess_battery_inverter_control_synch_vmatch_comparator2__state = 0;
    } else if (_ess_battery_inverter_control_synch_vmatch_sum2__out > _ess_battery_inverter_control_synch_vmatch_abs2__out) {
        _ess_battery_inverter_control_synch_vmatch_comparator2__state = 1;
    }
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.confine_phase
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.integrator
    _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out += 0.0002 * _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in;
    if (_back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in >= 0.0) {
        if (_back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out >= 6.283185307179586) {
            _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out <= -6.283185307179586) {
            _back_up_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: Back-Up.Diesel_Gen.Control.pf Control.Rate Limiter1
    _back_up_diesel_gen_control_pf_control_rate_limiter1__prev_out = _back_up_diesel_gen_control_pf_control_rate_limiter1__out;
    _back_up_diesel_gen_control_pf_control_rate_limiter1__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.PLL.integrator
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out += 0.0002 * _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in;
    if (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__in >= 0.0) {
        if (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out >= 6.283185307179586) {
            _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out -= 6.283185307179586;
        }
    }
    else {
        if (_dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out <= -6.283185307179586) {
            _dg_800kw_diesel_gen_sync_check_plls_pll_grid_pll_integrator__out += 6.283185307179586;
        }
    }
    // Generated from the component: PCC_monitor.Synch_check.check_phase_diff.LPF
    _pcc_monitor_synch_check_check_phase_diff_lpf__states[0] = _pcc_monitor_synch_check_check_phase_diff_lpf__delay_line_in;
    // Generated from the component: DG_800kW.Interface.SM
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_f
    _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[0] = _back_up_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.PLLs.PLL_Grid.LPF_f
    _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__states[0] = _dg_800kw_diesel_gen_sync_check_plls_pll_grid_lpf_f__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.Rate Limiter1
    _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__prev_out = _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__out;
    _ess_battery_inverter_control_pll_pu_pll_rate_limiter1__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.integrator
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.Rate Limiter1
    _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__prev_out = _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__out;
    _ess_battery_inverter_control_synch_pll_util_pll_rate_limiter1__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.integrator
    // Generated from the component: DG_800kW.Interface.getPF
    // Generated from the component: ESS.Interface.SM
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.confine_phase
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_f_diff.LPF_dwf
    _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[0] = _back_up_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.PI.Integrator1
    _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state += _back_up_diesel_gen_sync_check_check_phase_diff_pi_sum7__out * 0.0002;
    if (_back_up_diesel_gen_sync_check_and1__out > 0)
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = 1;
    else if (_back_up_diesel_gen_sync_check_and1__out < 0)
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = -1;
    else
        _back_up_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.confine_phase
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_f_diff.LPF_dwf
    _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__states[0] = _dg_800kw_diesel_gen_sync_check_check_f_diff_lpf_dwf__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.PLL_pu.PLL.LPF.LPF
    for (_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i = 1; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i > 0; _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i--) {
        _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i] = _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[_ess_battery_inverter_control_pll_pu_pll_lpf_lpf__i - 1];
    }
    _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__states[0] = _ess_battery_inverter_control_pll_pu_pll_lpf_lpf__delay_line_in;
    // Generated from the component: ESS.Battery inverter.Control.Synch.PLL_Util.PLL.LPF.LPF
    for (_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i = 1; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i > 0; _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i--) {
        _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i] = _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[_ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__i - 1];
    }
    _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__states[0] = _ess_battery_inverter_control_synch_pll_util_pll_lpf_lpf__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.offset_phase
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_V_diff.Comparator1
    if (_back_up_diesel_gen_sync_check_check_v_diff_volt_diff__out < _back_up_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_v_diff_comparator1__state = 0;
    } else if (_back_up_diesel_gen_sync_check_check_v_diff_volt_diff__out > _back_up_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _back_up_diesel_gen_sync_check_check_v_diff_comparator1__state = 1;
    }
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Contactor_Control.wait_to_trip
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.offset_phase
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_V_diff.Comparator1
    if (_dg_800kw_diesel_gen_sync_check_check_v_diff_volt_diff__out < _dg_800kw_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__state = 0;
    } else if (_dg_800kw_diesel_gen_sync_check_check_v_diff_volt_diff__out > _dg_800kw_diesel_gen_sync_check_check_v_diff_abs3__out) {
        _dg_800kw_diesel_gen_sync_check_check_v_diff_comparator1__state = 1;
    }
    // Generated from the component: ESS.Battery inverter.Control.Synch.Check_nominal_conditions.wait_to_change
    // Generated from the component: PCC_monitor.Synch_check.Calculate_dw_synch.LPF_dw
    _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__states[0] = _pcc_monitor_synch_check_calculate_dw_synch_lpf_dw__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.check_phase_diff.LPF
    _back_up_diesel_gen_sync_check_check_phase_diff_lpf__states[0] = _back_up_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.LPF
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__states[0] = _dg_800kw_diesel_gen_sync_check_check_phase_diff_lpf__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Define_control_mode.Control_mode
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.Integrator.Integrator1
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__state += _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_sum7__out * 0.0002;
    if (_dg_800kw_diesel_gen_control_bus_split3__out > 0)
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_control_bus_split3__out < 0)
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_integrator_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.norm_pf_ref
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.P_ramp
    _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__prev_out = _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__out;
    _dg_800kw_diesel_gen_control_freq_setpoint_control_p_ramp__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.w_ramp
    _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__prev_out = _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__out;
    _dg_800kw_diesel_gen_control_governor_and_engine_w_ramp__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.read_OP_mode
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.PI.Integrator1
    _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__state += _dg_800kw_diesel_gen_control_exciter_dc4b_pi_sum7__out * 0.0002;
    if (_dg_800kw_diesel_gen_control_start_exciter_and__out > 0)
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_control_start_exciter_and__out < 0)
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_control_exciter_dc4b_pi_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.priority_PQlim.PQ limiting with priority
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Rate Limiter2
    _ess_battery_inverter_control_vmode_control_rate_limiter2__prev_out = _ess_battery_inverter_control_vmode_control_rate_limiter2__out;
    _ess_battery_inverter_control_vmode_control_rate_limiter2__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.PI.Integrator1
    _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__state += _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_sum7__out * 0.0002;
    if (_dg_800kw_diesel_gen_control_read_op_mode__enable > 0)
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_control_read_op_mode__enable < 0)
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_control_freq_setpoint_control_pi_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.Rate Limit
    _dg_800kw_diesel_gen_control_exciter_rate_limit__prev_out = _dg_800kw_diesel_gen_control_exciter_rate_limit__out;
    _dg_800kw_diesel_gen_control_exciter_rate_limit__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.P rate limit
    _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__prev_out = _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_p_rate_limit__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.Q rate limit
    _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__prev_out = _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_q_rate_limit__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.S rate limit
    _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__prev_out = _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__out;
    _ess_battery_inverter_control_imode_control_limit_pqref_s_rate_limit__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.Inv_Cab_SM
    // Generated from the component: Back-Up.Diesel_Gen.Sync_Check.Calculate_dw_synch.LPF_dw
    _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[0] = _back_up_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Freq_setpoint_control.w_ramp
    _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__prev_out = _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__out;
    _dg_800kw_diesel_gen_control_freq_setpoint_control_w_ramp__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Read_Control_mode.State
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.PI.Integrator1
    _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__state += _dg_800kw_diesel_gen_control_pf_control_pi_sum7__out * 0.0002;
    if (_dg_800kw_diesel_gen_control_pf_control_logical_operator5__out > 0)
        _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_control_pf_control_logical_operator5__out < 0)
        _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_control_pf_control_pi_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Limit_PQref.limS_overPQ.S limiting over PQ
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Rate Limiter1
    _ess_battery_inverter_control_vmode_control_rate_limiter1__prev_out = _ess_battery_inverter_control_vmode_control_rate_limiter1__out;
    _ess_battery_inverter_control_vmode_control_rate_limiter1__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Inv_Cab_SM.read_mode.verify_mode
    // Generated from the component: ESS.Battery inverter.Control.Synch.Vmatch.PI.Integrator1
    _ess_battery_inverter_control_synch_vmatch_pi_integrator1__state += _ess_battery_inverter_control_synch_vmatch_pi_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0)
        _ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch < 0)
        _ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_synch_vmatch_pi_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Synch.f_match.PI.Integrator1
    _ess_battery_inverter_control_synch_f_match_pi_integrator1__state += _ess_battery_inverter_control_synch_f_match_pi_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch > 0)
        _ess_battery_inverter_control_synch_f_match_pi_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_inv_cab_sm_inv_cab_sm__synch < 0)
        _ess_battery_inverter_control_synch_f_match_pi_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_synch_f_match_pi_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.pf Control.Rate Limiter1
    _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__prev_out = _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__out;
    _dg_800kw_diesel_gen_control_pf_control_rate_limiter1__first_step = 0;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.internal_frequency.Angle generator.int_n_wrap
    _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out += 0.0002 * _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__in;
    if (_ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__in >= 0.0) {
        if (_ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out >= 6.283185307179586) {
            _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out -= 6.283185307179586;
        }
    }
    else {
        if (_ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out <= -6.283185307179586) {
            _ess_battery_inverter_control_vmode_control_internal_frequency_angle_generator_int_n_wrap__out += 6.283185307179586;
        }
    }
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_d.Integrator1
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__state += _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_imode_control_logical_operator1__out > 0)
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_imode_control_logical_operator1__out < 0)
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_d_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Imode_control.Dq current controller.PI_q.Integrator1
    _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__state += _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_imode_control_logical_operator1__out > 0)
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_imode_control_logical_operator1__out < 0)
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_imode_control_dq_current_controller_pi_q_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Current_ref.PI.Integrator1
    _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__state += _ess_battery_inverter_control_vmode_control_current_ref_pi_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_vmode_control_logical_operator1__out > 0)
        _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_vmode_control_logical_operator1__out < 0)
        _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_vmode_control_current_ref_pi_integrator1__reset_state = 0;
    // Generated from the component: ESS.Battery inverter.Control.Vmode_control.Inner dq current controller.PI_d.Integrator1
    _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__state += _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_sum7__out * 0.0002;
    if (_ess_battery_inverter_control_vmode_control_logical_operator1__out > 0)
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state = 1;
    else if (_ess_battery_inverter_control_vmode_control_logical_operator1__out < 0)
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state = -1;
    else
        _ess_battery_inverter_control_vmode_control_inner_dq_current_controller_pi_d_integrator1__reset_state = 0;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF1
    for (_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i = 1; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i > 0; _back_up_diesel_gen_control_governor_and_engine_degov_tf1__i--) {
        _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i] = _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[_back_up_diesel_gen_control_governor_and_engine_degov_tf1__i - 1];
    }
    _back_up_diesel_gen_control_governor_and_engine_degov_tf1__states[0] = _back_up_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.check_phase_diff.PI.Integrator1
    _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__state += _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_sum7__out * 0.0002;
    if (_dg_800kw_diesel_gen_sync_check_and1__out > 0)
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = 1;
    else if (_dg_800kw_diesel_gen_sync_check_and1__out < 0)
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = -1;
    else
        _dg_800kw_diesel_gen_sync_check_check_phase_diff_pi_integrator1__reset_state = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Contactor_Control.wait_to_trip
    // Generated from the component: ESS.Battery inverter.Control.Synch.phase_match.3 hz per sec
    _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__prev_out = _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__out;
    _ess_battery_inverter_control_synch_phase_match_3_hz_per_sec__first_step = 0;
    // Generated from the component: DG_800kW.Diesel_Gen.Sync_Check.Calculate_dw_synch.LPF_dw
    _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__states[0] = _dg_800kw_diesel_gen_sync_check_calculate_dw_synch_lpf_dw__delay_line_in;
    // Generated from the component: Back-Up.Diesel_Gen.Control.Exciter.DC4B.TF2
    _back_up_diesel_gen_control_exciter_dc4b_tf2__states[0] = _back_up_diesel_gen_control_exciter_dc4b_tf2__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Governor_and_Engine.DEGOV.TF1
    for (_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i = 1; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i > 0; _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i--) {
        _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i] = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[_dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__i - 1];
    }
    _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__states[0] = _dg_800kw_diesel_gen_control_governor_and_engine_degov_tf1__delay_line_in;
    // Generated from the component: DG_800kW.Diesel_Gen.Control.Exciter.DC4B.TF2
    _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__states[0] = _dg_800kw_diesel_gen_control_exciter_dc4b_tf2__delay_line_in;
    //@cmp.update.block.end
}
void TimerCounterHandler_2_user_sp_cpu_dev0() {
#if DEBUG_MODE
    printf("\n\rTimerCounterHandler_2");
#endif
    //////////////////////////////////////////////////////////////////////////
    // Output block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.out.block.start
    // Generated from the component: ESS.Battery inverter.THD Ia.RT1.Output
    // Generated from the component: ESS.Battery inverter.THD Ia.RT2.Output
    // Generated from the component: ESS.Battery inverter.THD Ib.RT1.Output
    // Generated from the component: ESS.Battery inverter.THD Ib.RT2.Output
    // Generated from the component: ESS.Battery inverter.THD Ic.RT1.Output
    // Generated from the component: ESS.Battery inverter.THD Ic.RT2.Output
    // Generated from the component: ESS.Battery inverter.THD Va.RT1.Output
    // Generated from the component: ESS.Battery inverter.THD Va.RT2.Output
    // Generated from the component: ESS.Battery inverter.THD Vb.RT1.Output
    // Generated from the component: ESS.Battery inverter.THD Vb.RT2.Output
    // Generated from the component: ESS.Battery inverter.THD Vc.RT1.Output
    // Generated from the component: ESS.Battery inverter.THD Vc.RT2.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT1.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT2.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT1.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT2.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT1.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT2.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT1.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT2.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT1.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT2.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT1.Output
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT2.Output
    // Generated from the component: ESS.Battery inverter.THD Ia.THD_FFT1
    if (_ess_battery_inverter_thd_ia_thd_fft1__syn_old_state != _ess_battery_inverter_thd_ia_rt1_output__out) {
        for(_ess_battery_inverter_thd_ia_thd_fft1__iter = 0; _ess_battery_inverter_thd_ia_thd_fft1__iter < 84; _ess_battery_inverter_thd_ia_thd_fft1__iter++) {
            _ess_battery_inverter_thd_ia_thd_fft1__real_fft += _ess_battery_inverter_thd_ia_samples_holder[_ess_battery_inverter_thd_ia_thd_fft1__iter] * cos(-2 * M_PI * _ess_battery_inverter_thd_ia_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_ia_thd_fft1__imag_fft += _ess_battery_inverter_thd_ia_samples_holder[_ess_battery_inverter_thd_ia_thd_fft1__iter] * sin(-2 * M_PI * _ess_battery_inverter_thd_ia_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_ia_thd_fft1__rms_total += pow(_ess_battery_inverter_thd_ia_samples_holder[_ess_battery_inverter_thd_ia_thd_fft1__iter], 2);
        }
        if (_ess_battery_inverter_thd_ia_rt2_output__out > 0) {
            _ess_battery_inverter_thd_ia_thd_fft1__rms_fund = (sqrt(_ess_battery_inverter_thd_ia_thd_fft1__real_fft * _ess_battery_inverter_thd_ia_thd_fft1__real_fft + _ess_battery_inverter_thd_ia_thd_fft1__imag_fft * _ess_battery_inverter_thd_ia_thd_fft1__imag_fft) * 2 / 84) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _ess_battery_inverter_thd_ia_thd_fft1__rms_total = sqrt(_ess_battery_inverter_thd_ia_thd_fft1__rms_total / 84);
            if (_ess_battery_inverter_thd_ia_thd_fft1__rms_fund != 0x0) {
                _ess_battery_inverter_thd_ia_thd_fft1__thd = sqrt(fabs((_ess_battery_inverter_thd_ia_thd_fft1__rms_total * _ess_battery_inverter_thd_ia_thd_fft1__rms_total) - (_ess_battery_inverter_thd_ia_thd_fft1__rms_fund * _ess_battery_inverter_thd_ia_thd_fft1__rms_fund))) / _ess_battery_inverter_thd_ia_thd_fft1__rms_fund;
            }
            else
                _ess_battery_inverter_thd_ia_thd_fft1__thd = 0x0;
        }
        else
            _ess_battery_inverter_thd_ia_thd_fft1__thd = 0x0;
        if (_ess_battery_inverter_thd_ia_thd_fft1__ack == 0)
            _ess_battery_inverter_thd_ia_thd_fft1__ack = 1;
        else
            _ess_battery_inverter_thd_ia_thd_fft1__ack = 0;
    }
    // Generated from the component: ESS.Battery inverter.THD Ib.THD_FFT1
    if (_ess_battery_inverter_thd_ib_thd_fft1__syn_old_state != _ess_battery_inverter_thd_ib_rt1_output__out) {
        for(_ess_battery_inverter_thd_ib_thd_fft1__iter = 0; _ess_battery_inverter_thd_ib_thd_fft1__iter < 84; _ess_battery_inverter_thd_ib_thd_fft1__iter++) {
            _ess_battery_inverter_thd_ib_thd_fft1__real_fft += _ess_battery_inverter_thd_ib_samples_holder[_ess_battery_inverter_thd_ib_thd_fft1__iter] * cos(-2 * M_PI * _ess_battery_inverter_thd_ib_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_ib_thd_fft1__imag_fft += _ess_battery_inverter_thd_ib_samples_holder[_ess_battery_inverter_thd_ib_thd_fft1__iter] * sin(-2 * M_PI * _ess_battery_inverter_thd_ib_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_ib_thd_fft1__rms_total += pow(_ess_battery_inverter_thd_ib_samples_holder[_ess_battery_inverter_thd_ib_thd_fft1__iter], 2);
        }
        if (_ess_battery_inverter_thd_ib_rt2_output__out > 0) {
            _ess_battery_inverter_thd_ib_thd_fft1__rms_fund = (sqrt(_ess_battery_inverter_thd_ib_thd_fft1__real_fft * _ess_battery_inverter_thd_ib_thd_fft1__real_fft + _ess_battery_inverter_thd_ib_thd_fft1__imag_fft * _ess_battery_inverter_thd_ib_thd_fft1__imag_fft) * 2 / 84) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _ess_battery_inverter_thd_ib_thd_fft1__rms_total = sqrt(_ess_battery_inverter_thd_ib_thd_fft1__rms_total / 84);
            if (_ess_battery_inverter_thd_ib_thd_fft1__rms_fund != 0x0) {
                _ess_battery_inverter_thd_ib_thd_fft1__thd = sqrt(fabs((_ess_battery_inverter_thd_ib_thd_fft1__rms_total * _ess_battery_inverter_thd_ib_thd_fft1__rms_total) - (_ess_battery_inverter_thd_ib_thd_fft1__rms_fund * _ess_battery_inverter_thd_ib_thd_fft1__rms_fund))) / _ess_battery_inverter_thd_ib_thd_fft1__rms_fund;
            }
            else
                _ess_battery_inverter_thd_ib_thd_fft1__thd = 0x0;
        }
        else
            _ess_battery_inverter_thd_ib_thd_fft1__thd = 0x0;
        if (_ess_battery_inverter_thd_ib_thd_fft1__ack == 0)
            _ess_battery_inverter_thd_ib_thd_fft1__ack = 1;
        else
            _ess_battery_inverter_thd_ib_thd_fft1__ack = 0;
    }
    // Generated from the component: ESS.Battery inverter.THD Ic.THD_FFT1
    if (_ess_battery_inverter_thd_ic_thd_fft1__syn_old_state != _ess_battery_inverter_thd_ic_rt1_output__out) {
        for(_ess_battery_inverter_thd_ic_thd_fft1__iter = 0; _ess_battery_inverter_thd_ic_thd_fft1__iter < 84; _ess_battery_inverter_thd_ic_thd_fft1__iter++) {
            _ess_battery_inverter_thd_ic_thd_fft1__real_fft += _ess_battery_inverter_thd_ic_samples_holder[_ess_battery_inverter_thd_ic_thd_fft1__iter] * cos(-2 * M_PI * _ess_battery_inverter_thd_ic_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_ic_thd_fft1__imag_fft += _ess_battery_inverter_thd_ic_samples_holder[_ess_battery_inverter_thd_ic_thd_fft1__iter] * sin(-2 * M_PI * _ess_battery_inverter_thd_ic_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_ic_thd_fft1__rms_total += pow(_ess_battery_inverter_thd_ic_samples_holder[_ess_battery_inverter_thd_ic_thd_fft1__iter], 2);
        }
        if (_ess_battery_inverter_thd_ic_rt2_output__out > 0) {
            _ess_battery_inverter_thd_ic_thd_fft1__rms_fund = (sqrt(_ess_battery_inverter_thd_ic_thd_fft1__real_fft * _ess_battery_inverter_thd_ic_thd_fft1__real_fft + _ess_battery_inverter_thd_ic_thd_fft1__imag_fft * _ess_battery_inverter_thd_ic_thd_fft1__imag_fft) * 2 / 84) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _ess_battery_inverter_thd_ic_thd_fft1__rms_total = sqrt(_ess_battery_inverter_thd_ic_thd_fft1__rms_total / 84);
            if (_ess_battery_inverter_thd_ic_thd_fft1__rms_fund != 0x0) {
                _ess_battery_inverter_thd_ic_thd_fft1__thd = sqrt(fabs((_ess_battery_inverter_thd_ic_thd_fft1__rms_total * _ess_battery_inverter_thd_ic_thd_fft1__rms_total) - (_ess_battery_inverter_thd_ic_thd_fft1__rms_fund * _ess_battery_inverter_thd_ic_thd_fft1__rms_fund))) / _ess_battery_inverter_thd_ic_thd_fft1__rms_fund;
            }
            else
                _ess_battery_inverter_thd_ic_thd_fft1__thd = 0x0;
        }
        else
            _ess_battery_inverter_thd_ic_thd_fft1__thd = 0x0;
        if (_ess_battery_inverter_thd_ic_thd_fft1__ack == 0)
            _ess_battery_inverter_thd_ic_thd_fft1__ack = 1;
        else
            _ess_battery_inverter_thd_ic_thd_fft1__ack = 0;
    }
    // Generated from the component: ESS.Battery inverter.THD Va.THD_FFT1
    if (_ess_battery_inverter_thd_va_thd_fft1__syn_old_state != _ess_battery_inverter_thd_va_rt1_output__out) {
        for(_ess_battery_inverter_thd_va_thd_fft1__iter = 0; _ess_battery_inverter_thd_va_thd_fft1__iter < 84; _ess_battery_inverter_thd_va_thd_fft1__iter++) {
            _ess_battery_inverter_thd_va_thd_fft1__real_fft += _ess_battery_inverter_thd_va_samples_holder[_ess_battery_inverter_thd_va_thd_fft1__iter] * cos(-2 * M_PI * _ess_battery_inverter_thd_va_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_va_thd_fft1__imag_fft += _ess_battery_inverter_thd_va_samples_holder[_ess_battery_inverter_thd_va_thd_fft1__iter] * sin(-2 * M_PI * _ess_battery_inverter_thd_va_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_va_thd_fft1__rms_total += pow(_ess_battery_inverter_thd_va_samples_holder[_ess_battery_inverter_thd_va_thd_fft1__iter], 2);
        }
        if (_ess_battery_inverter_thd_va_rt2_output__out > 0) {
            _ess_battery_inverter_thd_va_thd_fft1__rms_fund = (sqrt(_ess_battery_inverter_thd_va_thd_fft1__real_fft * _ess_battery_inverter_thd_va_thd_fft1__real_fft + _ess_battery_inverter_thd_va_thd_fft1__imag_fft * _ess_battery_inverter_thd_va_thd_fft1__imag_fft) * 2 / 84) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _ess_battery_inverter_thd_va_thd_fft1__rms_total = sqrt(_ess_battery_inverter_thd_va_thd_fft1__rms_total / 84);
            if (_ess_battery_inverter_thd_va_thd_fft1__rms_fund != 0x0) {
                _ess_battery_inverter_thd_va_thd_fft1__thd = sqrt(fabs((_ess_battery_inverter_thd_va_thd_fft1__rms_total * _ess_battery_inverter_thd_va_thd_fft1__rms_total) - (_ess_battery_inverter_thd_va_thd_fft1__rms_fund * _ess_battery_inverter_thd_va_thd_fft1__rms_fund))) / _ess_battery_inverter_thd_va_thd_fft1__rms_fund;
            }
            else
                _ess_battery_inverter_thd_va_thd_fft1__thd = 0x0;
        }
        else
            _ess_battery_inverter_thd_va_thd_fft1__thd = 0x0;
        if (_ess_battery_inverter_thd_va_thd_fft1__ack == 0)
            _ess_battery_inverter_thd_va_thd_fft1__ack = 1;
        else
            _ess_battery_inverter_thd_va_thd_fft1__ack = 0;
    }
    // Generated from the component: ESS.Battery inverter.THD Vb.THD_FFT1
    if (_ess_battery_inverter_thd_vb_thd_fft1__syn_old_state != _ess_battery_inverter_thd_vb_rt1_output__out) {
        for(_ess_battery_inverter_thd_vb_thd_fft1__iter = 0; _ess_battery_inverter_thd_vb_thd_fft1__iter < 84; _ess_battery_inverter_thd_vb_thd_fft1__iter++) {
            _ess_battery_inverter_thd_vb_thd_fft1__real_fft += _ess_battery_inverter_thd_vb_samples_holder[_ess_battery_inverter_thd_vb_thd_fft1__iter] * cos(-2 * M_PI * _ess_battery_inverter_thd_vb_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_vb_thd_fft1__imag_fft += _ess_battery_inverter_thd_vb_samples_holder[_ess_battery_inverter_thd_vb_thd_fft1__iter] * sin(-2 * M_PI * _ess_battery_inverter_thd_vb_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_vb_thd_fft1__rms_total += pow(_ess_battery_inverter_thd_vb_samples_holder[_ess_battery_inverter_thd_vb_thd_fft1__iter], 2);
        }
        if (_ess_battery_inverter_thd_vb_rt2_output__out > 0) {
            _ess_battery_inverter_thd_vb_thd_fft1__rms_fund = (sqrt(_ess_battery_inverter_thd_vb_thd_fft1__real_fft * _ess_battery_inverter_thd_vb_thd_fft1__real_fft + _ess_battery_inverter_thd_vb_thd_fft1__imag_fft * _ess_battery_inverter_thd_vb_thd_fft1__imag_fft) * 2 / 84) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _ess_battery_inverter_thd_vb_thd_fft1__rms_total = sqrt(_ess_battery_inverter_thd_vb_thd_fft1__rms_total / 84);
            if (_ess_battery_inverter_thd_vb_thd_fft1__rms_fund != 0x0) {
                _ess_battery_inverter_thd_vb_thd_fft1__thd = sqrt(fabs((_ess_battery_inverter_thd_vb_thd_fft1__rms_total * _ess_battery_inverter_thd_vb_thd_fft1__rms_total) - (_ess_battery_inverter_thd_vb_thd_fft1__rms_fund * _ess_battery_inverter_thd_vb_thd_fft1__rms_fund))) / _ess_battery_inverter_thd_vb_thd_fft1__rms_fund;
            }
            else
                _ess_battery_inverter_thd_vb_thd_fft1__thd = 0x0;
        }
        else
            _ess_battery_inverter_thd_vb_thd_fft1__thd = 0x0;
        if (_ess_battery_inverter_thd_vb_thd_fft1__ack == 0)
            _ess_battery_inverter_thd_vb_thd_fft1__ack = 1;
        else
            _ess_battery_inverter_thd_vb_thd_fft1__ack = 0;
    }
    // Generated from the component: ESS.Battery inverter.THD Vc.THD_FFT1
    if (_ess_battery_inverter_thd_vc_thd_fft1__syn_old_state != _ess_battery_inverter_thd_vc_rt1_output__out) {
        for(_ess_battery_inverter_thd_vc_thd_fft1__iter = 0; _ess_battery_inverter_thd_vc_thd_fft1__iter < 84; _ess_battery_inverter_thd_vc_thd_fft1__iter++) {
            _ess_battery_inverter_thd_vc_thd_fft1__real_fft += _ess_battery_inverter_thd_vc_samples_holder[_ess_battery_inverter_thd_vc_thd_fft1__iter] * cos(-2 * M_PI * _ess_battery_inverter_thd_vc_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_vc_thd_fft1__imag_fft += _ess_battery_inverter_thd_vc_samples_holder[_ess_battery_inverter_thd_vc_thd_fft1__iter] * sin(-2 * M_PI * _ess_battery_inverter_thd_vc_thd_fft1__iter / 84);
            _ess_battery_inverter_thd_vc_thd_fft1__rms_total += pow(_ess_battery_inverter_thd_vc_samples_holder[_ess_battery_inverter_thd_vc_thd_fft1__iter], 2);
        }
        if (_ess_battery_inverter_thd_vc_rt2_output__out > 0) {
            _ess_battery_inverter_thd_vc_thd_fft1__rms_fund = (sqrt(_ess_battery_inverter_thd_vc_thd_fft1__real_fft * _ess_battery_inverter_thd_vc_thd_fft1__real_fft + _ess_battery_inverter_thd_vc_thd_fft1__imag_fft * _ess_battery_inverter_thd_vc_thd_fft1__imag_fft) * 2 / 84) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _ess_battery_inverter_thd_vc_thd_fft1__rms_total = sqrt(_ess_battery_inverter_thd_vc_thd_fft1__rms_total / 84);
            if (_ess_battery_inverter_thd_vc_thd_fft1__rms_fund != 0x0) {
                _ess_battery_inverter_thd_vc_thd_fft1__thd = sqrt(fabs((_ess_battery_inverter_thd_vc_thd_fft1__rms_total * _ess_battery_inverter_thd_vc_thd_fft1__rms_total) - (_ess_battery_inverter_thd_vc_thd_fft1__rms_fund * _ess_battery_inverter_thd_vc_thd_fft1__rms_fund))) / _ess_battery_inverter_thd_vc_thd_fft1__rms_fund;
            }
            else
                _ess_battery_inverter_thd_vc_thd_fft1__thd = 0x0;
        }
        else
            _ess_battery_inverter_thd_vc_thd_fft1__thd = 0x0;
        if (_ess_battery_inverter_thd_vc_thd_fft1__ack == 0)
            _ess_battery_inverter_thd_vc_thd_fft1__ack = 1;
        else
            _ess_battery_inverter_thd_vc_thd_fft1__ack = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.THD_FFT1
    if (_fuel_cell_sofc_inverter_thd_ia_thd_fft1__syn_old_state != _fuel_cell_sofc_inverter_thd_ia_rt1_output__out) {
        for(_fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter = 0; _fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter < 167; _fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter++) {
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__real_fft += _fuel_cell_sofc_inverter_thd_ia_samples_holder[_fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter] * cos(-2 * M_PI * _fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__imag_fft += _fuel_cell_sofc_inverter_thd_ia_samples_holder[_fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter] * sin(-2 * M_PI * _fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total += pow(_fuel_cell_sofc_inverter_thd_ia_samples_holder[_fuel_cell_sofc_inverter_thd_ia_thd_fft1__iter], 2);
        }
        if (_fuel_cell_sofc_inverter_thd_ia_rt2_output__out > 0) {
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund = (sqrt(_fuel_cell_sofc_inverter_thd_ia_thd_fft1__real_fft * _fuel_cell_sofc_inverter_thd_ia_thd_fft1__real_fft + _fuel_cell_sofc_inverter_thd_ia_thd_fft1__imag_fft * _fuel_cell_sofc_inverter_thd_ia_thd_fft1__imag_fft) * 2 / 167) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total = sqrt(_fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total / 167);
            if (_fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund != 0x0) {
                _fuel_cell_sofc_inverter_thd_ia_thd_fft1__thd = sqrt(fabs((_fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total * _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total) - (_fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund * _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund))) / _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund;
            }
            else
                _fuel_cell_sofc_inverter_thd_ia_thd_fft1__thd = 0x0;
        }
        else
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__thd = 0x0;
        if (_fuel_cell_sofc_inverter_thd_ia_thd_fft1__ack == 0)
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__ack = 1;
        else
            _fuel_cell_sofc_inverter_thd_ia_thd_fft1__ack = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.THD_FFT1
    if (_fuel_cell_sofc_inverter_thd_ib_thd_fft1__syn_old_state != _fuel_cell_sofc_inverter_thd_ib_rt1_output__out) {
        for(_fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter = 0; _fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter < 167; _fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter++) {
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__real_fft += _fuel_cell_sofc_inverter_thd_ib_samples_holder[_fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter] * cos(-2 * M_PI * _fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__imag_fft += _fuel_cell_sofc_inverter_thd_ib_samples_holder[_fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter] * sin(-2 * M_PI * _fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total += pow(_fuel_cell_sofc_inverter_thd_ib_samples_holder[_fuel_cell_sofc_inverter_thd_ib_thd_fft1__iter], 2);
        }
        if (_fuel_cell_sofc_inverter_thd_ib_rt2_output__out > 0) {
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund = (sqrt(_fuel_cell_sofc_inverter_thd_ib_thd_fft1__real_fft * _fuel_cell_sofc_inverter_thd_ib_thd_fft1__real_fft + _fuel_cell_sofc_inverter_thd_ib_thd_fft1__imag_fft * _fuel_cell_sofc_inverter_thd_ib_thd_fft1__imag_fft) * 2 / 167) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total = sqrt(_fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total / 167);
            if (_fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund != 0x0) {
                _fuel_cell_sofc_inverter_thd_ib_thd_fft1__thd = sqrt(fabs((_fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total * _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total) - (_fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund * _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund))) / _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund;
            }
            else
                _fuel_cell_sofc_inverter_thd_ib_thd_fft1__thd = 0x0;
        }
        else
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__thd = 0x0;
        if (_fuel_cell_sofc_inverter_thd_ib_thd_fft1__ack == 0)
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__ack = 1;
        else
            _fuel_cell_sofc_inverter_thd_ib_thd_fft1__ack = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.THD_FFT1
    if (_fuel_cell_sofc_inverter_thd_ic_thd_fft1__syn_old_state != _fuel_cell_sofc_inverter_thd_ic_rt1_output__out) {
        for(_fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter = 0; _fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter < 167; _fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter++) {
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__real_fft += _fuel_cell_sofc_inverter_thd_ic_samples_holder[_fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter] * cos(-2 * M_PI * _fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__imag_fft += _fuel_cell_sofc_inverter_thd_ic_samples_holder[_fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter] * sin(-2 * M_PI * _fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total += pow(_fuel_cell_sofc_inverter_thd_ic_samples_holder[_fuel_cell_sofc_inverter_thd_ic_thd_fft1__iter], 2);
        }
        if (_fuel_cell_sofc_inverter_thd_ic_rt2_output__out > 0) {
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund = (sqrt(_fuel_cell_sofc_inverter_thd_ic_thd_fft1__real_fft * _fuel_cell_sofc_inverter_thd_ic_thd_fft1__real_fft + _fuel_cell_sofc_inverter_thd_ic_thd_fft1__imag_fft * _fuel_cell_sofc_inverter_thd_ic_thd_fft1__imag_fft) * 2 / 167) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total = sqrt(_fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total / 167);
            if (_fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund != 0x0) {
                _fuel_cell_sofc_inverter_thd_ic_thd_fft1__thd = sqrt(fabs((_fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total * _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total) - (_fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund * _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund))) / _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund;
            }
            else
                _fuel_cell_sofc_inverter_thd_ic_thd_fft1__thd = 0x0;
        }
        else
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__thd = 0x0;
        if (_fuel_cell_sofc_inverter_thd_ic_thd_fft1__ack == 0)
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__ack = 1;
        else
            _fuel_cell_sofc_inverter_thd_ic_thd_fft1__ack = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.THD_FFT1
    if (_fuel_cell_sofc_inverter_thd_va_thd_fft1__syn_old_state != _fuel_cell_sofc_inverter_thd_va_rt1_output__out) {
        for(_fuel_cell_sofc_inverter_thd_va_thd_fft1__iter = 0; _fuel_cell_sofc_inverter_thd_va_thd_fft1__iter < 167; _fuel_cell_sofc_inverter_thd_va_thd_fft1__iter++) {
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__real_fft += _fuel_cell_sofc_inverter_thd_va_samples_holder[_fuel_cell_sofc_inverter_thd_va_thd_fft1__iter] * cos(-2 * M_PI * _fuel_cell_sofc_inverter_thd_va_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__imag_fft += _fuel_cell_sofc_inverter_thd_va_samples_holder[_fuel_cell_sofc_inverter_thd_va_thd_fft1__iter] * sin(-2 * M_PI * _fuel_cell_sofc_inverter_thd_va_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total += pow(_fuel_cell_sofc_inverter_thd_va_samples_holder[_fuel_cell_sofc_inverter_thd_va_thd_fft1__iter], 2);
        }
        if (_fuel_cell_sofc_inverter_thd_va_rt2_output__out > 0) {
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund = (sqrt(_fuel_cell_sofc_inverter_thd_va_thd_fft1__real_fft * _fuel_cell_sofc_inverter_thd_va_thd_fft1__real_fft + _fuel_cell_sofc_inverter_thd_va_thd_fft1__imag_fft * _fuel_cell_sofc_inverter_thd_va_thd_fft1__imag_fft) * 2 / 167) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total = sqrt(_fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total / 167);
            if (_fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund != 0x0) {
                _fuel_cell_sofc_inverter_thd_va_thd_fft1__thd = sqrt(fabs((_fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total * _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total) - (_fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund * _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund))) / _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund;
            }
            else
                _fuel_cell_sofc_inverter_thd_va_thd_fft1__thd = 0x0;
        }
        else
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__thd = 0x0;
        if (_fuel_cell_sofc_inverter_thd_va_thd_fft1__ack == 0)
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__ack = 1;
        else
            _fuel_cell_sofc_inverter_thd_va_thd_fft1__ack = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.THD_FFT1
    if (_fuel_cell_sofc_inverter_thd_vb_thd_fft1__syn_old_state != _fuel_cell_sofc_inverter_thd_vb_rt1_output__out) {
        for(_fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter = 0; _fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter < 167; _fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter++) {
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__real_fft += _fuel_cell_sofc_inverter_thd_vb_samples_holder[_fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter] * cos(-2 * M_PI * _fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__imag_fft += _fuel_cell_sofc_inverter_thd_vb_samples_holder[_fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter] * sin(-2 * M_PI * _fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total += pow(_fuel_cell_sofc_inverter_thd_vb_samples_holder[_fuel_cell_sofc_inverter_thd_vb_thd_fft1__iter], 2);
        }
        if (_fuel_cell_sofc_inverter_thd_vb_rt2_output__out > 0) {
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund = (sqrt(_fuel_cell_sofc_inverter_thd_vb_thd_fft1__real_fft * _fuel_cell_sofc_inverter_thd_vb_thd_fft1__real_fft + _fuel_cell_sofc_inverter_thd_vb_thd_fft1__imag_fft * _fuel_cell_sofc_inverter_thd_vb_thd_fft1__imag_fft) * 2 / 167) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total = sqrt(_fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total / 167);
            if (_fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund != 0x0) {
                _fuel_cell_sofc_inverter_thd_vb_thd_fft1__thd = sqrt(fabs((_fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total * _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total) - (_fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund * _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund))) / _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund;
            }
            else
                _fuel_cell_sofc_inverter_thd_vb_thd_fft1__thd = 0x0;
        }
        else
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__thd = 0x0;
        if (_fuel_cell_sofc_inverter_thd_vb_thd_fft1__ack == 0)
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__ack = 1;
        else
            _fuel_cell_sofc_inverter_thd_vb_thd_fft1__ack = 0;
    }
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.THD_FFT1
    if (_fuel_cell_sofc_inverter_thd_vc_thd_fft1__syn_old_state != _fuel_cell_sofc_inverter_thd_vc_rt1_output__out) {
        for(_fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter = 0; _fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter < 167; _fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter++) {
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__real_fft += _fuel_cell_sofc_inverter_thd_vc_samples_holder[_fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter] * cos(-2 * M_PI * _fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__imag_fft += _fuel_cell_sofc_inverter_thd_vc_samples_holder[_fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter] * sin(-2 * M_PI * _fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter / 167);
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total += pow(_fuel_cell_sofc_inverter_thd_vc_samples_holder[_fuel_cell_sofc_inverter_thd_vc_thd_fft1__iter], 2);
        }
        if (_fuel_cell_sofc_inverter_thd_vc_rt2_output__out > 0) {
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund = (sqrt(_fuel_cell_sofc_inverter_thd_vc_thd_fft1__real_fft * _fuel_cell_sofc_inverter_thd_vc_thd_fft1__real_fft + _fuel_cell_sofc_inverter_thd_vc_thd_fft1__imag_fft * _fuel_cell_sofc_inverter_thd_vc_thd_fft1__imag_fft) * 2 / 167) / sqrt(2); //with last sqrt(2) getting rms value from amplitude
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total = sqrt(_fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total / 167);
            if (_fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund != 0x0) {
                _fuel_cell_sofc_inverter_thd_vc_thd_fft1__thd = sqrt(fabs((_fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total * _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total) - (_fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund * _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund))) / _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund;
            }
            else
                _fuel_cell_sofc_inverter_thd_vc_thd_fft1__thd = 0x0;
        }
        else
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__thd = 0x0;
        if (_fuel_cell_sofc_inverter_thd_vc_thd_fft1__ack == 0)
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__ack = 1;
        else
            _fuel_cell_sofc_inverter_thd_vc_thd_fft1__ack = 0;
    }
    // Generated from the component: ESS.Battery inverter.THD Ia.RT3.Input
    _ess_battery_inverter_thd_ia_rt3_output__out = _ess_battery_inverter_thd_ia_thd_fft1__ack;
    // Generated from the component: ESS.Battery inverter.THD Ia.RT4.Input
    _ess_battery_inverter_thd_ia_rt4_output__out = _ess_battery_inverter_thd_ia_thd_fft1__thd;
    // Generated from the component: ESS.Battery inverter.THD Ib.RT3.Input
    _ess_battery_inverter_thd_ib_rt3_output__out = _ess_battery_inverter_thd_ib_thd_fft1__ack;
    // Generated from the component: ESS.Battery inverter.THD Ib.RT4.Input
    _ess_battery_inverter_thd_ib_rt4_output__out = _ess_battery_inverter_thd_ib_thd_fft1__thd;
    // Generated from the component: ESS.Battery inverter.THD Ic.RT3.Input
    _ess_battery_inverter_thd_ic_rt3_output__out = _ess_battery_inverter_thd_ic_thd_fft1__ack;
    // Generated from the component: ESS.Battery inverter.THD Ic.RT4.Input
    _ess_battery_inverter_thd_ic_rt4_output__out = _ess_battery_inverter_thd_ic_thd_fft1__thd;
    // Generated from the component: ESS.Battery inverter.THD Va.RT3.Input
    _ess_battery_inverter_thd_va_rt3_output__out = _ess_battery_inverter_thd_va_thd_fft1__ack;
    // Generated from the component: ESS.Battery inverter.THD Va.RT4.Input
    _ess_battery_inverter_thd_va_rt4_output__out = _ess_battery_inverter_thd_va_thd_fft1__thd;
    // Generated from the component: ESS.Battery inverter.THD Vb.RT3.Input
    _ess_battery_inverter_thd_vb_rt3_output__out = _ess_battery_inverter_thd_vb_thd_fft1__ack;
    // Generated from the component: ESS.Battery inverter.THD Vb.RT4.Input
    _ess_battery_inverter_thd_vb_rt4_output__out = _ess_battery_inverter_thd_vb_thd_fft1__thd;
    // Generated from the component: ESS.Battery inverter.THD Vc.RT3.Input
    _ess_battery_inverter_thd_vc_rt3_output__out = _ess_battery_inverter_thd_vc_thd_fft1__ack;
    // Generated from the component: ESS.Battery inverter.THD Vc.RT4.Input
    _ess_battery_inverter_thd_vc_rt4_output__out = _ess_battery_inverter_thd_vc_thd_fft1__thd;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT3.Input
    _fuel_cell_sofc_inverter_thd_ia_rt3_output__out = _fuel_cell_sofc_inverter_thd_ia_thd_fft1__ack;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.RT4.Input
    _fuel_cell_sofc_inverter_thd_ia_rt4_output__out = _fuel_cell_sofc_inverter_thd_ia_thd_fft1__thd;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT3.Input
    _fuel_cell_sofc_inverter_thd_ib_rt3_output__out = _fuel_cell_sofc_inverter_thd_ib_thd_fft1__ack;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.RT4.Input
    _fuel_cell_sofc_inverter_thd_ib_rt4_output__out = _fuel_cell_sofc_inverter_thd_ib_thd_fft1__thd;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT3.Input
    _fuel_cell_sofc_inverter_thd_ic_rt3_output__out = _fuel_cell_sofc_inverter_thd_ic_thd_fft1__ack;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.RT4.Input
    _fuel_cell_sofc_inverter_thd_ic_rt4_output__out = _fuel_cell_sofc_inverter_thd_ic_thd_fft1__thd;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT3.Input
    _fuel_cell_sofc_inverter_thd_va_rt3_output__out = _fuel_cell_sofc_inverter_thd_va_thd_fft1__ack;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.RT4.Input
    _fuel_cell_sofc_inverter_thd_va_rt4_output__out = _fuel_cell_sofc_inverter_thd_va_thd_fft1__thd;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT3.Input
    _fuel_cell_sofc_inverter_thd_vb_rt3_output__out = _fuel_cell_sofc_inverter_thd_vb_thd_fft1__ack;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.RT4.Input
    _fuel_cell_sofc_inverter_thd_vb_rt4_output__out = _fuel_cell_sofc_inverter_thd_vb_thd_fft1__thd;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT3.Input
    _fuel_cell_sofc_inverter_thd_vc_rt3_output__out = _fuel_cell_sofc_inverter_thd_vc_thd_fft1__ack;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.RT4.Input
    _fuel_cell_sofc_inverter_thd_vc_rt4_output__out = _fuel_cell_sofc_inverter_thd_vc_thd_fft1__thd;
    //@cmp.out.block.end
    //////////////////////////////////////////////////////////////////////////
    // Update block
    //////////////////////////////////////////////////////////////////////////
    //@cmp.update.block.start
    // Generated from the component: ESS.Battery inverter.THD Ia.THD_FFT1
    _ess_battery_inverter_thd_ia_thd_fft1__syn_old_state = _ess_battery_inverter_thd_ia_rt1_output__out;
    _ess_battery_inverter_thd_ia_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_ia_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_ia_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_ia_thd_fft1__rms_fund = 0x0;
    // Generated from the component: ESS.Battery inverter.THD Ib.THD_FFT1
    _ess_battery_inverter_thd_ib_thd_fft1__syn_old_state = _ess_battery_inverter_thd_ib_rt1_output__out;
    _ess_battery_inverter_thd_ib_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_ib_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_ib_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_ib_thd_fft1__rms_fund = 0x0;
    // Generated from the component: ESS.Battery inverter.THD Ic.THD_FFT1
    _ess_battery_inverter_thd_ic_thd_fft1__syn_old_state = _ess_battery_inverter_thd_ic_rt1_output__out;
    _ess_battery_inverter_thd_ic_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_ic_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_ic_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_ic_thd_fft1__rms_fund = 0x0;
    // Generated from the component: ESS.Battery inverter.THD Va.THD_FFT1
    _ess_battery_inverter_thd_va_thd_fft1__syn_old_state = _ess_battery_inverter_thd_va_rt1_output__out;
    _ess_battery_inverter_thd_va_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_va_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_va_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_va_thd_fft1__rms_fund = 0x0;
    // Generated from the component: ESS.Battery inverter.THD Vb.THD_FFT1
    _ess_battery_inverter_thd_vb_thd_fft1__syn_old_state = _ess_battery_inverter_thd_vb_rt1_output__out;
    _ess_battery_inverter_thd_vb_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_vb_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_vb_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_vb_thd_fft1__rms_fund = 0x0;
    // Generated from the component: ESS.Battery inverter.THD Vc.THD_FFT1
    _ess_battery_inverter_thd_vc_thd_fft1__syn_old_state = _ess_battery_inverter_thd_vc_rt1_output__out;
    _ess_battery_inverter_thd_vc_thd_fft1__real_fft = 0x0;
    _ess_battery_inverter_thd_vc_thd_fft1__imag_fft = 0x0;
    _ess_battery_inverter_thd_vc_thd_fft1__rms_total = 0x0;
    _ess_battery_inverter_thd_vc_thd_fft1__rms_fund = 0x0;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ia.THD_FFT1
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__syn_old_state = _fuel_cell_sofc_inverter_thd_ia_rt1_output__out;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_ia_thd_fft1__rms_fund = 0x0;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ib.THD_FFT1
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__syn_old_state = _fuel_cell_sofc_inverter_thd_ib_rt1_output__out;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_ib_thd_fft1__rms_fund = 0x0;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Ic.THD_FFT1
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__syn_old_state = _fuel_cell_sofc_inverter_thd_ic_rt1_output__out;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_ic_thd_fft1__rms_fund = 0x0;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Va.THD_FFT1
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__syn_old_state = _fuel_cell_sofc_inverter_thd_va_rt1_output__out;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_va_thd_fft1__rms_fund = 0x0;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vb.THD_FFT1
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__syn_old_state = _fuel_cell_sofc_inverter_thd_vb_rt1_output__out;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_vb_thd_fft1__rms_fund = 0x0;
    // Generated from the component: Fuel_Cell.SOFC inverter.THD Vc.THD_FFT1
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__syn_old_state = _fuel_cell_sofc_inverter_thd_vc_rt1_output__out;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__real_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__imag_fft = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_total = 0x0;
    _fuel_cell_sofc_inverter_thd_vc_thd_fft1__rms_fund = 0x0;
    //@cmp.update.block.end
}
// ----------------------------------------------------------------------------------------  //-----------------------------------------------------------------------------------------